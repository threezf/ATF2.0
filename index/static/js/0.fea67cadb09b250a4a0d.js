(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{"+8oR":function(e,t,a){},"+orw":function(e,t,a){"use strict";var s=a("8EWz"),l=a.n(s),n=a("gZsn"),o=a("JFUb");var i=function(e){a("RAoU")};Object(o.a)(l.a,n.a,n.b,!1,i,"data-v-09e68619",null).exports},"+zM+":function(e,t,a){},"/hik":function(e,t,a){},"1BWg":function(e,t,a){},"40O6":function(e,t,a){},"6ADj":function(e,t,a){},"8Dfh":function(e,t,a){},"8EWz":function(e,t){},"9b70":function(e,t,a){},A0I5:function(e,t,a){},ABGj:function(e,t,a){"use strict";(function(e){var s,l=a("lSNA"),n=a.n(l),o=a("RIqP"),i=a.n(o),r=a("xnyg"),c=a("Vc7Q");t.a={filters:{changeTime:function(e){return r.TimeUtils.timestampToTime(e,"yyyy-MM-dd hh:mm:ss")}},data:function(){return{Vac:c.a,verifyId:r.SessionStorage.get("unigroupuid"),rtx:r.SessionStorage.get("unigrouprtx"),componentAppId:"wx1ec08a99274a048d",address4:"http://140.143.16.21:8080/"}},methods:(s={transTime:function(e,t,a){return r.TimeUtils.timestampToTime(a,"yyyy-MM-dd hh:mm:ss")},setBackground:function(){var t=e("input.check-case");this.$nextTick((function(){e.each(t,(function(t,a){a.checked?(e(a).parents(".case-header").css({"border-color":"rgb(69, 185, 177)"}),e(a).parents(".case-header").css({"background-color":"rgb(69, 185, 177)"}),e("p",e(a).parents(".case-header")).css({color:"#fff"})):(e(a).parents(".case-header").css({"border-color":"#ddd5d5"}),e(a).parents(".case-header").css({"background-color":"#fff"}),e("p",e(a).parents(".case-header")).css({color:"#797979"}))}))}))},setSelect:function(t){var a=this;if(!t.target.classList.contains("handle")){var s=document.querySelector(".main-content"),l=document.querySelectorAll(".case .check-case"),n=t.offsetX+c.a.getOffsetTo(t.target,s).offsetLeft,o=t.offsetY+c.a.getOffsetTo(t.target,s).offsetTop,r=t.pageX,d=t.pageY,u=document.createElement("div");u.style.cssText="position:absolute;width:0px;height:0px;\n            font-size:0px;margin:0px;padding:0px;border:1px dashed #0099FF;\n            background-color:#C3D5ED;z-index:1000;filter:alpha(opacity:60);\n            opacity:0.6;display:none;",u.id="selectDiv",document.querySelector(".main-content").appendChild(u),u.style.left=n+"px",u.style.top=o+"px";var m=null,p=null,h=null,f=null;t.stopPropagation(),t.preventDefault();var v=[],g=function(t){"none"==u.style.display&&(u.style.display="block");h=t.pageX,f=t.pageY,m=n-r+h,p=o-d+f,u.style.left=Math.min(m,n)+"px",u.style.top=Math.min(p,o)+"px",u.style.width=Math.abs(m-n)+"px",u.style.height=Math.abs(p-o)+"px";for(var g=u.offsetLeft,b=u.offsetTop,y=u.offsetWidth+g,_=u.offsetHeight+b,w=0;w<l.length;w++){var C=c.a.getOffsetTo(l[w],s).offsetLeft,I=c.a.getOffsetTo(l[w],s).offsetTop,x=C+l[w].offsetWidth;(S=I+l[w].offsetHeight)<_&&I>b&&C>g&&x<y&&v.push(l[w])}for(w=0;w<v.length;w++){C=c.a.getOffsetTo(v[w],s).offsetLeft,I=c.a.getOffsetTo(v[w],s).offsetTop,x=C+v[w].offsetWidth;var S=I+v[w].offsetHeight,k=v[w].value;if(S<_&&I>b&&C>g&&x<y)e(v[w]).hasClass("single-case")?a.pushNoRepeat(a.selectedCases,+k):a.pushNoRepeat(a.checkedFlowNodes,+k);else if(e(v[w]).hasClass("single-case")){var T=new Set(a.selectedCases);T.delete(+k),a.selectedCases=i()(T)}else{var F=new Set(a.checkedFlowNodes);F.delete(+k),a.checkedFlowNodes=i()(F)}a.setBackground()}t.stopPropagation(),t.preventDefault()};s.addEventListener("mousemove",g,!1),s.addEventListener("mouseup",(function(e){u&&document.querySelector(".main-content").removeChild(u),s.removeEventListener("mousemove",g,!1),u=null}),!1)}},setSelectListener:function(){},pushNoRepeat:function(e,t){e.includes(t)||e.push(t)},checkChanged:function(e){var t=e.target.parentNode.parentNode.parentNode,a=+t.parentNode.querySelector(".checkall").value;if(Array.from(t.querySelectorAll(".check-case")).every((function(e){return!0===e.checked})))this.selectedCases.push(a);else{var s=new Set(this.selectedCases);s.delete(a),this.selectedCases=i()(s)}this.setBackground()},checkallToggle:function(e){var t=e.target.checked,a=e.target.parentNode.parentNode.parentNode.getElementsByClassName("check-case");if(t){var s=!0,l=!1,n=void 0;try{for(var o,r=a[Symbol.iterator]();!(s=(o=r.next()).done);s=!0){var c=o.value;this.checkedFlowNodes.includes(+c.value)||this.checkedFlowNodes.push(+c.value)}}catch(e){l=!0,n=e}finally{try{s||null==r.return||r.return()}finally{if(l)throw n}}}else{var d=!0,u=!1,m=void 0;try{for(var p,h=a[Symbol.iterator]();!(d=(p=h.next()).done);d=!0){c=p.value;var f=new Set(this.checkedFlowNodes),v=+c.value;f.has(v)&&f.delete(v),this.checkedFlowNodes=i()(f)}}catch(e){u=!0,m=e}finally{try{d||null==h.return||h.return()}finally{if(u)throw m}}}this.setBackground()},checkallBox:function(e){var t=this;!0===this.checkall?this.caseIds.forEach((function(e){t.selectedCases.includes(e)||t.selectedCases.push(e),!t.flowNodeIds.has(+e)||(t.checkedFlowNodes=[].concat(i()(t.checkedFlowNodes),i()(t.flowNodeIds.get(+e))))})):(this.selectedCases=[],this.checkedFlowNodes=[]),this.setBackground()},checkAllInScene:function(e){for(var t=e.target.checked,a=0,s=Array.from(e.target.parentNode.parentNode.querySelectorAll("input[type=checkbox]"));a<s.length;a++){var l=s[a];l.checked=t,!0===t?c.a.pushNoRepeat(this.selectedSceneCases,l.value):!(this.selectedSceneCases.indexOf(l.value)>=0)||this.selectedSceneCases.splice(this.selectedSceneCases.indexOf(l.value),1)}this.setBackground()},checkAllFlowNodes:function(e){var t=this,a=e.target.checked,s=e.target.parentNode.parentNode.parentNode,l=s.parentNode.parentNode,n=Array.from(s.querySelectorAll(".check-case"));if(!0===a){var o=!0,r=!1,d=void 0;try{for(var u,m=n[Symbol.iterator]();!(o=(u=m.next()).done);o=!0){var p=u.value;c.a.pushNoRepeat(this.selectedSceneCases,p.value)}}catch(e){r=!0,d=e}finally{try{o||null==m.return||m.return()}finally{if(r)throw d}}Array.from(l.querySelectorAll(".check-flownodes")).every((function(e){return t.selectedSceneCases.includes(e.value)}))&&(l.querySelector(".checkall-inscene").checked=!0,this.checkallSceneIds.push(+l.querySelector(".checkall-inscene").value))}else{var h=!0,f=!1,v=void 0;try{for(var g,b=n[Symbol.iterator]();!(h=(g=b.next()).done);h=!0){var y=g.value;!this.selectedSceneCases.includes(y.value)||this.selectedSceneCases.splice(this.selectedSceneCases.indexOf(y.value),1)}}catch(e){f=!0,v=e}finally{try{h||null==b.return||b.return()}finally{if(f)throw v}}var _=l.querySelector(".checkall-inscene").value;l.querySelector(".checkall-inscene").checked=!1;var w=new Set(this.checkallSceneIds);!w.has(+_)||w.delete(+_),this.checkallSceneIds=i()(w)}s=null,n=null,l=null,this.setBackground()},checkFlowNode:function(e){var t=this,a=e.target.checked,s=e.target.parentNode.parentNode,l=s.parentNode.parentNode,n=s.parentNode.querySelector(".check-flownodes").value;if(a){var o=i()(s.querySelectorAll(".check-case"));if(o.every((function(e){return t.selectedSceneCases.includes(e.value)}))){if(c.a.pushNoRepeat(this.selectedSceneCases,n),i()(l.querySelectorAll(".check-flownodes")).every((function(e){return t.selectedSceneCases.includes(e.value)})))l.querySelector(".checkall-inscene").checked=!0,this.checkallSceneIds.push(+l.querySelector(".checkall-inscene").value);else{l.querySelector(".checkall-inscene").checked=!1;var r=l.querySelector(".checkall-inscene").value,d=new Set(this.checkallSceneIds);!d.has(+r)||d.delete(+r),this.checkallSceneIds=i()(d)}}else{this.selectedSceneCases.includes(n)&&this.selectedSceneCases.splice(this.selectedSceneCases.indexOf(n),1),l.querySelector(".checkall-inscene").checked=!1;var u=l.querySelector(".checkall-inscene").value,m=new Set(this.checkallSceneIds);!m.has(+u)||m.delete(+u),this.checkallSceneIds=i()(m)}o=null}else{this.selectedSceneCases.includes(n)&&this.selectedSceneCases.splice(this.selectedSceneCases.indexOf(n),1),l.querySelector(".checkall-inscene").checked=!1;var p=l.querySelector(".checkall-inscene").value,h=new Set(this.checkallSceneIds);!h.has(+p)||h.delete(+p),this.checkallSceneIds=i()(h)}l=null,s=null,this.setBackground()}},n()(s,"setSelect",(function(t){var a=this,s=t.target;if(!s.classList.contains("handle1")&&!s.classList.contains("handle")){var l=document.querySelector(".main-content2"),n=document.querySelectorAll(".case .check-case"),o=t.offsetX+c.a.getOffsetTo(t.target,l).offsetLeft,r=t.offsetY+c.a.getOffsetTo(t.target,l).offsetTop,d=t.pageX,u=t.pageY,m=document.createElement("div");m.style.cssText="position:absolute;width:0px;height:0px;\n            font-size:0px;margin:0px;padding:0px;border:1px dashed #0099FF;\n            background-color:#C3D5ED;z-index:1000;filter:alpha(opacity:60);\n            opacity:0.6;display:none;",m.id="selectDiv",l.appendChild(m),m.style.left=o+"px",m.style.top=r+"px";var p=null,h=null,f=null,v=null;t.stopPropagation(),t.preventDefault();var g=[],b=function(t){"none"==m.style.display&&(m.style.display="block");f=t.pageX,v=t.pageY,p=o-d+f,h=r-u+v,m.style.left=Math.min(p,o)+"px",m.style.top=Math.min(h,r)+"px",m.style.width=Math.abs(p-o)+"px",m.style.height=Math.abs(h-r)+"px";for(var s=m.offsetLeft,b=m.offsetTop,y=m.offsetWidth+s,_=m.offsetHeight+b,w=0;w<n.length;w++){var C=c.a.getOffsetTo(n[w],l).offsetLeft,I=c.a.getOffsetTo(n[w],l).offsetTop,x=C+n[w].offsetWidth;(S=I+n[w].offsetHeight)<_&&I>b&&C>s&&x<y&&c.a.pushNoRepeat(g,n[w])}for(w=0;w<g.length;w++){C=c.a.getOffsetTo(g[w],l).offsetLeft,I=c.a.getOffsetTo(g[w],l).offsetTop,x=C+g[w].offsetWidth;var S=I+g[w].offsetHeight,k=g[w].value;if(x>s&&S>b&&C<y&&I<_)e(g[w]).hasClass("single-case-incaselib")?c.a.pushNoRepeat(a.selectedCases,+k):e(g[w]).hasClass("flow-node-incaselib")?c.a.pushNoRepeat(a.checkedFlowNodes,+k):c.a.pushNoRepeat(a.selectedSceneCases,k);else if(e(g[w]).hasClass("single-case-incaselib")){var T=new Set(a.selectedCases);T.delete(+k),a.selectedCases=i()(T)}else if(e(g[w]).hasClass("flow-node-incaselib")){var F=new Set(a.checkedFlowNodes);F.delete(+k),a.checkedFlowNodes=i()(F)}else{var P=new Set(a.selectedSceneCases);P.delete(k),a.selectedSceneCases=i()(P)}a.setBackground()}t.stopPropagation(),t.preventDefault()};l.addEventListener("mousemove",b,!1),l.addEventListener("mouseup",(function(e){m&&l.removeChild(m),l.removeEventListener("mousemove",b,!1),m=null;var t=!0,s=!1,n=void 0;try{for(var o,r=a.sceneIds[Symbol.iterator]();!(t=(o=r.next()).done);t=!0){var d=o.value;if(a.sceneCaseMap.get(d).every((function(e){return a.selectedSceneCases.includes(e)})))c.a.pushNoRepeat(a.checkallSceneIds,d);else if(a.checkallSceneIds.includes(d)){var u=new Set(a.checkallSceneIds);u.delete(d),a.checkallSceneIds=i()(u)}}}catch(e){s=!0,n=e}finally{try{t||null==r.return||r.return()}finally{if(s)throw n}}var p=!0,h=!1,f=void 0;try{for(var v,g=a.sceneCaseIds[Symbol.iterator]();!(p=(v=g.next()).done);p=!0){var y=v.value;if(a.flowNodesMap.get(y).every((function(e){return a.selectedSceneCases.includes(e)})))c.a.pushNoRepeat(a.selectedSceneCases,y);else if(a.selectedSceneCases.includes(y)){var _=new Set(a.selectedSceneCases);_.delete(y),a.selectedSceneCases=i()(_)}}}catch(e){h=!0,f=e}finally{try{p||null==g.return||g.return()}finally{if(h)throw f}}}),!1)}})),n()(s,"setSelectListener",(function(){document.querySelector(".main-content2").addEventListener("mousedown",this.setSelect,!1)})),s)}}).call(this,a("+2Rf"))},Ayd6:function(e,t,a){},CCsD:function(e,t,a){},CegM:function(e,t,a){},CvBV:function(e,t,a){},DQMu:function(e,t,a){},EO60:function(e,t,a){},GHZk:function(e,t,a){},HXIv:function(e,t,a){},I64C:function(e,t,a){},IgD7:function(e,t,a){},It8J:function(e,t,a){},Ivb1:function(e,t,a){},LzAU:function(e,t,a){},ONCa:function(e,t,a){},PpDn:function(e,t,a){},PvEC:function(e,t,a){},Pz87:function(e,t,a){},RAoU:function(e,t,a){},RFCQ:function(e,t,a){},RX7Q:function(e,t,a){},RnhZ:function(e,t,a){var s={"./af":"K/tc","./af.js":"K/tc","./ar":"jnO4","./ar-dz":"o1bE","./ar-dz.js":"o1bE","./ar-kw":"Qj4J","./ar-kw.js":"Qj4J","./ar-ly":"HP3h","./ar-ly.js":"HP3h","./ar-ma":"CoRJ","./ar-ma.js":"CoRJ","./ar-sa":"gjCT","./ar-sa.js":"gjCT","./ar-tn":"bYM6","./ar-tn.js":"bYM6","./ar.js":"jnO4","./az":"SFxW","./az.js":"SFxW","./be":"H8ED","./be.js":"H8ED","./bg":"hKrs","./bg.js":"hKrs","./bm":"p/rL","./bm.js":"p/rL","./bn":"kEOa","./bn.js":"kEOa","./bo":"0mo+","./bo.js":"0mo+","./br":"aIdf","./br.js":"aIdf","./bs":"JVSJ","./bs.js":"JVSJ","./ca":"1xZ4","./ca.js":"1xZ4","./cs":"PA2r","./cs.js":"PA2r","./cv":"A+xa","./cv.js":"A+xa","./cy":"l5ep","./cy.js":"l5ep","./da":"DxQv","./da.js":"DxQv","./de":"tGlX","./de-at":"s+uk","./de-at.js":"s+uk","./de-ch":"u3GI","./de-ch.js":"u3GI","./de.js":"tGlX","./dv":"WYrj","./dv.js":"WYrj","./el":"jUeY","./el.js":"jUeY","./en-SG":"zavE","./en-SG.js":"zavE","./en-au":"Dmvi","./en-au.js":"Dmvi","./en-ca":"OIYi","./en-ca.js":"OIYi","./en-gb":"Oaa7","./en-gb.js":"Oaa7","./en-ie":"4dOw","./en-ie.js":"4dOw","./en-il":"czMo","./en-il.js":"czMo","./en-nz":"b1Dy","./en-nz.js":"b1Dy","./eo":"Zduo","./eo.js":"Zduo","./es":"iYuL","./es-do":"CjzT","./es-do.js":"CjzT","./es-us":"Vclq","./es-us.js":"Vclq","./es.js":"iYuL","./et":"7BjC","./et.js":"7BjC","./eu":"D/JM","./eu.js":"D/JM","./fa":"jfSC","./fa.js":"jfSC","./fi":"gekB","./fi.js":"gekB","./fo":"ByF4","./fo.js":"ByF4","./fr":"nyYc","./fr-ca":"2fjn","./fr-ca.js":"2fjn","./fr-ch":"Dkky","./fr-ch.js":"Dkky","./fr.js":"nyYc","./fy":"cRix","./fy.js":"cRix","./ga":"USCx","./ga.js":"USCx","./gd":"9rRi","./gd.js":"9rRi","./gl":"iEDd","./gl.js":"iEDd","./gom-latn":"DKr+","./gom-latn.js":"DKr+","./gu":"4MV3","./gu.js":"4MV3","./he":"x6pH","./he.js":"x6pH","./hi":"3E1r","./hi.js":"3E1r","./hr":"S6ln","./hr.js":"S6ln","./hu":"WxRl","./hu.js":"WxRl","./hy-am":"1rYy","./hy-am.js":"1rYy","./id":"UDhR","./id.js":"UDhR","./is":"BVg3","./is.js":"BVg3","./it":"bpih","./it-ch":"bxKX","./it-ch.js":"bxKX","./it.js":"bpih","./ja":"B55N","./ja.js":"B55N","./jv":"tUCv","./jv.js":"tUCv","./ka":"IBtZ","./ka.js":"IBtZ","./kk":"bXm7","./kk.js":"bXm7","./km":"6B0Y","./km.js":"6B0Y","./kn":"PpIw","./kn.js":"PpIw","./ko":"Ivi+","./ko.js":"Ivi+","./ku":"JCF/","./ku.js":"JCF/","./ky":"lgnt","./ky.js":"lgnt","./lb":"RAwQ","./lb.js":"RAwQ","./lo":"sp3z","./lo.js":"sp3z","./lt":"JvlW","./lt.js":"JvlW","./lv":"uXwI","./lv.js":"uXwI","./me":"KTz0","./me.js":"KTz0","./mi":"aIsn","./mi.js":"aIsn","./mk":"aQkU","./mk.js":"aQkU","./ml":"AvvY","./ml.js":"AvvY","./mn":"lYtQ","./mn.js":"lYtQ","./mr":"Ob0Z","./mr.js":"Ob0Z","./ms":"6+QB","./ms-my":"ZAMP","./ms-my.js":"ZAMP","./ms.js":"6+QB","./mt":"G0Uy","./mt.js":"G0Uy","./my":"honF","./my.js":"honF","./nb":"bOMt","./nb.js":"bOMt","./ne":"OjkT","./ne.js":"OjkT","./nl":"+s0g","./nl-be":"2ykv","./nl-be.js":"2ykv","./nl.js":"+s0g","./nn":"uEye","./nn.js":"uEye","./pa-in":"8/+R","./pa-in.js":"8/+R","./pl":"jVdC","./pl.js":"jVdC","./pt":"8mBD","./pt-br":"0tRk","./pt-br.js":"0tRk","./pt.js":"8mBD","./ro":"lyxo","./ro.js":"lyxo","./ru":"lXzo","./ru.js":"lXzo","./sd":"Z4QM","./sd.js":"Z4QM","./se":"//9w","./se.js":"//9w","./si":"7aV9","./si.js":"7aV9","./sk":"e+ae","./sk.js":"e+ae","./sl":"gVVK","./sl.js":"gVVK","./sq":"yPMs","./sq.js":"yPMs","./sr":"zx6S","./sr-cyrl":"E+lV","./sr-cyrl.js":"E+lV","./sr.js":"zx6S","./ss":"Ur1D","./ss.js":"Ur1D","./sv":"X709","./sv.js":"X709","./sw":"dNwA","./sw.js":"dNwA","./ta":"PeUW","./ta.js":"PeUW","./te":"XLvN","./te.js":"XLvN","./tet":"V2x9","./tet.js":"V2x9","./tg":"Oxv6","./tg.js":"Oxv6","./th":"EOgW","./th.js":"EOgW","./tl-ph":"Dzi0","./tl-ph.js":"Dzi0","./tlh":"z3Vd","./tlh.js":"z3Vd","./tr":"DoHr","./tr.js":"DoHr","./tzl":"z1FC","./tzl.js":"z1FC","./tzm":"wQk9","./tzm-latn":"tT3J","./tzm-latn.js":"tT3J","./tzm.js":"wQk9","./ug-cn":"YRex","./ug-cn.js":"YRex","./uk":"raLr","./uk.js":"raLr","./ur":"UpQW","./ur.js":"UpQW","./uz":"Loxo","./uz-latn":"AQ68","./uz-latn.js":"AQ68","./uz.js":"Loxo","./vi":"KSF8","./vi.js":"KSF8","./x-pseudo":"/X5v","./x-pseudo.js":"/X5v","./yo":"fzPg","./yo.js":"fzPg","./zh-cn":"XDpg","./zh-cn.js":"XDpg","./zh-hk":"SatO","./zh-hk.js":"SatO","./zh-tw":"kOpN","./zh-tw.js":"kOpN"};function l(e){var t=n(e);return a(t)}function n(e){if(!a.o(s,e)){var t=new Error("Cannot find module '"+e+"'");throw t.code="MODULE_NOT_FOUND",t}return s[e]}l.keys=function(){return Object.keys(s)},l.resolve=n,e.exports=l,l.id="RnhZ"},SYcV:function(e,t,a){},TDE7:function(e,t,a){},TJa7:function(e,t,a){},UD4d:function(e,t,a){},UeiS:function(e,t,a){},Vc7Q:function(e,t,a){"use strict";(function(e){var s=a("cDf5"),l=a.n(s),n=a("RIqP"),o=a.n(n),i=a("+2Rf"),r=a.n(i),c=a("XJYT"),d=a.n(c),u=u||{};u.getNowFormatDate=function(){var e=new Date,t=e.getMonth()+1,a=e.getDate();return t>=1&&t<=9&&(t="0"+t),a>=0&&a<=9&&(a="0"+a),e.getFullYear()+"-"+t+"-"+a+" "+e.getHours()+":"+e.getMinutes()+":"+e.getSeconds()},u.isHasClass=function(e,t){var a=e.className;return new RegExp("\\b"+t+"\\b","g").test(a)},u.addClass=function(e,t){return this.isHasClass(e,t)||(e.className=e.className.trim()+" "+t),e},u.removeClass=function(e,t){if(this.isHasClass(e,t)){var a=new RegExp("\\b"+t+"\\b","g");e.className=e.className.replace(a,"")}return e},u.startDrag=function(e,t){e.style.cursor="move",e.addEventListener("mousedown",(function(a){var s,l,n,o;function i(a){n=a.clientX-s,o=a.clientY-l,s=a.clientX,l=a.clientY,t.style.left=+n+ +t.offsetLeft+"px",t.style.top=+o+ +t.offsetTop+"px",a.preventDefault(),e.onselectstart=function(){return!1}}s=a.clientX,l=a.clientY,document.addEventListener("mousemove",i,!1),document.addEventListener("mouseup",(function e(t){document.removeEventListener("mousemove",i,!1),document.removeEventListener("mouseup",e,!1)}),!1)}),!1)},u.pushNoRepeat=function(e,t){return!e.includes(t)&&(e.push(t),!0)},u.isAncestorOf=function(e,t){if(!(e instanceof HTMLElement))return console.error(new Error("Error: the first parameter is not a HTMLElement")),!1;if(!(t instanceof HTMLElement))return console.error(new Error("Error: the second parameter is not a HTMLElement")),!1;for(var a=t;a;){if(a===e)return!0;a=a.parentElement}return!1},u.getOffsetTo=function(e,t){if(this.isAncestorOf(t,e)){if("static"!=window.getComputedStyle(t).position){if(e===t)return{offsetLeft:0,offsetTop:0};for(var a=e.offsetLeft,s=e.offsetTop,l=e.offsetParent;l!==t;)s=s+l.offsetTop+parseFloat(window.getComputedStyle(l).borderTopWidth),a=a+l.offsetLeft+parseFloat(window.getComputedStyle(l).borderLeftWidth),l=l.offsetParent;return l=null,{offsetLeft:a,offsetTop:s}}console.error(new Error("请更改父辈元素的定位方式！"))}else console.error(new Error("传入的元素不具有父辈与子辈关系！"))},u.alert=function(e){d.a.Message({type:"warning",message:e})},u.debounce=function(e,t){var a=null;return function(){var s=arguments;null===a?(e.apply(void 0,o()(s)),a=setTimeout((function(){a=null}),t)):(clearTimeout(a),a=setTimeout((function(){a=null,e.apply(void 0,o()(s))}),t))}},u.ajax=function(e){"object"===l()(e.data)&&(e.data=JSON.stringify(e.data)),e.contentType=e.contentType||"application/json",e.type=e.type||"post",e.dataType="json",r.a.ajax({url:" http://140.143.16.21:8080/atfcloud2.0a/"+e.url,data:e.data||"",type:e.type||"post",contentType:e.contentType||"application/json",dataType:e.dataType||"json",success:function(t){e.success(t)},error:function(){e.error?e.error():u.alert("网络错误，请稍候再试~")}})},u.ajaxDownload=function(t,a,s){if(t&&a){a="string"==typeof a?a:e.param(a);var l="";e.each(a.split("&"),(function(){var e=this.split("=");l+='<input type="hidden" name="'+e[0]+'" value="'+e[1]+'" />'})),e('<form action="'+t+'" method="'+(s||"post")+'">'+l+"</form>").appendTo("body").submit().remove()}},u.throttle=function(e,t,a){var s=null;return function(){null===s&&(e.apply(a,Array.prototype.slice.call(arguments)),s=setTimeout((function(){s=null}),t))}},u.formValidation=function(){this.inputs=[]},u.formValidation.prototype.setValidation=function(e,t,a,s){var l={};l.inputId=e,l.iconId=t,l.tooltipId=a,l.rules=s,this.inputs.push(l);var n=this;document.querySelector("#"+e).addEventListener("blur",(function(l){n._valid(e,t,a,s)}))},u.formValidation.prototype._valid=function(e,t,a,s){var l=document.querySelector("#"+e),n=document.querySelector("#"+t),o=document.querySelector("#"+a),i=approve.value(l.value,s);return i.approved?(r()(n).addClass("icon-ok correct").removeClass("hide icon-warning-sign error"),r()(o).removeClass("show").addClass("hide"),!0):(r()(n).addClass("icon-warning-sign error show").removeClass("hide correct icon-ok "),r()(o).addClass("show").removeClass("hide"),o.innerHTML="",i.each((function(e){o.innerHTML=o.innerHTML+e+"</br>"})),!1)},u.formValidation.prototype.validAll=function(){var e=this;return this.inputs.every((function(t){return e._valid(t.inputId,t.iconId,t.tooltipId,t.rules)}))},t.a=u}).call(this,a("+2Rf"))},Vtdi:function(e,t,a){"use strict";a.r(t);var s=a("oCYn"),l=a("XJYT"),n=a.n(l),o=a("vDqi"),i=a.n(o),r=a("Qyje"),c=a.n(r);new s.default({el:"#app"});i.a.defaults.headers.post["Content-Type"]="application/x-www-form-urlencoded;charset=UTF-8",i.a.defaults.paramsSerializer=function(e){return c.a.stringify(e,{arrayFormat:"brackets"})},i.a.interceptors.response.use((function(e){if(console.log(e.request.responseURL),console.log("返回",e,e.status),201==+e.status)return console.log("返回码201",e),e;if(200!=+e.status){var t="http请求失败：失败码："+e.status+"；失败信息："+e.statusText;return Promise.reject(t)}if("0000"===e.data.respCode)return e;if(e.data.success)return e;var a="接口请求失败：失败码：".concat(e.data.respCode,"；失败信息：").concat(e.data.respMsg);return console.log("拦截器捕获了错误"+a),Promise.reject(a)}),(function(e){return Promise.reject(e)})),Promise.prototype.finally=function(e){var t=this.constructor;return this.then((function(a){return t.resolve(e()).then((function(){return a}))}),(function(a){return t.resolve(e()).then((function(){throw a}))}))};var d=function(e){return new Promise((function(t,a){var s={url:"/atfcloud2.0a"+e.url,method:e.method};"get"==e.method?s.params=e.params:s.data=e.params,i()(s).then((function(e){console.log("request",e.data),e=e.data,t(e)})).catch((function(e){a(e)}))}))},u={name:"App",data:function(){var e=window.activeMenu;return{routes:this.$router.options.routes,activeMenu:e}},watch:{$route:{handler:function(e,t){console.log("to.meta.parent",e.meta.parent),this.activeMenu=e.meta.parent||e.name},immediate:!0}},computed:{menuList:function(){var e=[];return this.$router.options.routes.forEach((function(t){"/"==t.path||t.meta.hide||e.push(t)})),e}},mounted:function(){}},m=a("JFUb");var p=function(e){a("It8J")},h=Object(m.a)(u,(function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{attrs:{id:"app"}},["Login"!=e.activeMenu?a("el-header",{staticClass:"header-container"},[a("el-row",{staticClass:"header"},[a("el-col",{staticClass:"logo",attrs:{span:4}},[a("h3",{staticStyle:{"white-space":"nowrap"}},[e._v("管理系统")])]),e._v(" "),a("el-col",{attrs:{span:20}},[0!=e.menuList.length?a("el-menu",{staticClass:"el-menu-demo",attrs:{"default-active":e.activeMenu,mode:"horizontal","background-color":"#333","text-color":"#fff","active-text-color":"#44b549"}},e._l(e.menuList,(function(t){return a("el-menu-item",{key:t.name,attrs:{index:t.name}},[a("router-link",{attrs:{to:{name:t.name}}},[e._v(e._s(t.meta.name))])],1)})),1):e._e()],1)],1)],1):e._e(),e._v(" "),a("router-view")],1)}),[],!1,p,null,null).exports,f=a("jE9Z"),v=a("xnyg"),g=a("yxmK"),b=a("cDf5"),y=a.n(b);function _(){var e=function(e,s){var l=document.querySelector("#"+e+" > .particles-js-canvas-el");this.pJS={canvas:{el:l,w:l.offsetWidth,h:l.offsetHeight},particles:{number:{value:400,density:{enable:!0,value_area:800}},color:{value:"#fff"},shape:{type:"circle",stroke:{width:0,color:"#ff0000"},polygon:{nb_sides:5},image:{src:"",width:100,height:100}},opacity:{value:1,random:!1,anim:{enable:!1,speed:2,opacity_min:0,sync:!1}},size:{value:20,random:!1,anim:{enable:!1,speed:20,size_min:0,sync:!1}},line_linked:{enable:!0,distance:100,color:"#fff",opacity:1,width:1},move:{enable:!0,speed:2,direction:"none",random:!1,straight:!1,out_mode:"out",bounce:!1,attract:{enable:!1,rotateX:3e3,rotateY:3e3}},array:[]},interactivity:{detect_on:"canvas",events:{onhover:{enable:!0,mode:"grab"},onclick:{enable:!0,mode:"push"},resize:!0},modes:{grab:{distance:100,line_linked:{opacity:1}},bubble:{distance:200,size:80,duration:.7},repulse:{distance:200,duration:.4},push:{particles_nb:4},remove:{particles_nb:2}},mouse:{}},retina_detect:!1,fn:{interact:{},modes:{},vendors:{}},tmp:{}};var n=this.pJS;s&&Object.deepExtend(n,s),n.tmp.obj={size_value:n.particles.size.value,size_anim_speed:n.particles.size.anim.speed,move_speed:n.particles.move.speed,line_linked_distance:n.particles.line_linked.distance,line_linked_width:n.particles.line_linked.width,mode_grab_distance:n.interactivity.modes.grab.distance,mode_bubble_distance:n.interactivity.modes.bubble.distance,mode_bubble_size:n.interactivity.modes.bubble.size,mode_repulse_distance:n.interactivity.modes.repulse.distance},n.fn.retinaInit=function(){n.retina_detect&&window.devicePixelRatio>1?(n.canvas.pxratio=window.devicePixelRatio,n.tmp.retina=!0):(n.canvas.pxratio=1,n.tmp.retina=!1),n.canvas.w=n.canvas.el.offsetWidth*n.canvas.pxratio,n.canvas.h=n.canvas.el.offsetHeight*n.canvas.pxratio,n.particles.size.value=n.tmp.obj.size_value*n.canvas.pxratio,n.particles.size.anim.speed=n.tmp.obj.size_anim_speed*n.canvas.pxratio,n.particles.move.speed=n.tmp.obj.move_speed*n.canvas.pxratio,n.particles.line_linked.distance=n.tmp.obj.line_linked_distance*n.canvas.pxratio,n.interactivity.modes.grab.distance=n.tmp.obj.mode_grab_distance*n.canvas.pxratio,n.interactivity.modes.bubble.distance=n.tmp.obj.mode_bubble_distance*n.canvas.pxratio,n.particles.line_linked.width=n.tmp.obj.line_linked_width*n.canvas.pxratio,n.interactivity.modes.bubble.size=n.tmp.obj.mode_bubble_size*n.canvas.pxratio,n.interactivity.modes.repulse.distance=n.tmp.obj.mode_repulse_distance*n.canvas.pxratio},n.fn.canvasInit=function(){n.canvas.ctx=n.canvas.el.getContext("2d")},n.fn.canvasSize=function(){n.canvas.el.width=n.canvas.w,n.canvas.el.height=n.canvas.h,n&&n.interactivity.events.resize&&window.addEventListener("resize",(function(){n.canvas.w=n.canvas.el.offsetWidth,n.canvas.h=n.canvas.el.offsetHeight,n.tmp.retina&&(n.canvas.w*=n.canvas.pxratio,n.canvas.h*=n.canvas.pxratio),n.canvas.el.width=n.canvas.w,n.canvas.el.height=n.canvas.h,n.particles.move.enable||(n.fn.particlesEmpty(),n.fn.particlesCreate(),n.fn.particlesDraw(),n.fn.vendors.densityAutoParticles()),n.fn.vendors.densityAutoParticles()}))},n.fn.canvasPaint=function(){n.canvas.ctx.fillRect(0,0,n.canvas.w,n.canvas.h)},n.fn.canvasClear=function(){n.canvas.ctx.clearRect(0,0,n.canvas.w,n.canvas.h)},n.fn.particle=function(e,a,s){if(this.radius=(n.particles.size.random?Math.random():1)*n.particles.size.value,n.particles.size.anim.enable&&(this.size_status=!1,this.vs=n.particles.size.anim.speed/100,n.particles.size.anim.sync||(this.vs=this.vs*Math.random())),this.x=s?s.x:Math.random()*n.canvas.w,this.y=s?s.y:Math.random()*n.canvas.h,this.x>n.canvas.w-2*this.radius?this.x=this.x-this.radius:this.x<2*this.radius&&(this.x=this.x+this.radius),this.y>n.canvas.h-2*this.radius?this.y=this.y-this.radius:this.y<2*this.radius&&(this.y=this.y+this.radius),n.particles.move.bounce&&n.fn.vendors.checkOverlap(this,s),this.color={},"object"==y()(e.value))if(e.value instanceof Array){var l=e.value[Math.floor(Math.random()*n.particles.color.value.length)];this.color.rgb=t(l)}else null!=e.value.r&&null!=e.value.g&&null!=e.value.b&&(this.color.rgb={r:e.value.r,g:e.value.g,b:e.value.b}),null!=e.value.h&&null!=e.value.s&&null!=e.value.l&&(this.color.hsl={h:e.value.h,s:e.value.s,l:e.value.l});else"random"==e.value?this.color.rgb={r:Math.floor(256*Math.random())+0,g:Math.floor(256*Math.random())+0,b:Math.floor(256*Math.random())+0}:"string"==typeof e.value&&(this.color=e,this.color.rgb=t(this.color.value));this.opacity=(n.particles.opacity.random?Math.random():1)*n.particles.opacity.value,n.particles.opacity.anim.enable&&(this.opacity_status=!1,this.vo=n.particles.opacity.anim.speed/100,n.particles.opacity.anim.sync||(this.vo=this.vo*Math.random()));var o={};switch(n.particles.move.direction){case"top":o={x:0,y:-1};break;case"top-right":o={x:.5,y:-.5};break;case"right":o={x:1,y:-0};break;case"bottom-right":o={x:.5,y:.5};break;case"bottom":o={x:0,y:1};break;case"bottom-left":o={x:-.5,y:1};break;case"left":o={x:-1,y:0};break;case"top-left":o={x:-.5,y:-.5};break;default:o={x:0,y:0}}n.particles.move.straight?(this.vx=o.x,this.vy=o.y,n.particles.move.random&&(this.vx=this.vx*Math.random(),this.vy=this.vy*Math.random())):(this.vx=o.x+Math.random()-.5,this.vy=o.y+Math.random()-.5),this.vx_i=this.vx,this.vy_i=this.vy;var i=n.particles.shape.type;if("object"==y()(i)){if(i instanceof Array){var r=i[Math.floor(Math.random()*i.length)];this.shape=r}}else this.shape=i;if("image"==this.shape){var c=n.particles.shape;this.img={src:c.image.src,ratio:c.image.width/c.image.height},this.img.ratio||(this.img.ratio=1),"svg"==n.tmp.img_type&&null!=n.tmp.source_svg&&(n.fn.vendors.createSvgImg(this),n.tmp.pushing&&(this.img.loaded=!1))}},n.fn.particle.prototype.draw=function(){var e=this;if(null!=e.radius_bubble)var t=e.radius_bubble;else t=e.radius;if(null!=e.opacity_bubble)var a=e.opacity_bubble;else a=e.opacity;if(e.color.rgb)var s="rgba("+e.color.rgb.r+","+e.color.rgb.g+","+e.color.rgb.b+","+a+")";else s="hsla("+e.color.hsl.h+","+e.color.hsl.s+"%,"+e.color.hsl.l+"%,"+a+")";switch(n.canvas.ctx.fillStyle=s,n.canvas.ctx.beginPath(),e.shape){case"circle":n.canvas.ctx.arc(e.x,e.y,t,0,2*Math.PI,!1);break;case"edge":n.canvas.ctx.rect(e.x-t,e.y-t,2*t,2*t);break;case"triangle":n.fn.vendors.drawShape(n.canvas.ctx,e.x-t,e.y+t/1.66,2*t,3,2);break;case"polygon":n.fn.vendors.drawShape(n.canvas.ctx,e.x-t/(n.particles.shape.polygon.nb_sides/3.5),e.y-t/.76,2.66*t/(n.particles.shape.polygon.nb_sides/3),n.particles.shape.polygon.nb_sides,1);break;case"star":n.fn.vendors.drawShape(n.canvas.ctx,e.x-2*t/(n.particles.shape.polygon.nb_sides/4),e.y-t/1.52,2*t*2.66/(n.particles.shape.polygon.nb_sides/3),n.particles.shape.polygon.nb_sides,2);break;case"image":if("svg"==n.tmp.img_type)var l=e.img.obj;else l=n.tmp.img_obj;l&&n.canvas.ctx.drawImage(l,e.x-t,e.y-t,2*t,2*t/e.img.ratio)}n.canvas.ctx.closePath(),n.particles.shape.stroke.width>0&&(n.canvas.ctx.strokeStyle=n.particles.shape.stroke.color,n.canvas.ctx.lineWidth=n.particles.shape.stroke.width,n.canvas.ctx.stroke()),n.canvas.ctx.fill()},n.fn.particlesCreate=function(){for(var e=0;e<n.particles.number.value;e++)n.particles.array.push(new n.fn.particle(n.particles.color,n.particles.opacity.value))},n.fn.particlesUpdate=function(){for(var e=0;e<n.particles.array.length;e++){var t=n.particles.array[e];if(n.particles.move.enable){var s=n.particles.move.speed/2;t.x+=t.vx*s,t.y+=t.vy*s}if(n.particles.opacity.anim.enable&&(1==t.opacity_status?(t.opacity>=n.particles.opacity.value&&(t.opacity_status=!1),t.opacity+=t.vo):(t.opacity<=n.particles.opacity.anim.opacity_min&&(t.opacity_status=!0),t.opacity-=t.vo),t.opacity<0&&(t.opacity=0)),n.particles.size.anim.enable&&(1==t.size_status?(t.radius>=n.particles.size.value&&(t.size_status=!1),t.radius+=t.vs):(t.radius<=n.particles.size.anim.size_min&&(t.size_status=!0),t.radius-=t.vs),t.radius<0&&(t.radius=0)),"bounce"==n.particles.move.out_mode)var l={x_left:t.radius,x_right:n.canvas.w,y_top:t.radius,y_bottom:n.canvas.h};else l={x_left:-t.radius,x_right:n.canvas.w+t.radius,y_top:-t.radius,y_bottom:n.canvas.h+t.radius};switch(t.x-t.radius>n.canvas.w?(t.x=l.x_left,t.y=Math.random()*n.canvas.h):t.x+t.radius<0&&(t.x=l.x_right,t.y=Math.random()*n.canvas.h),t.y-t.radius>n.canvas.h?(t.y=l.y_top,t.x=Math.random()*n.canvas.w):t.y+t.radius<0&&(t.y=l.y_bottom,t.x=Math.random()*n.canvas.w),n.particles.move.out_mode){case"bounce":t.x+t.radius>n.canvas.w?t.vx=-t.vx:t.x-t.radius<0&&(t.vx=-t.vx),t.y+t.radius>n.canvas.h?t.vy=-t.vy:t.y-t.radius<0&&(t.vy=-t.vy)}if(a("grab",n.interactivity.events.onhover.mode)&&n.fn.modes.grabParticle(t),(a("bubble",n.interactivity.events.onhover.mode)||a("bubble",n.interactivity.events.onclick.mode))&&n.fn.modes.bubbleParticle(t),(a("repulse",n.interactivity.events.onhover.mode)||a("repulse",n.interactivity.events.onclick.mode))&&n.fn.modes.repulseParticle(t),n.particles.line_linked.enable||n.particles.move.attract.enable)for(var o=e+1;o<n.particles.array.length;o++){var i=n.particles.array[o];n.particles.line_linked.enable&&n.fn.interact.linkParticles(t,i),n.particles.move.attract.enable&&n.fn.interact.attractParticles(t,i),n.particles.move.bounce&&n.fn.interact.bounceParticles(t,i)}}},n.fn.particlesDraw=function(){n.canvas.ctx.clearRect(0,0,n.canvas.w,n.canvas.h),n.fn.particlesUpdate();for(var e=0;e<n.particles.array.length;e++){n.particles.array[e].draw()}},n.fn.particlesEmpty=function(){n.particles.array=[]},n.fn.particlesRefresh=function(){cancelRequestAnimFrame(n.fn.checkAnimFrame),cancelRequestAnimFrame(n.fn.drawAnimFrame),n.tmp.source_svg=void 0,n.tmp.img_obj=void 0,n.tmp.count_svg=0,n.fn.particlesEmpty(),n.fn.canvasClear(),n.fn.vendors.start()},n.fn.interact.linkParticles=function(e,t){var a=e.x-t.x,s=e.y-t.y,l=Math.sqrt(a*a+s*s);if(l<=n.particles.line_linked.distance){var o=n.particles.line_linked.opacity-l/(1/n.particles.line_linked.opacity)/n.particles.line_linked.distance;if(o>0){var i=n.particles.line_linked.color_rgb_line;n.canvas.ctx.strokeStyle="rgba("+i.r+","+i.g+","+i.b+","+o+")",n.canvas.ctx.lineWidth=n.particles.line_linked.width,n.canvas.ctx.beginPath(),n.canvas.ctx.moveTo(e.x,e.y),n.canvas.ctx.lineTo(t.x,t.y),n.canvas.ctx.stroke(),n.canvas.ctx.closePath()}}},n.fn.interact.attractParticles=function(e,t){var a=e.x-t.x,s=e.y-t.y;if(Math.sqrt(a*a+s*s)<=n.particles.line_linked.distance){var l=a/(1e3*n.particles.move.attract.rotateX),o=s/(1e3*n.particles.move.attract.rotateY);e.vx-=l,e.vy-=o,t.vx+=l,t.vy+=o}},n.fn.interact.bounceParticles=function(e,t){var a=e.x-t.x,s=e.y-t.y;Math.sqrt(a*a+s*s)<=e.radius+t.radius&&(e.vx=-e.vx,e.vy=-e.vy,t.vx=-t.vx,t.vy=-t.vy)},n.fn.modes.pushParticles=function(e,t){n.tmp.pushing=!0;for(var a=0;a<e;a++)n.particles.array.push(new n.fn.particle(n.particles.color,n.particles.opacity.value,{x:t?t.pos_x:Math.random()*n.canvas.w,y:t?t.pos_y:Math.random()*n.canvas.h})),a==e-1&&(n.particles.move.enable||n.fn.particlesDraw(),n.tmp.pushing=!1)},n.fn.modes.removeParticles=function(e){n.particles.array.splice(0,e),n.particles.move.enable||n.fn.particlesDraw()},n.fn.modes.bubbleParticle=function(e){if(n.interactivity.events.onhover.enable&&a("bubble",n.interactivity.events.onhover.mode)){var t=function(){e.opacity_bubble=e.opacity,e.radius_bubble=e.radius},s=e.x-n.interactivity.mouse.pos_x,l=e.y-n.interactivity.mouse.pos_y,o=1-(u=Math.sqrt(s*s+l*l))/n.interactivity.modes.bubble.distance;if(u<=n.interactivity.modes.bubble.distance){if(o>=0&&"mousemove"==n.interactivity.status){if(n.interactivity.modes.bubble.size!=n.particles.size.value)if(n.interactivity.modes.bubble.size>n.particles.size.value){(r=e.radius+n.interactivity.modes.bubble.size*o)>=0&&(e.radius_bubble=r)}else{var i=e.radius-n.interactivity.modes.bubble.size,r=e.radius-i*o;e.radius_bubble=r>0?r:0}var c;if(n.interactivity.modes.bubble.opacity!=n.particles.opacity.value)if(n.interactivity.modes.bubble.opacity>n.particles.opacity.value)(c=n.interactivity.modes.bubble.opacity*o)>e.opacity&&c<=n.interactivity.modes.bubble.opacity&&(e.opacity_bubble=c);else(c=e.opacity-(n.particles.opacity.value-n.interactivity.modes.bubble.opacity)*o)<e.opacity&&c>=n.interactivity.modes.bubble.opacity&&(e.opacity_bubble=c)}}else t();"mouseleave"==n.interactivity.status&&t()}else if(n.interactivity.events.onclick.enable&&a("bubble",n.interactivity.events.onclick.mode)){var d=function(t,a,s,l,o){if(t!=a)if(n.tmp.bubble_duration_end)null!=s&&(r=t+(t-(l-m*(l-t)/n.interactivity.modes.bubble.duration)),"size"==o&&(e.radius_bubble=r),"opacity"==o&&(e.opacity_bubble=r));else if(u<=n.interactivity.modes.bubble.distance){if(null!=s)var i=s;else i=l;if(i!=t){var r=l-m*(l-t)/n.interactivity.modes.bubble.duration;"size"==o&&(e.radius_bubble=r),"opacity"==o&&(e.opacity_bubble=r)}}else"size"==o&&(e.radius_bubble=void 0),"opacity"==o&&(e.opacity_bubble=void 0)};if(n.tmp.bubble_clicking){s=e.x-n.interactivity.mouse.click_pos_x,l=e.y-n.interactivity.mouse.click_pos_y;var u=Math.sqrt(s*s+l*l),m=((new Date).getTime()-n.interactivity.mouse.click_time)/1e3;m>n.interactivity.modes.bubble.duration&&(n.tmp.bubble_duration_end=!0),m>2*n.interactivity.modes.bubble.duration&&(n.tmp.bubble_clicking=!1,n.tmp.bubble_duration_end=!1)}n.tmp.bubble_clicking&&(d(n.interactivity.modes.bubble.size,n.particles.size.value,e.radius_bubble,e.radius,"size"),d(n.interactivity.modes.bubble.opacity,n.particles.opacity.value,e.opacity_bubble,e.opacity,"opacity"))}},n.fn.modes.repulseParticle=function(e){if(n.interactivity.events.onhover.enable&&a("repulse",n.interactivity.events.onhover.mode)&&"mousemove"==n.interactivity.status){var t=e.x-n.interactivity.mouse.pos_x,s=e.y-n.interactivity.mouse.pos_y,l=Math.sqrt(t*t+s*s),o={x:t/l,y:s/l},i=n.interactivity.modes.repulse.distance,r=(h=1/i*(-1*Math.pow(l/i,2)+1)*i*100,f=0,v=50,Math.min(Math.max(h,f),v)),c={x:e.x+o.x*r,y:e.y+o.y*r};"bounce"==n.particles.move.out_mode?(c.x-e.radius>0&&c.x+e.radius<n.canvas.w&&(e.x=c.x),c.y-e.radius>0&&c.y+e.radius<n.canvas.h&&(e.y=c.y)):(e.x=c.x,e.y=c.y)}else if(n.interactivity.events.onclick.enable&&a("repulse",n.interactivity.events.onclick.mode))if(n.tmp.repulse_finish||(n.tmp.repulse_count++,n.tmp.repulse_count==n.particles.array.length&&(n.tmp.repulse_finish=!0)),n.tmp.repulse_clicking){i=Math.pow(n.interactivity.modes.repulse.distance/6,3);var d=n.interactivity.mouse.click_pos_x-e.x,u=n.interactivity.mouse.click_pos_y-e.y,m=d*d+u*u,p=-i/m*1;m<=i&&function(){var t=Math.atan2(u,d);if(e.vx=p*Math.cos(t),e.vy=p*Math.sin(t),"bounce"==n.particles.move.out_mode){var a={x:e.x+e.vx,y:e.y+e.vy};a.x+e.radius>n.canvas.w?e.vx=-e.vx:a.x-e.radius<0&&(e.vx=-e.vx),a.y+e.radius>n.canvas.h?e.vy=-e.vy:a.y-e.radius<0&&(e.vy=-e.vy)}}()}else 0==n.tmp.repulse_clicking&&(e.vx=e.vx_i,e.vy=e.vy_i);var h,f,v},n.fn.modes.grabParticle=function(e){if(n.interactivity.events.onhover.enable&&"mousemove"==n.interactivity.status){var t=e.x-n.interactivity.mouse.pos_x,a=e.y-n.interactivity.mouse.pos_y,s=Math.sqrt(t*t+a*a);if(s<=n.interactivity.modes.grab.distance){var l=n.interactivity.modes.grab.line_linked.opacity-s/(1/n.interactivity.modes.grab.line_linked.opacity)/n.interactivity.modes.grab.distance;if(l>0){var o=n.particles.line_linked.color_rgb_line;n.canvas.ctx.strokeStyle="rgba("+o.r+","+o.g+","+o.b+","+l+")",n.canvas.ctx.lineWidth=n.particles.line_linked.width,n.canvas.ctx.beginPath(),n.canvas.ctx.moveTo(e.x,e.y),n.canvas.ctx.lineTo(n.interactivity.mouse.pos_x,n.interactivity.mouse.pos_y),n.canvas.ctx.stroke(),n.canvas.ctx.closePath()}}}},n.fn.vendors.eventsListeners=function(){"window"==n.interactivity.detect_on?n.interactivity.el=window:n.interactivity.el=n.canvas.el,(n.interactivity.events.onhover.enable||n.interactivity.events.onclick.enable)&&(n.interactivity.el.addEventListener("mousemove",(function(e){if(n.interactivity.el==window)var t=e.clientX,a=e.clientY;else t=e.offsetX||e.clientX,a=e.offsetY||e.clientY;n.interactivity.mouse.pos_x=t,n.interactivity.mouse.pos_y=a,n.tmp.retina&&(n.interactivity.mouse.pos_x*=n.canvas.pxratio,n.interactivity.mouse.pos_y*=n.canvas.pxratio),n.interactivity.status="mousemove"})),n.interactivity.el.addEventListener("mouseleave",(function(e){n.interactivity.mouse.pos_x=null,n.interactivity.mouse.pos_y=null,n.interactivity.status="mouseleave"}))),n.interactivity.events.onclick.enable&&n.interactivity.el.addEventListener("click",(function(){if(n.interactivity.mouse.click_pos_x=n.interactivity.mouse.pos_x,n.interactivity.mouse.click_pos_y=n.interactivity.mouse.pos_y,n.interactivity.mouse.click_time=(new Date).getTime(),n.interactivity.events.onclick.enable)switch(n.interactivity.events.onclick.mode){case"push":n.particles.move.enable?n.fn.modes.pushParticles(n.interactivity.modes.push.particles_nb,n.interactivity.mouse):1==n.interactivity.modes.push.particles_nb?n.fn.modes.pushParticles(n.interactivity.modes.push.particles_nb,n.interactivity.mouse):n.interactivity.modes.push.particles_nb>1&&n.fn.modes.pushParticles(n.interactivity.modes.push.particles_nb);break;case"remove":n.fn.modes.removeParticles(n.interactivity.modes.remove.particles_nb);break;case"bubble":n.tmp.bubble_clicking=!0;break;case"repulse":n.tmp.repulse_clicking=!0,n.tmp.repulse_count=0,n.tmp.repulse_finish=!1,setTimeout((function(){n.tmp.repulse_clicking=!1}),1e3*n.interactivity.modes.repulse.duration)}}))},n.fn.vendors.densityAutoParticles=function(){if(n.particles.number.density.enable){var e=n.canvas.el.width*n.canvas.el.height/1e3;n.tmp.retina&&(e/=2*n.canvas.pxratio);var t=e*n.particles.number.value/n.particles.number.density.value_area,a=n.particles.array.length-t;a<0?n.fn.modes.pushParticles(Math.abs(a)):n.fn.modes.removeParticles(a)}},n.fn.vendors.checkOverlap=function(e,t){for(var a=0;a<n.particles.array.length;a++){var s=n.particles.array[a],l=e.x-s.x,o=e.y-s.y;Math.sqrt(l*l+o*o)<=e.radius+s.radius&&(e.x=t?t.x:Math.random()*n.canvas.w,e.y=t?t.y:Math.random()*n.canvas.h,n.fn.vendors.checkOverlap(e))}},n.fn.vendors.createSvgImg=function(e){var t=n.tmp.source_svg.replace(/#([0-9A-F]{3,6})/gi,(function(t,a,s,l){if(e.color.rgb)var n="rgba("+e.color.rgb.r+","+e.color.rgb.g+","+e.color.rgb.b+","+e.opacity+")";else n="hsla("+e.color.hsl.h+","+e.color.hsl.s+"%,"+e.color.hsl.l+"%,"+e.opacity+")";return n})),a=new Blob([t],{type:"image/svg+xml;charset=utf-8"}),s=window.URL||window.webkitURL||window,l=s.createObjectURL(a),o=new Image;o.addEventListener("load",(function(){e.img.obj=o,e.img.loaded=!0,s.revokeObjectURL(l),n.tmp.count_svg++})),o.src=l},n.fn.vendors.destroypJS=function(){cancelAnimationFrame(n.fn.drawAnimFrame),l.remove(),pJSDom=null},n.fn.vendors.drawShape=function(e,t,a,s,l,n){var o=l*n,i=l/n,r=180*(i-2)/i,c=Math.PI-Math.PI*r/180;e.save(),e.beginPath(),e.translate(t,a),e.moveTo(0,0);for(var d=0;d<o;d++)e.lineTo(s,0),e.translate(s,0),e.rotate(c);e.fill(),e.restore()},n.fn.vendors.exportImg=function(){window.open(n.canvas.el.toDataURL("image/png"),"_blank")},n.fn.vendors.loadImg=function(e){if(n.tmp.img_error=void 0,""!=n.particles.shape.image.src)if("svg"==e){var t=new XMLHttpRequest;t.open("GET",n.particles.shape.image.src),t.onreadystatechange=function(e){4==t.readyState&&(200==t.status?(n.tmp.source_svg=e.currentTarget.response,n.fn.vendors.checkBeforeDraw()):(console.log("Error pJS - Image not found"),n.tmp.img_error=!0))},t.send()}else{var a=new Image;a.addEventListener("load",(function(){n.tmp.img_obj=a,n.fn.vendors.checkBeforeDraw()})),a.src=n.particles.shape.image.src}else console.log("Error pJS - No image.src"),n.tmp.img_error=!0},n.fn.vendors.draw=function(){"image"==n.particles.shape.type?"svg"==n.tmp.img_type?n.tmp.count_svg>=n.particles.number.value?(n.fn.particlesDraw(),n.particles.move.enable?n.fn.drawAnimFrame=requestAnimFrame(n.fn.vendors.draw):cancelRequestAnimFrame(n.fn.drawAnimFrame)):n.tmp.img_error||(n.fn.drawAnimFrame=requestAnimFrame(n.fn.vendors.draw)):null!=n.tmp.img_obj?(n.fn.particlesDraw(),n.particles.move.enable?n.fn.drawAnimFrame=requestAnimFrame(n.fn.vendors.draw):cancelRequestAnimFrame(n.fn.drawAnimFrame)):n.tmp.img_error||(n.fn.drawAnimFrame=requestAnimFrame(n.fn.vendors.draw)):(n.fn.particlesDraw(),n.particles.move.enable?n.fn.drawAnimFrame=requestAnimFrame(n.fn.vendors.draw):cancelRequestAnimFrame(n.fn.drawAnimFrame))},n.fn.vendors.checkBeforeDraw=function(){"image"==n.particles.shape.type?"svg"==n.tmp.img_type&&null==n.tmp.source_svg?n.tmp.checkAnimFrame=requestAnimFrame(check):(cancelRequestAnimFrame(n.tmp.checkAnimFrame),n.tmp.img_error||(n.fn.vendors.init(),n.fn.vendors.draw())):(n.fn.vendors.init(),n.fn.vendors.draw())},n.fn.vendors.init=function(){n.fn.retinaInit(),n.fn.canvasInit(),n.fn.canvasSize(),n.fn.canvasPaint(),n.fn.particlesCreate(),n.fn.vendors.densityAutoParticles(),n.particles.line_linked.color_rgb_line=t(n.particles.line_linked.color)},n.fn.vendors.start=function(){a("image",n.particles.shape.type)?(n.tmp.img_type=n.particles.shape.image.src.substr(n.particles.shape.image.src.length-3),n.fn.vendors.loadImg(n.tmp.img_type)):n.fn.vendors.checkBeforeDraw()},n.fn.vendors.eventsListeners(),n.fn.vendors.start()};function t(e){e=e.replace(/^#?([a-f\d])([a-f\d])([a-f\d])$/i,(function(e,t,a,s){return t+t+a+a+s+s}));var t=/^#?([a-f\d]{2})([a-f\d]{2})([a-f\d]{2})$/i.exec(e);return t?{r:parseInt(t[1],16),g:parseInt(t[2],16),b:parseInt(t[3],16)}:null}function a(e,t){return t.indexOf(e)>-1}Object.deepExtend=function(e,t){for(var a in t)t[a]&&t[a].constructor&&t[a].constructor===Object?(e[a]=e[a]||{},Object.deepExtend(e[a],t[a])):e[a]=t[a];return e},window.requestAnimFrame=window.requestAnimationFrame||window.webkitRequestAnimationFrame||window.mozRequestAnimationFrame||window.oRequestAnimationFrame||window.msRequestAnimationFrame||function(e){window.setTimeout(e,1e3/60)},window.cancelRequestAnimFrame=window.cancelAnimationFrame||window.webkitCancelRequestAnimationFrame||window.mozCancelRequestAnimationFrame||window.oCancelRequestAnimationFrame||window.msCancelRequestAnimationFrame||clearTimeout,window.pJSDom=[],window.particlesJS=function(t,a){"string"!=typeof t&&(a=t,t="particles-js"),t||(t="particles-js");var s=document.getElementById(t),l=s.getElementsByClassName("particles-js-canvas-el");if(l.length)for(;l.length>0;)s.removeChild(l[0]);var n=document.createElement("canvas");n.className="particles-js-canvas-el",n.style.width="100%",n.style.height="100%",null!=document.getElementById(t).appendChild(n)&&pJSDom.push(new e(t,a))},window.particlesJS.load=function(e,t,a){var s=new XMLHttpRequest;s.open("GET",t),s.onreadystatechange=function(t){if(4==s.readyState)if(200==s.status){var l=JSON.parse(t.currentTarget.response);window.particlesJS(e,l),a&&a()}else console.log("Error pJS - XMLHttpRequest status: "+s.status),console.log("Error pJS - File config not found")},s.send()}}var w={name:"Login",components:{ElSlPanel:g.a},data:function(){var e=this;return{ruleForm:{uid:1,password:1,sessionIdIn:1},rules:{uid:[{validator:function(t,a,s){return""===String(a)?s(new Error("请输入账号")):("1"===a&&(e.$message.success("欢迎使用ATF测试"),e.$router.push({path:"/index"})),s())},trigger:"blur"}],password:[{validator:function(e,t,s){a("Qyje");return""===String(t)?s(new Error("请输入密码")):s()},trigger:"blur"}],sessionIdIn:[{validator:function(e,t,a){return""===String(t)?a(new Error("请输入验证码")):a()},trigger:"blur"}]},loginInfo:{isAccountAndPasswordMatched:!1,isSessionIdMatched:!1},imageURL:"http://140.143.16.21:8080/atfcloud2.0a/userController/authCode?abc=0.11636858629067781&sessionId=567E4A18483202100E1782F55EBCED23",storedSessionId:0}},computed:{},created:function(){this.getSessionId()},mounted:function(){_(),particlesJS("particles-js",{particles:{number:{value:80,density:{enable:!0,value_area:800}},color:{value:"#ffffff"},shape:{type:"circle",stroke:{width:0,color:"#000000"},polygon:{nb_sides:5},image:{src:"img/github.svg",width:100,height:100}},opacity:{value:.5,random:!1,anim:{enable:!1,speed:1,opacity_min:.1,sync:!1}},size:{value:5,random:!0,anim:{enable:!1,speed:40,size_min:.1,sync:!1}},line_linked:{enable:!0,distance:150,color:"#ffffff",opacity:.4,width:1},move:{enable:!0,speed:6,direction:"none",random:!1,straight:!1,out_mode:"out",attract:{enable:!1,rotateX:600,rotateY:1200}}},interactivity:{detect_on:"canvas",events:{onhover:{enable:!0,mode:"repulse"},onclick:{enable:!0,mode:"push"},resize:!0},modes:{grab:{distance:400,line_linked:{opacity:1}},bubble:{distance:400,size:40,duration:2,opacity:8,speed:3},repulse:{distance:200},push:{particles_nb:4},remove:{particles_nb:2}}},retina_detect:!0,config_demo:{hide_card:!1,background_color:"#b61924",background_image:"",background_position:"50% 50%",background_repeat:"no-repeat",background_size:"cover"}})},methods:{submitForm:function(e){var t=this;"1"==this.ruleForm.uid?(sessionStorage.setItem("userId",this.ruleForm.uid),this.$router.push({path:"/index"})):this.$refs[e].validate((function(e){if(console.log("进入验证",e),e){var s=a("Qyje");d({url:"/userController/checkauthcode",method:"POST",params:s.stringify({authCode:t.ruleForm.sessionIdIn,sessionId:t.storedSessionId})}).then((function(e){console.log("验证成功",e),d({url:"/userController/login",method:"post",params:s.stringify({username:t.ruleForm.uid,password:t.ruleForm.password,authCode:t.ruleForm.sessionIdIn,sessionId:t.storedSessionId})}).then((function(e){console.log("登录成功",e),t.$router.push({path:"/index"})})).catch((function(e){console.log("错误信息",e),t.$message.error("用户名或密码错误")}))})).catch((function(e){console.log("校验错误",e),t.$message.error("验证码错误")}))}else t.$message.error("请输入信息")}))},getSessionId:function(){console.log("获取验证码");var e=this;d({url:"/userController/getSessionId",method:"POST"}).then((function(t){e.storedSessionId=t.obj.sessionId,e.imageURL="http://140.143.16.21:8080/atfcloud2.0a/userController/authCode?abc="+Math.random()+"&sessionId="+t.obj.sessionId})).catch((function(e){console.log("登录出错",e)}))},toRigester:function(){this.$router.push("/rigester")}}};var C=function(e){a("UD4d")},I=Object(m.a)(w,(function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"search-main page-outer loginBackground"},[e._m(0),e._v(" "),a("div",{staticClass:"mainBody"},[a("h1",{staticClass:"title"},[e._v("ATF云测试平台")]),e._v(" "),a("el-form",{ref:"ruleForm",staticClass:"loginForm",attrs:{rules:e.rules,model:e.ruleForm,"label-width":"100px","status-icon":""}},[a("el-form-item",{attrs:{prop:"uid",label:"账号"}},[a("el-input",{attrs:{placeholder:"请输入账号","suffix-icon":"el-icon-user-solid",clearable:""},model:{value:e.ruleForm.uid,callback:function(t){e.$set(e.ruleForm,"uid",t)},expression:"ruleForm.uid"}})],1),e._v(" "),a("el-form-item",{attrs:{prop:"password",label:"密码"}},[a("el-input",{attrs:{placeholder:"请输入密码",type:"password","suffix-icon":"el-icon-lock",clearable:""},model:{value:e.ruleForm.password,callback:function(t){e.$set(e.ruleForm,"password",t)},expression:"ruleForm.password"}})],1),e._v(" "),a("el-form-item",{attrs:{prop:"sessionIdIn",label:"验证码"}},[a("el-input",{staticClass:"verCodeInput",attrs:{placeholder:"请输入验证码",type:"text","suffix-icon":"el-icon-lock",clearable:""},model:{value:e.ruleForm.sessionIdIn,callback:function(t){e.$set(e.ruleForm,"sessionIdIn",t)},expression:"ruleForm.sessionIdIn"}}),e._v(" "),a("img",{staticClass:"codeStyle",attrs:{id:"sessionIdImage",type:"image",alt:"这里将换验证码",src:e.imageURL},on:{click:e.getSessionId}})],1),e._v(" "),a("el-row",[a("el-button",{attrs:{disabled:""===e.ruleForm.password||""===e.ruleForm.uid,type:"info",plain:""},on:{click:function(t){return e.submitForm("ruleForm")}}},[e._v("登录\n          ")]),e._v(" "),a("span",{staticClass:"spanAccount"},[a("a",{attrs:{href:"#"}},[e._v("忘记密码")]),e._v(" | "),a("a",{on:{click:function(t){return t.preventDefault(),e.toRigester(t)}}},[e._v("注册")])])],1)],1)],1)])}),[function(){var e=this.$createElement,t=this._self._c||e;return t("div",{attrs:{id:"particles-js"}},[t("canvas",{staticClass:"particles-js-canvas-el"})])}],!1,C,null,null).exports,x={name:"rigester",components:{ElSlPanel:g.a},data:function(){var e=this;return{title:"ATF",subtitle:"用户注册",currentStep:1,url:"",sessionId:"",validatorSession:!1,passw:"password",icon:"el-input__icon el-icon-view",ruleForm:{username:"",name:"",password:"",surePassword:""},depart:"",phone:"",fixedPhone:"",email:"",authCode:"",rules:{username:[{validator:function(e,t,a){return t?/[a-z0-9]{4,16}/g.exec(t)?void a():a("请输入4-16位英文字母或数字"):a("用户名不可为空")},trigger:"blur"}],name:[{validator:function(e,t,a){if(!t)return a("姓名不可为空");a()},trigger:"blur"}],password:[{validator:function(e,t,a){return t?/\w{4,16}/g.exec(t)?a():a("字母、数字、下划线组成长度为4-16的密码"):a("密码不可为空")},trigger:"blur"}],surePassword:[{validator:function(t,a,s){return a?e.ruleForm.surePassword!==e.ruleForm.password?s("确认密码必须和密码保持一致"):s():s("请输入确认密码")},trigger:"blur"}],authCode:[{validator:function(e,t,a){return t?a():a("请输入验证码")},trigger:"blur"}]}}},created:function(){this.getSessionId()},mounted:function(){this.getSessionId()},computed:{},methods:{getSessionId:function(){var e=this;d({url:"/userController/getSessionId",method:"POST",params:{}}).then((function(t){console.log("验证码获取成功",t),sessionStorage.setItem("sessionId",t.obj.sessionId),e.sessionId=sessionStorage.getItem("sessionId"),e.url="http://140.143.16.21:8080/atfcloud2.0a/userController/authCode?abc="+Math.random()+"&sessionId="+sessionStorage.getItem("sessionId"),console.log("url")})).catch((function(e){console.log("验证码获取失败",e)}))},cancelEvent:function(e){this.$refs[e].resetFields()},commitEvent:function(e){var t=this;this.$refs[e].validate((function(e){if(e){var s=a("Qyje");d({url:"/userController/register",method:"POST",params:s.stringify({username:t.ruleForm.username,reallyname:t.ruleForm.name,password:t.ruleForm.password,repassword:t.ruleForm.surePassword,dept:t.depart,tel:t.phone,phone:t.fixedPhone,email:t.email,authCode:t.authCode,sessionId:t.sessionId})}).then((function(e){console.log("注册成功",e),t.$message.success("注册成功"),t.currentStep=2})).catch((function(e){console.log("注册失败",e),t.$message.error(e.msg)}))}else t.$message.error("表单验证失败")}))},checkAuthCode:function(){var e=this,t=a("Qyje");console.log("authCode:",this.authCode),console.log("sessionId:",this.sessionId),d({url:"/userController/checkauthcode",method:"POST",params:t.stringify({authCode:this.authCode,sessionId:this.sessionId})}).then((function(t){console.log("验证码验证通过",t),e.validatorSession=!0})).catch((function(e){console.log("验证码验证失败",e)}))},showPass:function(){"text"===this.passw?(this.passw="password",this.icon="el-input__icon el-icon-view"):(this.passw="text",this.icon="el-input__icon el-icon-loading")},toLogin:function(){this.$router.push({path:"/login"})}}};var S=function(e){a("HXIv")},k=Object(m.a)(x,(function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",{staticClass:"rigesterPageStyle"},[s("el-row",{staticClass:"headRow"},[s("span",{staticClass:"titleSpan"},[e._v(e._s(e.title))]),e._v(" "),s("span",{staticClass:"subtitleSpan"},[e._v(e._s(e.subtitle))])]),e._v(" "),s("el-steps",{attrs:{active:e.currentStep,simple:""}},[s("el-step",{attrs:{title:"填写帐户信息",icon:"el-icon-edit"}}),e._v(" "),s("el-step",{attrs:{title:"注册成功",icon:"el-icon-success"}})],1),e._v(" "),1===e.currentStep?s("div",[s("el-row",{staticClass:"titleRow"},[s("span",{staticClass:"formTitle"},[e._v("必填信息")])]),e._v(" "),s("el-form",{ref:"ruleForm",attrs:{"status-icon":"",model:e.ruleForm,rules:e.rules}},[s("el-form-item",{attrs:{label:"用户名","label-width":"200px",prop:"username"}},[s("el-input",{staticClass:"normalInput",attrs:{placeholder:"请输入4-16位英文字母或数字",autocomplete:"off"},model:{value:e.ruleForm.username,callback:function(t){e.$set(e.ruleForm,"username",t)},expression:"ruleForm.username"}})],1),e._v(" "),s("el-form-item",{attrs:{label:"姓名","label-width":"200px",prop:"name"}},[s("el-input",{staticClass:"normalInput",attrs:{placeholder:"请输入姓名",autocomplete:"off"},model:{value:e.ruleForm.name,callback:function(t){e.$set(e.ruleForm,"name",t)},expression:"ruleForm.name"}})],1),e._v(" "),s("el-form-item",{attrs:{label:"密码","label-width":"200px",prop:"password"}},[s("el-input",{staticClass:"normalInput",attrs:{placeholder:"请输入6-16位密码",autocomplete:"off",type:e.passw},model:{value:e.ruleForm.password,callback:function(t){e.$set(e.ruleForm,"password",t)},expression:"ruleForm.password"}},[s("i",{class:e.icon,attrs:{slot:"suffix"},on:{click:e.showPass},slot:"suffix"})])],1),e._v(" "),s("el-form-item",{attrs:{label:"确认密码","label-width":"200px",prop:"surePassword"}},[s("el-input",{staticClass:"normalInput",attrs:{placeholder:"请确认密码",autocomplete:"off",type:e.passw},model:{value:e.ruleForm.surePassword,callback:function(t){e.$set(e.ruleForm,"surePassword",t)},expression:"ruleForm.surePassword"}},[s("i",{class:e.icon,attrs:{slot:"suffix"},on:{click:e.showPass},slot:"suffix"})])],1)],1),e._v(" "),s("el-row",{staticClass:"titleRow"},[s("span",{staticClass:"formTitle"},[e._v("选填信息")])]),e._v(" "),s("el-form",[s("el-form-item",{attrs:{label:"所属部门","label-width":"200px"}},[s("el-input",{staticClass:"normalInput",attrs:{placeholder:"请填写所属部门，例如行政部"},model:{value:e.depart,callback:function(t){e.depart=t},expression:"depart"}})],1),e._v(" "),s("el-form-item",{attrs:{label:"手机号","label-width":"200px"}},[s("el-input",{staticClass:"normalInput",attrs:{placeholder:"请输入手机号"},model:{value:e.phone,callback:function(t){e.phone=t},expression:"phone"}})],1),e._v(" "),s("el-form-item",{attrs:{label:"固定电话","label-width":"200px"}},[s("el-input",{staticClass:"normalInput",attrs:{placeholder:"请输入固定电话"},model:{value:e.fixedPhone,callback:function(t){e.fixedPhone=t},expression:"fixedPhone"}})],1),e._v(" "),s("el-form-item",{attrs:{label:"电子邮箱","label-width":"200px"}},[s("el-input",{staticClass:"normalInput",attrs:{placeholder:"请填写电子邮箱"},model:{value:e.email,callback:function(t){e.email=t},expression:"email"}})],1),e._v(" "),s("el-form-item",{attrs:{label:"验证码","label-width":"200px"}},[s("el-input",{staticClass:"codeInput",attrs:{placeholder:"请填写验证码",prop:"authCode"},model:{value:e.authCode,callback:function(t){e.authCode=t},expression:"authCode"}}),e._v(" "),s("abbr",{attrs:{title:"图片看不清？点击重新得到验证码"},on:{click:e.getSessionId}},[s("img",{staticClass:"codeStyle",attrs:{id:"sessionIdImage",type:"image",alt:"这里将换验证码",src:e.url}})])],1),e._v(" "),s("el-row",{staticClass:"buttonRow"},[s("el-button",{staticClass:"buttonStyle",attrs:{type:"danger"},on:{click:function(t){return e.cancelEvent("ruleForm")}}},[e._v("\n          取消\n        ")]),e._v(" "),s("el-button",{staticClass:"buttonStyle",attrs:{type:"primary"},on:{click:function(t){return e.commitEvent("ruleForm")}}},[e._v("提交")])],1)],1)],1):s("div",[s("el-row",{staticClass:"finishedRow"},[s("img",{staticClass:"imgStyle",attrs:{src:a("x8a6")}}),e._v(" "),s("span",{staticClass:"finishedSpan"},[e._v("\n        完成注册,点击\n        "),s("a",{staticClass:"finishedA",on:{click:e.toLogin}},[e._v("这里")]),e._v("\n        进入\n      ")])])],1)],1)}),[],!1,S,"data-v-2ddad402",null).exports,T={data:function(){return{currentDate:new Date}},watch:{},mounted:function(){},methods:{}};var F=function(e){a("ONCa")},P=Object(m.a)(T,(function(){var e=this.$createElement,t=this._self._c||e;return t("div",[t("div",{attrs:{id:"quicklyStart"}},[t("el-tooltip",{attrs:{content:"体验最简洁的测试流程",placement:"top",href:"./quicklyTransact.html"}},[t("el-button",[t("router-link",{attrs:{to:{name:"QuicklyStart"}}},[this._v("\n                    快速开始\n                ")])],1)],1)],1),this._v(" "),t("img",{staticStyle:{margin:"-35px 220px 0 220px"},attrs:{src:a("XZiK"),width:"68%",usemap:"#Map"}}),this._v(" "),this._m(0)])}),[function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("map",{attrs:{name:"Map",id:"CribMap"}},[a("area",{attrs:{shape:"rect",coords:"590,280,705,310",href:"./architecture.html"}}),e._v(" "),a("area",{attrs:{shape:"rect",coords:"450,280,550,310",href:"./aut.html"}}),e._v(" "),a("area",{attrs:{shape:"rect",coords:"450,328,550,357",href:"./aut.html",onclick:"goHere('newfunpoint')"}}),e._v(" "),a("area",{attrs:{shape:"rect",coords:"450,374,550,405",href:"./aut.html",onclick:"goHere('elelibrary')"}}),e._v(" "),a("area",{attrs:{shape:"rect",coords:"450,421,550,452",href:"./aut.html",onclick:"goHere('basicscript')"}}),e._v(" "),a("area",{attrs:{shape:"rect",coords:"251,420,352,451",href:"./testplan-execute.html"}}),e._v(" "),a("area",{attrs:{shape:"rect",coords:"251,373,352,404",href:"./scene.html"}}),e._v(" "),a("area",{attrs:{shape:"rect",coords:"251,327,352,356",href:"./datatable.html"}}),e._v(" "),a("area",{attrs:{shape:"rect",coords:"251,289,352,310",href:"./caseManagement.html"}}),e._v(" "),a("area",{attrs:{shape:"rect",coords:"251,490,352,520",href:"./execution.html"}}),e._v(" "),a("area",{attrs:{shape:"rect",coords:"43,234,141,266",href:"./testProject.html"}})])}],!1,F,"data-v-07c37ce0",null).exports,N={props:{pathName:String},data:function(){return{menuList:[],fullPath:"",isCollapse:!0,activedPath:this.$route.path}},watch:{$route:function(e,t){this.activedPath=this.$route.path}},computed:{},methods:{getSideBarList:function(){var e=this,t=this.$router.options.routes,a=[],s="";t.forEach((function(t){t.name===e.pathName&&(a=t.children,s=t.path)})),this.fullPath=s,this.menuList=a},needHideAllChildren:function(e){var t=!0;if(e.children)for(var a in e.children)if(!e.children[a].meta.hide){t=!1;break}return t}},mounted:function(){this.getSideBarList()}};var R=function(e){a("GHZk")},M=Object(m.a)(N,(function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{class:e.isCollapse?"narrow-side-bar":"side-bar"},[a("el-radio-group",{attrs:{size:"small"},model:{value:e.isCollapse,callback:function(t){e.isCollapse=t},expression:"isCollapse"}},[a("el-radio-button",{attrs:{label:!0}},[a("i",{staticClass:"el-icon-d-arrow-left"})]),e._v(" "),a("el-radio-button",{attrs:{label:!1}},[a("i",{staticClass:"el-icon-d-arrow-right"})])],1),e._v(" "),a("el-menu",{ref:"menu",staticClass:"side-bar-menu",attrs:{router:"","default-active":e.activedPath,collapse:e.isCollapse}},[e._l(e.menuList,(function(t,s){return[!t.children||e.needHideAllChildren(t)||t.meta.hide?e._e():a("el-submenu",{key:s,attrs:{index:e.fullPath+"/"+t.path}},[a("template",{slot:"title"},[t.meta.icon?a("i",{class:t.meta.icon}):e._e(),e._v(" "),a("span",[e._v(e._s(t.meta.name))])]),e._v(" "),e._l(t.children,(function(s,l){return[s.meta.hide?e._e():a("el-menu-item",{key:l,attrs:{index:e.fullPath+"/"+t.path+"/"+s.path}},[e._v(e._s(s.meta.name))])]}))],2),e._v(" "),t.children&&!e.needHideAllChildren(t)||t.meta.hide?e._e():a("el-menu-item",{key:s,attrs:{index:e.fullPath+"/"+t.path}},[t.meta.icon?a("i",{class:t.meta.icon}):e._e(),e._v(" "),a("span",{attrs:{slot:"title"},slot:"title"},[e._v(e._s(t.meta.name))])])]}))],2)],1)}),[],!1,R,"data-v-e223a43c",null).exports,D={components:{SideBar:M},data:function(){return{}},methods:{}};var O=function(e){a("WeKU")},$=Object(m.a)(D,(function(){var e=this.$createElement,t=this._self._c||e;return t("div",{staticClass:"page-outer"},[t("side-bar",{attrs:{"path-name":"TestIndex"}}),this._v(" "),t("div",{staticClass:"right-content"},[t("router-view")],1)],1)}),[],!1,O,"data-v-3c6483a2",null).exports,L=a("ABGj"),j={mixins:[L.a],data:function(){return{}},methods:{}};var z=function(e){a("imdU")},A=Object(m.a)(j,(function(){var e=this.$createElement,t=this._self._c||e;return t("div",{staticClass:"page-inner"},[this._v("\n        hello sub-page-test1\n\t\t"),t("router-view")],1)}),[],!1,z,"data-v-51d2743a",null).exports,V={mixins:[L.a],data:function(){return{}},methods:{}};var E=function(e){a("Ivb1")},q=Object(m.a)(V,(function(){var e=this.$createElement;return(this._self._c||e)("div",{staticClass:"page-inner"},[this._v("\n    hello sub-page-test22222222222222222222222222222222222222222222222222222222\n")])}),[],!1,E,"data-v-61eb8725",null).exports,B={name:"test-sub-page12",mixins:[L.a],data:function(){return{menuVisible:!1,tableData:[{caseCode:"直接登录网站",testPoint:"1",checkPoint:"检查是否可以抓取到登录成功后页面上的退出按钮。","data_{点击登录}":'@value\ny\n@after\nUI("页面").webbutton("退出检查").checkEqualText("退出");',"data_{点击登录按钮}":"y",expectResult:"成功登录电子商务网站","data_{输入用户名}":"1234",caseCompositeType:1,"data_{获取网址}":"{expr=Data.Aut(URL)}",testStep:"获取网址->点击登录按钮->输入用户名->输入密码->点击登录",id:23037,"data_{输入密码}":"123456",testDesign:"测试直接通过账号登录网站"}],tableHead:[["[公共函数集]","{获取网址}"],["[按钮控件]","{点击登录按钮}"],["[按钮控件]","{点击注册账号}"],["[输入框]","{输入会员账号}"],["[输入框]","{输入会员密码}"],["[输入框]","{密码确认}"],["[输入框]","{输入真实姓名}"],["[输入框]","{输入Email}"],["[输入框]","{输入手机号码}"],["[输入框]","{输入身份证号}"],["[按钮控件]","{点击提交}"],["[按钮控件]","{退出检查}"]]}},methods:{rightMenu:function(e,t,a){console.log(e),console.log(t),console.log(a),this.menuVisible=!1,this.menuVisible=!0;var s=document.querySelector("#menu");return this.styleMenu(s),!1},styleMenu:function(e){e.style.left=event.clientX+1+"px",e.style.top=event.clientY-10+"px",document.addEventListener("click",this.foo)},foo:function(){this.menuVisible=!1,document.removeEventListener("click",this.foo)}}};var U=function(e){a("sXU1")},Q=Object(m.a)(B,(function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{on:{contextmenu:function(e){e.preventDefault()}}},[a("el-table",{staticStyle:{width:"100%"},attrs:{data:e.tableData},on:{contextmenu:function(t){return t.preventDefault(),e.rightMenu(t)},"row-contextmenu":e.rightMenu}},[a("el-table-column",{attrs:{prop:"date",label:"日期",width:"180"}}),e._v(" "),a("el-table-column",{attrs:{prop:"name",label:"姓名",width:"180"}}),e._v(" "),a("el-table-column",{attrs:{prop:"address",label:"地址"}}),e._v(" "),e._l(e.tableHead,(function(t,s){return a("el-table-column",{key:s,attrs:{label:t[0]+t[1],width:"180"},scopedSlots:e._u([{key:"default",fn:function(a){return[e._v("\n                    "+e._s(a.row["data_"+t[1]])+"\n                ")]}}],null,!0)})}))],2),e._v(" "),a("div",{directives:[{name:"show",rawName:"v-show",value:e.menuVisible,expression:"menuVisible"}]},[e._m(0)])],1)}),[function(){var e=this.$createElement,t=this._self._c||e;return t("ul",{staticClass:"menu",attrs:{id:"menu"}},[t("li",{staticClass:"menu__item"},[this._v("新增")]),this._v(" "),t("li",{staticClass:"menu__item"},[this._v("重命名")]),this._v(" "),t("li",{staticClass:"menu__item"},[this._v("删除")])])}],!1,U,"data-v-52dade5b",null).exports,H={name:"test-sub-page12",mixins:[L.a],data:function(){return{tableData:[{id:123,name:"直接登录网站",age:"11"},{id:33,name:"asd",age:"22"},{id:12553,name:"zxc",age:"5"}],selectedArr:[],rowIndex:-1,columnIndex:-1}},methods:{log:function(e){alert(e)},selected:function(e){console.log(e),this.selectedArr=e},isRed:function(e){var t=e.row,a=e.column,s=e.rowIndex,l=e.columnIndex;if(console.log(t),console.log(a),console.log(s),console.log(l),s===this.rowIndex&&l===this.columnIndex)return console.log("ssss"),"reds"},tableRowClassName:function(e){var t=e.row,a=e.rowIndex;t.index=a},onRowClick:function(e,t,a){var s=e.index,l=Array.indexOf(this.showIndexArr,s);-1!=l&&this.showIndexArr.splice(l,1)}}};var W=function(e){a("cFAo")},J={path:"/test",name:"TestIndex",component:$,redirect:"/test/test-sub-page1/test-sub-page-two",meta:{name:"测试页面"},children:[{path:"test-sub-page1",name:"TestSubPage1",component:A,meta:{name:"模板管理1",parent:"TestIndex",icon:"el-icon-document-copy"},children:[{path:"test-sub-page-two",name:"TestSubPage11",component:Q,meta:{name:"模板管理11",parent:"TestSubPage1",icon:"el-icon-document-copy"}},{path:"test-sub-page12",name:"TestSubPage12",component:Object(m.a)(H,(function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{on:{contextmenu:function(e){e.preventDefault()}}},[a("el-table",{staticStyle:{width:"100%"},attrs:{data:e.tableData,"cell-class-name":e.isRed,"row-class-name":e.tableRowClassName},on:{"row-click":e.onRowClick}},[a("el-table-column",{attrs:{type:"selection",width:"50"}}),e._v(" "),a("el-table-column",{attrs:{prop:"name",label:"姓名",width:"80"}}),e._v(" "),a("el-table-column",{attrs:{prop:"age",label:"年龄",width:"80"}})],1),e._v(" "),a("div",[a("button",{on:{click:function(t){e.rowIndex++}}},[e._v("aa+a")]),e._v(" "),a("button",{on:{click:function(t){e.columnIndex++}}},[e._v("bb+bb")]),e._v(" "),a("button",{on:{click:function(t){e.rowIndex--}}},[e._v("a-aa")]),e._v(" "),a("button",{on:{click:function(t){e.columnIndex--}}},[e._v("bb-bb")])]),e._v(" "),a("div",[e._v("\n            rowIndex: "+e._s(e.rowIndex)+"\n            columnIndex: "+e._s(e.columnIndex)+"\n        ")]),e._v(" "),a("div",{on:{click:function(t){return e.log("外部")}}},[e._v("\n            rowIndex: "+e._s(e.rowIndex)+"\n            "),a("div",{on:{click:function(t){return e.log("中部")}}},[a("span",{on:{click:function(t){return t.stopPropagation(),e.log("内部")}}},[e._v("rowIndex 内部: "+e._s(e.rowIndex))]),e._v("\n                columnIndex 中部: "+e._s(e.columnIndex)+"\n            ")]),e._v("\n            columnIndex 外部: "+e._s(e.columnIndex)+"\n        ")])],1)}),[],!1,W,"data-v-bf6a3154",null).exports,meta:{name:"模板管理12",parent:"TestSubPage1",icon:"el-icon-document-copy"}}]},{path:"test-sub-page2",name:"TestSubPage2",component:q,meta:{name:"模板管理2",parent:"TestIndex",icon:"el-icon-document-copy"}}]},K=[{name:"被测系统管理",pathName:"TestedSystemManagement",status:!0,pre:0,item:[{name:"添加被测系统",pathName:"TestedSystemManagement",status:"",pre:0},{name:"添加功能点",pathName:"Transact",status:"",pre:1},{name:"添加UI及元素",pathName:"TransactDetail",status:"",pre:2},{name:"配置脚本",pathName:"TransactDetail",status:"",pre:2}]},{name:"脚本生成",pathName:"testProject",status:!1,pre:0,item:[{name:"添加测试项目",pathName:"testProject",status:"",pre:0},{name:"添加用例",pathName:"testCase",status:"",pre:3},{name:"配置数据",pathName:"datatable",status:"",pre:3},{name:"配置场景",pathName:"scene",status:"",pre:3}]},{name:"测试执行",pathName:"testplanExecute",status:!1,pre:3,item:[{name:"添加测试计划",pathName:"testplanExecute",status:"",pre:3},{name:"添加待执行场景",pathName:"testplanExecute",status:"",pre:3},{name:"选择执行机",pathName:"testplanExecute",status:"",pre:3},{name:"执行",pathName:"testplanExecute",status:"",pre:3}]},{name:"结果查询",pathName:"BatchExecutionQuery",status:!1,pre:3,item:[{name:"按执行批次查询",pathName:"BatchExecutionQuery",status:"",pre:3},{name:"按记录单查询",pathName:"TestRecord",status:"",pre:3}]}],Y={name:"progressBar",props:{},data:function(){return{paths:K,smallPaths:K[0].item,bigActive:0,smallActive:1,flag:!1,hideFlag:!0,progressList:[],progressListTimely:[]}},created:function(){},watch:{bigActive:function(){this.smallPaths=K[this.bigActive].item},$route:{handler:function(e,t){console.log("=============================================="),console.log(e),console.log("to.meta.parent",e.name),console.log("to.meta.parent",e.meta.parent);for(var a=0;a<this.paths.length;a++){console.log(a),console.log(this.paths[a].pathName),console.log(e.meta.parent),console.log("=======================2222=======================");for(var s=0;s<this.paths[a].item.length;s++)if(this.paths[a].item[s].pathName===e.name){this.bigActive=a,this.smallActive=s,console.log("=======================1111=======================");break}}},immediate:!0}},computed:{},methods:{goToPage:function(e){console.log("name"),console.log(e),this.$router.push({name:e})}}};var X=function(e){a("LzAU")},G=Object(m.a)(Y,(function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"my-progress-bar"},[a("el-steps",{staticStyle:{"margin-top":"20px"},attrs:{simple:"",active:e.bigActive,"finish-status":"success"}},e._l(e.paths,(function(t,s){return a("el-step",{key:"bigStep"+s,attrs:{title:t.name},nativeOn:{click:function(a){return e.goToPage(t.pathName)}}})})),1),e._v(" "),a("el-steps",{staticStyle:{"margin-top":"20px"},attrs:{active:e.smallActive,"finish-status":"success"}},e._l(e.smallPaths,(function(t,s){return a("el-step",{key:"smallStep"+s,attrs:{title:t.name},nativeOn:{click:function(a){return e.goToPage(t.pathName)}}})})),1)],1)}),[],!1,X,null,null).exports,Z={name:"index",components:{SideBar:M,progressBar:G},data:function(){return{}},methods:{}};var ee=function(e){a("RX7Q")},te=Object(m.a)(Z,(function(){var e=this.$createElement,t=this._self._c||e;return t("div",{staticClass:"page-outer"},[t("side-bar",{attrs:{"path-name":"TestInfrastructure"}}),this._v(" "),t("div",{staticClass:"right-content"},[t("progress-bar"),this._v(" "),t("div",[t("router-view")],1)],1)],1)}),[],!1,ee,"data-v-41056f66",null).exports;var ae=function(e){a("gXHY")},se=Object(m.a)({name:"index",data:function(){return{}},methods:{}},(function(){var e=this.$createElement,t=this._self._c||e;return t("div",{},[t("router-view")],1)}),[],!1,ae,"data-v-0e28158e",null).exports,le={components:{ElSlPanel:g.a},mixins:[L.a],name:"testedSystemManagement",data:function(){return{highIsActive:!1,currentPage:1,pageSize:10,totalCount:50,tableData:[],radio:!1,selectInfo:"",dialogModelFlag:0,dialogVisible:!1,form:{code:"",nameMedium:"",inheriteArcId:9,descShort:""},id:"",abstractArchitectureInfo:{},selectedAbstractArchitectureName:"截图",rules:{nameMedium:[{required:!0,message:"系统名称是必填项",trigger:"blur"}]},successDialogVisible:!1,autId:-1,index:0,row:{},sendCode:"",manageId:"",manageCode:"",hideFun:"<< 隐藏高级功能",showFun:"展示高级功能 >>",nameMedium:""}},computed:{params:function(){var e={currentPage:this.currentPage,orderColumns:"modified_time",orderType:"DESC",pageSize:this.pageSize};return""!==this.selectInfo&&(e.codeAndName=this.selectInfo),e},dialogTitle:function(){return{0:"添加测试系统",1:"修改测试系统",2:"操作失败"}[this.dialogModelFlag]},dialogOperateButton:function(){return["添加","修改"][this.dialogModelFlag]}},created:function(){this.getAllSystem(),this.getAbstractArchitectureList()},methods:{showHighFunction:function(){this.highIsActive=!this.highIsActive},addButton:function(){this.form.code="",this.form.nameMedium="",this.form.inheriteArcId=9,this.form.descShort="",this.dialogModelFlag=0,this.dialogVisible=!0},updateButton:function(){if(!1===this.radio)this.$message.warning("请选择一条数据！！");else{console.log("修改",this.index,this.row),this.dialogModelFlag=1;var e=this.row,t=e.code,a=e.nameMedium,s=e.inheriteArcId,l=e.descShort;this.form={code:t,nameMedium:a,inheriteArcId:s,descShort:l},this.selectedAbstractArchitectureName=this.abstractArchitectureInfo[this.form.inheriteArcId],console.log(s),this.dialogVisible=!0}},manageFunctionButton:function(){console.log("管理功能点",this.radio);!1===this.radio?this.$message.warning("请选择一条数据！！"):this.$router.push({path:"transact",query:{id:this.id}})},configureData:function(){!1===this.radio?this.$message.warning("请选择一条数据！！"):(this.sendCode=this.row.code,this.$router.push({path:"autData",query:{id:this.id,code:this.sendCode}}))},automatedComponentMaintenance:function(){!1===this.radio?this.$message.warning("请选择一条数据！！"):this.$router.push({path:"automatedComponentMaintenance",query:{arcId:this.row.inheriteArcId,inheriteArcName:this.row.inheriteArcName}})},codeManagement:function(){!1===this.radio?this.$message.warning("请选择一条数据！！"):(console.log("执行代码管理",this.id),this.$router.push({path:"execCode",query:{id:this.id}}))},cancelButtonClicked:function(){this.dialogVisible=!1,this.successDialogVisible=!1},configMobile:function(){!1===this.radio?this.$message.warning("请选择一条数据"):this.queryMobile(this.id)},queryMobile:function(e){var t=this;d({url:"/mobileController/queryMobile",method:"POST",params:{sceneId:e}}).then((function(e){console.log("queryMobile",e),"0000"===e.respCode||t.$message.warning(e.respMsg)})).catch((function(e){t.$message.error(e.split("；")[e.split("；").length-1])}))},handleRadioChange:function(e,t){console.log("Radio改变",e,t),this.index=e,this.row=t,this.id=t.id},toTransact:function(e,t){this.id=t.id,console.log("id",this.id),this.$router.push({path:"transact",query:{id:this.id,code:t.code,nameMedium:t.nameMedium}}),console.log("code",t.code)},handleBeforeClose:function(e){return this.dialogModelFlag,e(),!0},setInheriteArcId:function(){var e=this;console.log("信息",e.abstractArchitectureInfo),Object.keys(e.abstractArchitectureInfo).forEach((function(t){e.abstractArchitectureInfo[t]===e.selectedAbstractArchitectureName?(e.form.inheriteArcId=t,console.log("迭代",e.form.inheriteArcId,e.abstractArchitectureInfo[e.form.inheriteArcId])):console.log("我啥也不知道",t,e.abstractArchitectureInfo[t])}))},handleSizeChange:function(e){console.log("每页 ".concat({val:e},"条")),this.pageSize=e,this.getAllSystem()},handleCurrentChange:function(e){console.log("当前页：".concat({val:e})),this.currentPage=e,this.getAllSystem()},getAllSystem:function(e){var t=this;1==e&&(this.currentPage=1),d({url:"/aut/pagedBatchQueryAut",method:"post",params:this.params}).then((function(e){t.tableData=e.autRespDTOList,t.tableData=t.tableData.reverse(),t.totalCount=e.totalCount}),(function(e){console.log(e)})).catch((function(e){console.log(e)}))},searchSystemClear:function(){this.getAllSystem()},getAbstractArchitectureList:function(){var e=this;d({url:"/abstractArchitecture/queryArchitectureList",method:"POST",params:{}}).then((function(t){for(var a=t.architectureRespDTOList,s=0;s<a.length;s++){var l=a[s].id,n=a[s].name;e.abstractArchitectureInfo[l]=n}console.log("全局信息",t.architectureRespDTOList)})).catch((function(e){console.log("查询开发架构失败",e)}))},submitForm:function(e){var t=this,a=this;a.form.code=""===a.form.code?"被测系统"+Date.now():a.form.code,""===a.form.nameMedium?this.$message.warning("*为必选项"):a.$refs[e].validate((function(e){if(!e)return t.$message.warning("信息格式有误"),!1;"添加"==document.getElementById("clickButton").innerText?d({url:"/aut/addSingleAut",method:"POST",params:a.form}).then((function(e){"0000"===e.respCode?(a.autId=e.autId,console.log("获取新加成功的autId",a.autId,e),t.dialogVisible=!1,a.successDialogVisible=!0,a.manageId=e.autId,a.manageCode=a.form.code,console.log("添加成功",e),a.getAllSystem()):(console.log("获取新加成功的autId","添加失败"),a.$message.error(e.respMsg))})).catch((function(e){'"10011111"'===e.respCode&&t.$message.warning("系统名称已经存在"),a.$message.error(e.respMsg)})):(console.log(document.getElementById("clickButton").innerText,a.id),d({url:"/aut/modifySingleAut",method:"POST",params:{code:a.form.code,descShort:a.form.descShort,id:a.id,inheriteArcId:a.form.inheriteArcId,nameMedium:a.form.nameMedium}}).then((function(e){console.log("修改成功",e),t.$message.success("修改成功"),a.dialogVisible=!1,a.getAllSystem()})).catch((function(e){console.log("修改失败",e)})))}))},manageFunction:function(){console.log("code:"+this.manageCode,"id:"+this.manageId),this.$router.push({path:"transact",query:{id:this.manageId,code:this.manageCode}})}}};var ne=function(e){a("TDE7")},oe=Object(m.a)(le,(function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"page-base-inner"},[a("el-container",[a("el-row",{staticClass:"rowMargin"},[a("el-button",{attrs:{type:"primary",icon:"el-icon-plus",size:"small"},on:{click:e.addButton}},[e._v("添加")]),e._v(" "),a("el-button",{attrs:{type:"primary",icon:"el-icon-edit",size:"small"},on:{click:e.updateButton}},[e._v("修改")]),e._v(" "),e.highIsActive?e._e():a("span",{staticClass:"highFunction",attrs:{id:"advancedFunctions",type:"primary"},on:{click:e.showHighFunction}},[e._v(e._s(e.showFun))]),e._v(" "),e.highIsActive?a("span",{staticClass:"high"},[a("el-button",{attrs:{type:"primary",icon:"el-icon-s-tools",size:"small",plain:""},on:{click:e.manageFunctionButton}},[e._v("管理功能点")]),e._v(" "),a("el-button",{attrs:{type:"primary",icon:"el-icon-edit-outline",size:"small",plain:""},on:{click:e.configureData}},[e._v("配置系统数据")]),e._v(" "),a("el-button",{attrs:{type:"primary",icon:"el-icon-s-tools",size:"small",plain:""},on:{click:e.automatedComponentMaintenance}},[e._v("自动化构件维护")]),e._v(" "),a("el-button",{attrs:{type:"primary",icon:"el-icon-s-management",size:"small",plain:""},on:{click:e.codeManagement}},[e._v("执行代码管理")]),e._v(" "),a("el-button",{attrs:{type:"primary",icon:"el-icon-setting",size:"small",plain:""},on:{click:e.configMobile}},[e._v("移动端设备配置")])],1):e._e(),e._v(" "),e.highIsActive?a("span",{staticClass:"highFunction",attrs:{id:"el-panelHidden",type:"primary",icon:"el-icon-d-arrow-left"},on:{click:e.showHighFunction}},[e._v(e._s(e.hideFun))]):e._e()],1),e._v(" "),a("el-main",{staticClass:"el-main-base-inner"},[a("el-row",[a("el-col",{attrs:{span:8}},[a("el-input",{staticClass:"searchInput",attrs:{placeholder:"请输入系统编号或系统名称",clearable:""},on:{clear:e.searchSystemClear},nativeOn:{keyup:function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter")?null:e.getAllSystem(1)}},model:{value:e.selectInfo,callback:function(t){e.selectInfo=t},expression:"selectInfo"}},[a("el-button",{attrs:{slot:"append",size:"small",icon:"el-icon-search"},on:{click:function(t){return e.getAllSystem(1)}},slot:"append"})],1)],1)],1),e._v(" "),a("el-table",{ref:"singleTable",staticClass:"table",attrs:{border:"",stripe:"","highlight-current-row":"","default-sort":{prop:"modifiedTime",order:"descending"},data:e.tableData}},[a("el-table-column",{attrs:{label:"",width:"35px"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("el-radio",{staticClass:"radio",attrs:{label:t.row.id},on:{change:function(a){return e.handleRadioChange(t.$index,t.row)}},model:{value:e.radio,callback:function(t){e.radio=t},expression:"radio"}})]}}])}),e._v(" "),a("el-table-column",{attrs:{sortable:"",type:"index",label:"序号",width:"60px",align:"center"}}),e._v(" "),a("el-table-column",{attrs:{prop:"code",label:"测试系统编号","min-width":"20%",align:"center"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("a",{staticClass:"link",attrs:{target:"_self"},on:{click:function(a){return e.toTransact(t.$index,t.row)}}},[e._v(e._s(t.row.code))])]}}])}),e._v(" "),a("el-table-column",{attrs:{prop:"nameMedium",label:"测试系统名称","min-width":"15%"}}),e._v(" "),a("el-table-column",{attrs:{prop:"inheriteArcName",label:"开发架构","min-width":"15%"}}),e._v(" "),a("el-table-column",{attrs:{prop:"descShort",label:"测试系统描述","min-width":"20%"}}),e._v(" "),a("el-table-column",{attrs:{sortable:"",prop:"createTime",label:"创建时间",formatter:e.transTime,"min-width":"15%"}}),e._v(" "),a("el-table-column",{attrs:{sortable:"",prop:"modifiedTime",label:"修改时间","min-width":"15%",formatter:e.transTime}})],1),e._v(" "),a("el-pagination",{staticClass:"pagination",attrs:{"current-page":e.currentPage,"page-sizes":[5,10,20,50],"page-size":e.pageSize,total:e.totalCount,layout:"total,sizes,prev,pager,next,jumper"},on:{"size-change":e.handleSizeChange,"current-change":e.handleCurrentChange}}),e._v(" "),a("el-dialog",{attrs:{title:e.dialogTitle,visible:e.dialogVisible,"before-close":e.handleBeforeClose,width:"30%"},on:{"update:visible":function(t){e.dialogVisible=t}}},[a("el-form",{ref:"form",attrs:{rules:e.rules,model:e.form,"label-width":"80px","status-icon":""}},[a("el-form-item",{attrs:{label:"系统名称",prop:"nameMedium"}},[a("el-input",{attrs:{placeholder:"请输入测试系统名称"},model:{value:e.form.nameMedium,callback:function(t){e.$set(e.form,"nameMedium",t)},expression:"form.nameMedium"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"系统编号"}},[a("el-input",{attrs:{placeholder:"为空时自动生成"},model:{value:e.form.code,callback:function(t){e.$set(e.form,"code",t)},expression:"form.code"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"开发架构"}},[a("el-select",{staticClass:"addSelect",attrs:{placeholder:"--选择开发架构--"},on:{change:e.setInheriteArcId},model:{value:e.selectedAbstractArchitectureName,callback:function(t){e.selectedAbstractArchitectureName=t},expression:"selectedAbstractArchitectureName"}},e._l(e.abstractArchitectureInfo,(function(t,s){return a("el-option",{key:s,attrs:{value:t}},[e._v(e._s(t))])})),1)],1),e._v(" "),a("el-form-item",{attrs:{label:"描述",prop:"descShort"}},[a("el-input",{attrs:{type:"textarea",rows:"8"},model:{value:e.form.descShort,callback:function(t){e.$set(e.form,"descShort","string"==typeof t?t.trim():t)},expression:"form.descShort"}})],1),e._v(" "),a("el-form-item",{staticClass:"buttons_row"},[a("el-button",{attrs:{id:"clickButton",type:"primary",size:"small"},on:{click:function(t){return e.submitForm("form")}}},[e._v(e._s(e.dialogOperateButton))]),e._v(" "),a("el-button",{attrs:{size:"small"},on:{click:e.cancelButtonClicked}},[e._v("取消")])],1)],1)],1),e._v(" "),a("el-dialog",{attrs:{width:"25%",title:"提示",visible:e.successDialogVisible,"before-close":e.handleBeforeClose},on:{"update:visible":function(t){e.successDialogVisible=t}}},[a("el-form",[a("el-form-item",{attrs:{"label-width":"30px"}},[a("h4",{staticClass:"successTitle"},[e._v("操作成功")])]),e._v(" "),a("hr",{attrs:{width:"100%",color:"#F5F5F5"}}),e._v(" "),a("el-form-item",{staticClass:"formFoot buttonRowManage"},[a("el-button",{attrs:{type:"primary",size:"small"},on:{click:e.cancelButtonClicked}},[e._v("确定")]),e._v(" "),a("el-button",{attrs:{type:"success",size:"small"},on:{click:e.manageFunction}},[e._v("管理功能点")])],1)],1)],1)],1),e._v(" "),a("el-footer")],1)],1)}),[],!1,ne,"data-v-57935242",null).exports,ie=a("lSNA"),re=a.n(ie);function ce(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);t&&(s=s.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,s)}return a}function de(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?ce(a,!0).forEach((function(t){re()(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):ce(a).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}var ue={mixins:[L.a],data:function(){return{addMethodForm:{name:"",descShort:"",overrideFlag:"",isparameter:"",waittime:"",timeout:"",targetCodeContent:""},addForm:{code:"",name:"",parentArcId:"",descShort:""},secondForm:{chsName:"",defaultMethod:"请选择默认方法",descShort:"",name:"",overideFlag:"",visibilityFlag:"",method:"",runtimeArgs:[],selfRecognitionPros:[],supportedRecognitionPros:[],assistRecognitionPros:[],arcId:"",id:"",modifierId:sessionStorage.getItem("userId")},thirdForm:{arcId:"",argsCount:"",arguments:[{name:"YorN",type:"",parameterizeColumn:"{{element}}",desc:""}],classId:"",descShort:"",id:"",inputArgsDesc:"",isparameter:"",labelArgument:"",mtype:"",name:"",outputArgsDesc:"",overrideFlag:"",targetCodeContent:"",timeout:"",visibilityFlag:"",waittime:""},addClassForm:{name:"",chsName:""},overrideFlagList:[{value:"1",label:"自身控件"},{value:"4",label:"禁用"},{value:"5",label:"重定义"}],overrideFlagListM:[{value:1,label:"自身方法"},{value:4,label:"禁用"}],visibilityList:[{value:"1",label:"公共"},{value:"0",label:"私有"}],visibilityListM:[{value:1,label:"公共"},{value:0,label:"私有"}],parameterList:[{value:0,label:"无"},{value:1,label:"有"}],automated:"",arcId:"",defaultMethod:"",methodValue:"",overideValue:"",overideValueM:"",visibilityValue:"",visibilityValueM:"",dialogVisibleD:!1,dialogVisibleA:!1,classId:"",classId0:"",textarea:"",drawer:!1,addFlag:!0,direction:"rtl",componentData:[],classList:[],methodList:[],parentList:[],checkedData:{},modelFlag:1,classValue:"",dialogVisible:!1,dialogVisibleB:!1,defaultProps:{children:"childNodeList",label:"name"},flag:1}},created:function(){this.getArch()},computed:{modelName:function(){return{1:"添加自动化架构",2:"修改自动化架构"}[this.modelFlag]},buttonName:function(){return{1:"添加",2:"修改"}[this.modelFlag]}},methods:{handleEditR1:function(e,t){this.secondForm.runtimeArgs[e-1].name=t.name},handleEditR2:function(e,t){this.secondForm.runtimeArgs[e-1].value=t.value},addArg:function(){this.secondForm.runtimeArgs?this.secondForm.runtimeArgs.push({name:"",value:""}):(this.secondForm.runtimeArgs=[],this.secondForm.runtimeArgs.push({name:"",value:""}))},deleteArg:function(e){this.secondForm.runtimeArgs.splice(e,1)},handleEditS1:function(e,t){this.secondForm.supportedRecognitionPros[e-1].name=t.name},handleEditS2:function(e,t){this.secondForm.supportedRecognitionPros[e-1].value=t.value},addArgS:function(){this.secondForm.supportedRecognitionPros?this.secondForm.supportedRecognitionPros.push({name:"",value:""}):(this.secondForm.supportedRecognitionPros=[],this.secondForm.supportedRecognitionPros.push({name:"",value:""}))},deleteArgS:function(e){this.secondForm.supportedRecognitionPros.splice(e,1)},handleEditE1:function(e,t){this.secondForm.selfRecognitionPros[e-1].name=t.name},handleEditE2:function(e,t){this.secondForm.selfRecognitionPros[e-1].value=t.value},addArgE:function(){this.secondForm.selfRecognitionPros?this.secondForm.selfRecognitionPros.push({name:"",value:""}):(this.secondForm.selfRecognitionPros=[],this.secondForm.selfRecognitionPros.push({name:"",value:""}))},deleteArgE:function(e){this.secondForm.selfRecognitionPros.splice(e,1)},handleEditA1:function(e,t){this.secondForm.assistRecognitionPros[e-1].name=t.name},handleEditA2:function(e,t){this.secondForm.assistRecognitionPros[e-1].value=t.value},addArgA:function(){this.secondForm.assistRecognitionPros?this.secondForm.assistRecognitionPros.push({name:"",value:""}):(this.secondForm.assistRecognitionPros=[],this.secondForm.assistRecognitionPros.push({name:"",value:""}))},deleteArgA:function(e){this.secondForm.assistRecognitionPros.splice(e,1)},handleEditP1:function(e,t){this.thirdForm.arguments[e-1].name=t.name},handleEditP2:function(e,t){this.thirdForm.arguments[e-1].type=t.type},handleEditP3:function(e,t){this.thirdForm.arguments[e-1].parameterizeColumn=t.parameterizeColumn},handleEditP4:function(e,t){this.thirdForm.arguments[e-1].desc=t.desc},addArgP:function(){this.thirdForm.arguments?this.thirdForm.arguments.push({name:"",value:""}):(this.thirdForm.arguments=[],this.thirdForm.arguments.push({name:"",value:""}))},deleteArgP:function(e){this.thirdForm.arguments.splice(e,1)},addMethod:function(){var e=this;d({url:"/arcMethod/addSingleArcOmMethod",method:"post",params:de({arcId:this.arcId,classId:this.classId0,creatorId:sessionStorage.getItem("userId"),mtype:1},this.addMethodForm)}).then((function(t){e.dialogVisibleB=!e.dialogVisibleB,e.$alert("添加方法成功","成功",{confirmButtonText:"确定"}),e.getMethod(e.classId0)}),(function(t){e.$alert("添加方法失败","失败",{confirmButtonText:"确定"})})).catch((function(t){e.$alert("添加方法失败","失败",{confirmButtonText:"确定"})}))},deleteMethod:function(){var e=this;d({url:"/arcMethod/deleteSingleArcOmMethod",method:"post",params:{id:this.classId}}).then((function(t){e.$alert("删除控件成功","成功",{confirmButtonText:"确定"}),e.getMethod(e.classId0)}),(function(t){e.$alert("删除控件失败","失败",{confirmButtonText:"确定"})})).catch((function(t){e.$alert("删除控件失败","失败",{confirmButtonText:"确定"})}))},addClass:function(){var e=this;d({url:"/arcClass/addSingleArcOmClass",method:"post",params:de({descShort:"",defaultMethod:"",arcId:this.arcId,supportedRecognitionPros:"",runtimeArgs:"",selfRecognitionPros:"",assistRecognitionPros:"",overideFlag:"",visibilityFlag:""},this.addClassForm)}).then((function(t){e.dialogVisibleA=!e.dialogVisibleA,e.$alert("添加控件成功","成功",{confirmButtonText:"确定"}),e.getClass()}),(function(t){e.$alert("添加控件失败","失败",{confirmButtonText:"确定"})})).catch((function(t){e.$alert("添加控件失败","失败",{confirmButtonText:"确定"})}))},deleteForm:function(){var e=this;this.$alert("请问确定删除该控件吗？","提示",{confirmButtonText:"确定",callback:function(t){e.deleteClass()}})},deleteClass:function(){var e=this;d({url:"/arcClass/deleteSingleArcOmClass",method:"post",params:{id:this.secondForm.id}}).then((function(t){e.$alert("删除控件成功","成功",{confirmButtonText:"确定"}),e.getClass()}),(function(t){e.$alert("删除控件失败","失败",{confirmButtonText:"确定"})})).catch((function(t){e.$alert("删除控件失败","失败",{confirmButtonText:"确定"})}))},addArch:function(e){0==e?(this.modelFlag=1,this.addFlag=!0):(this.modelFlag=2,this.addFlag=!1,this.addForm=this.checkedData),this.dialogVisibleD=!this.dialogVisibleD},add:function(){var e=this;d({url:"/abstractArchitecture/addAbstractArchitecture",method:"post",params:de({creatorId:sessionStorage.getItem("userId")},this.addForm)}).then((function(t){e.dialogVisibleD=!e.dialogVisibleD,e.getArch(),e.$alert("添加自动化架构成功","成功",{confirmButtonText:"确定"})}),(function(t){e.$alert("添加自动化架构失败","失败",{confirmButtonText:"确定"})})).catch((function(t){e.$alert("添加自动化架构失败","失败",{confirmButtonText:"确定"})}))},edit:function(){var e=this;d({url:"/abstractArchitecture/modifyAbstractArchitecture",method:"post",params:de({modifierId:sessionStorage.getItem("userId")},this.addForm)}).then((function(t){e.dialogVisibleD=!e.dialogVisibleD,e.getArch(),e.$alert("修改自动化架构成功","成功",{confirmButtonText:"确定"})}),(function(t){e.$alert("修改自动化架构失败","失败",{confirmButtonText:"确定"})})).catch((function(t){e.$alert("修改自动化架构失败","失败",{confirmButtonText:"确定"})}))},handleClose1:function(e){this.$confirm("确认关闭？").then((function(t){e()})).catch((function(e){}))},componentFormButton:function(){this.dialogVisible=!0},submitComponentForm:function(e){this.dialogVisible=!1},handleCheckChange:function(e,t,a){if(t){var s=[e.id];this.checkedData=e,this.arcId=e.id,this.$refs.tree.setCheckedKeys(s),this.automated=e.name,document.getElementById("componentInput").style.color="black",this.getClass()}},getClass:function(){var e=this;d({url:"/arcClass/queryArcVisibleOmClasses",method:"post",params:{id:this.arcId}}).then((function(t){e.classList=t.arcClassRespDTOList,e.classValue=e.classList[0].name,e.classId0=e.classList[0].id,e.secondForm=e.classList[0],e.secondForm.runtimeArgs=JSON.parse(e.classList[0].runtimeArgs),e.secondForm.selfRecognitionPros=JSON.parse(e.classList[0].selfRecognitionPros),e.secondForm.supportedRecognitionPros=JSON.parse(e.classList[0].supportedRecognitionPros),e.secondForm.assistRecognitionPros=JSON.parse(e.classList[0].assistRecognitionPros),e.secondForm.defaultMethod="请选择默认方法",e.setOverrideFlag(e.classList[0].overideFlag),e.setVisibility(e.classList[0].visibilityFlag),e.getMethod(e.classList[0].id)}),(function(e){console.log(e)})).catch((function(e){console.log(e)}))},getMethod:function(e){var t=this;d({url:"/arcClass/queryArcVisibleOmMethods",method:"post",params:{id:e}}).then((function(e){t.methodList=e.arcMethodRespDTOList,t.methodValue=t.methodList[0].name,t.classId=t.methodList[0].id,t.thirdForm=t.methodList[0],t.textarea=t.methodList[0].targetCodeContent,"o"!=t.methodList[0].arguments[1]?t.thirdForm.arguments=JSON.parse(t.methodList[0].arguments):t.thirdForm.arguments=[],t.setOverrideFlagM(t.methodList[0].overrideFlag),t.setVisibilityM(t.methodList[0].visibilityFlag)}),(function(e){console.log(e)})).catch((function(e){console.log(e)}))},classSelect:function(e){this.classValue=e.name,this.classId0=e.id,this.secondForm=e,console.log(e),this.secondForm.runtimeArgs&&"[]"!=this.secondForm.runtimeArgs||(this.secondForm.runtimeArgs=[]),this.secondForm.selfRecognitionPros&&"[]"!=this.secondForm.selfRecognitionPros||(this.secondForm.selfRecognitionPros=[]),this.secondForm.supportedRecognitionPros&&"[]"!=this.secondForm.supportedRecognitionPros||(this.secondForm.supportedRecognitionPros=[]),this.secondForm.assistRecognitionPros&&"[]"!=this.secondForm.assistRecognitionPros||(this.secondForm.assistRecognitionPros=[]),this.setOverrideFlag(e.overideFlag),this.setVisibility(e.visibilityFlag),this.getMethod(e.id)},methodSelect:function(e){this.thirdForm=e,this.methodValue=e.name,this.textarea=e.targetCodeContent,this.classId=e.id,console.log(e),"o"!=this.methodList[0].arguments[1]&&"string"==typeof this.methodList[0].arguments?this.thirdForm.arguments=JSON.parse(e.arguments):"o"!=this.methodList[0].arguments[1]&&"[]"!=this.methodList[0].arguments||(this.thirdForm.arguments=[]),this.setOverrideFlagM(e.overrideFlag),this.setVisibilityM(e.visibilityFlag)},setOverrideFlag:function(e){"1"==e?this.overideValue="自身控件":"4"==e?this.overideValue="禁用":"5"==e&&(this.overideValue="重定义")},setVisibility:function(e){"1"==e?this.visibilityValue="公共":"0"==e&&(this.visibilityValue="私有")},setOverrideFlagM:function(e){1==e?this.overideValueM="自身控件":4==e&&(this.overideValueM="禁用")},setVisibilityM:function(e){1==e?this.visibilityValueM="公共":0==e&&(this.visibilityValueM="私有")},getArch:function(){var e=this;d({url:"/abstractArchitecture/queryArchitectureList",method:"post"}).then((function(t){e.parentList=t.architectureRespDTOList}),(function(e){console.log(e)})).catch((function(e){console.log(e)}))},loadTreeNode:function(e,t){var a=this;if(console.log(e),0==e.level)d({url:"/abstractArchitecture/queryArchitectureList",method:"post"}).then((function(e){for(var s=e.architectureRespDTOList,l=0;l<s.length;l++)0==s[l].level&&a.componentData.push(s[l]);t(a.componentData)}),(function(e){console.log(e)})).catch((function(e){console.log(e)}));else{this.flag=1;for(var s=0;s<this.componentData.length;s++)this.componentData[s].id==e.data.id&&(t(this.componentData[s].childNodeList),this.flag=2),1==this.flag&&t([])}},storeClass:function(){var e=this,t={};for(var a in this.secondForm)this.secondForm[a]?t[a]="runtimeArgs"==a||"selfRecognitionPros"==a||"supportedRecognitionPros"==a||"assistRecognitionPros"==a?JSON.stringify(this.secondForm[a]):this.secondForm[a].toString():t[a]="";d({url:"/arcClass/modifySingleArcOmClass",method:"post",params:t}).then((function(t){e.$alert("保存控件信息成功","成功",{confirmButtonText:"确定"})}),(function(t){e.$alert("保存控件信息失败","失败",{confirmButtonText:"确定"})})).catch((function(t){e.$alert("保存控件信息失败","失败",{confirmButtonText:"确定"})}))},storeMethod:function(){var e=this,t={};for(var a in this.thirdForm)this.thirdForm[a]&&"arguments"!=a&&(t[a]=this.thirdForm[a].toString());"["!=this.thirdForm.arguments[0]&&(t.arguments=JSON.stringify(this.thirdForm.arguments)),d({url:"/arcMethod/modifySingleArcOmMethod",method:"post",params:de({author:""},t)}).then((function(t){e.drawer=!e.drawer,e.$alert("保存方法成功","成功",{confirmButtonText:"确定"})}),(function(t){e.$alert("保存方法失败","失败",{confirmButtonText:"确定"})})).catch((function(t){e.$alert("保存方法失败","失败",{confirmButtonText:"确定"})}))}}};var me=function(e){a("I64C"),a("alQj")},pe=Object(m.a)(ue,(function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"page-inner"},[a("el-container",[a("el-main",[a("el-form",{staticClass:"fistForm",attrs:{"label-width":"100%"}},[a("el-row",[a("el-col",{attrs:{span:4,offset:2}},[a("el-input",{attrs:{size:"small",id:"componentInput",disabled:!0,placeholder:"选择的开发架构"},model:{value:e.automated,callback:function(t){e.automated=t},expression:"automated"}})],1),e._v(" "),a("el-col",{staticStyle:{"margin-left":"15px"},attrs:{span:3}},[a("el-button",{attrs:{icon:"el-icon-setting",size:"small",type:"primary"},on:{click:e.componentFormButton}},[e._v("\n\t\t\t\t\t\t\t选择开发架构\n\t\t\t\t\t\t")])],1),e._v(" "),a("el-col",{staticStyle:{"margin-left":"5px"},attrs:{span:1}},[a("el-button",{attrs:{icon:"el-icon-plus",size:"small"},on:{click:function(t){return e.addArch(0)}}})],1),e._v(" "),a("el-col",{staticStyle:{"margin-left":"5px"},attrs:{span:1}},[a("el-button",{attrs:{icon:"el-icon-edit",size:"small"},on:{click:function(t){return e.addArch(1)}}})],1),e._v(" "),a("el-col",{attrs:{span:6,offset:1}},[a("el-form-item",{staticStyle:{"margin-top":"7px"},attrs:{label:"控件名称","label-width":"30%"}},[a("el-select",{attrs:{filterable:"",placeholder:"请选择控件",size:"small"},on:{change:function(t){return e.classSelect(t)}},model:{value:e.classValue,callback:function(t){e.classValue=t},expression:"classValue"}},e._l(e.classList,(function(e){return a("el-option",{key:e.id,attrs:{label:e.name,value:e}})})),1)],1)],1),e._v(" "),a("el-col",{staticStyle:{"margin-left":"10px"},attrs:{span:1}},[a("el-button",{attrs:{icon:"el-icon-plus",size:"small"},on:{click:function(t){e.dialogVisibleA=!e.dialogVisibleA}}})],1),e._v(" "),a("el-col",{staticStyle:{"margin-left":"5px"},attrs:{span:1}},[a("el-button",{attrs:{icon:"el-icon-delete",size:"small"},on:{click:e.deleteForm}})],1)],1)],1),e._v(" "),a("el-divider",{attrs:{"content-position":"center"}},[e._v("控件类型")]),e._v(" "),a("el-form",{attrs:{model:e.secondForm,"label-width":"100%"}},[a("el-row",[a("el-col",{attrs:{span:8,offset:2}},[a("el-form-item",{attrs:{label:"英文名称",prop:"name","label-width":"30%"}},[a("el-input",{attrs:{size:"small"},model:{value:e.secondForm.name,callback:function(t){e.$set(e.secondForm,"name",t)},expression:"secondForm.name"}})],1)],1),e._v(" "),a("el-col",{attrs:{span:8,offset:2}},[a("el-form-item",{attrs:{label:"中文名称",prop:"chsName","label-width":"30%"}},[a("el-input",{attrs:{size:"small"},model:{value:e.secondForm.chsName,callback:function(t){e.$set(e.secondForm,"chsName",t)},expression:"secondForm.chsName"}})],1)],1)],1),e._v(" "),a("el-row",[a("el-col",{attrs:{span:8,offset:2}},[a("el-form-item",{attrs:{label:"描述",prop:"descShort","label-width":"30%"}},[a("el-input",{attrs:{size:"small"},model:{value:e.secondForm.descShort,callback:function(t){e.$set(e.secondForm,"descShort",t)},expression:"secondForm.descShort"}})],1)],1),e._v(" "),a("el-col",{attrs:{span:8,offset:2}},[a("el-form-item",{attrs:{label:"默认方法",prop:"defaultMethod","label-width":"30%"}},[a("el-select",{staticClass:"selectWidth",attrs:{placeholder:"-选择默认方法-",size:"small"},model:{value:e.secondForm.defaultMethod,callback:function(t){e.$set(e.secondForm,"defaultMethod",t)},expression:"secondForm.defaultMethod"}},e._l(e.methodList,(function(e){return a("el-option",{key:e.id,attrs:{label:e.name,value:e.id}})})),1)],1)],1)],1),e._v(" "),a("el-row",[a("el-col",{attrs:{span:8,offset:2}},[a("el-form-item",{attrs:{label:"继承标志",prop:"overideFlag","label-width":"30%"}},[a("el-select",{staticClass:"selectWidth",attrs:{placeholder:"-请选择-",size:"small"},model:{value:e.overideValue,callback:function(t){e.overideValue=t},expression:"overideValue"}},e._l(e.overrideFlagList,(function(e){return a("el-option",{key:e.value,attrs:{label:e.label,value:e.value}})})),1)],1)],1),e._v(" "),a("el-col",{attrs:{span:8,offset:2}},[a("el-form-item",{attrs:{label:"继承可见性",prop:"visibilityFlag","label-width":"30%"}},[a("el-select",{staticClass:"selectWidth",attrs:{placeholder:"-请选择-",size:"small"},model:{value:e.visibilityValue,callback:function(t){e.visibilityValue=t},expression:"visibilityValue"}},e._l(e.visibilityList,(function(e){return a("el-option",{key:e.value,attrs:{label:e.label,value:e.value}})})),1)],1)],1)],1),e._v(" "),a("el-row",[a("el-col",{attrs:{span:8,offset:2}},[a("el-form-item",{attrs:{label:"展示方法信息",prop:"method","label-width":"30%"}},[a("el-select",{staticClass:"selectWidth",attrs:{size:"small"},on:{change:function(t){return e.methodSelect(t)}},model:{value:e.methodValue,callback:function(t){e.methodValue=t},expression:"methodValue"}},e._l(e.methodList,(function(e){return a("el-option",{key:e.id,attrs:{label:e.name,value:e}})})),1)],1)],1),e._v(" "),a("el-col",{attrs:{span:8,offset:3}},[a("el-button",{attrs:{size:"small",type:"primary"},on:{click:function(t){e.drawer=!0}}},[e._v("\n\t\t\t\t\t\t\t展示\n\t\t\t\t\t\t")]),e._v(" "),a("el-button",{attrs:{size:"small",type:"primary"},on:{click:function(t){e.dialogVisibleB=!e.dialogVisibleB}}},[e._v("\n\t\t\t\t\t\t\t添加\n\t\t\t\t\t\t")]),e._v(" "),a("el-button",{attrs:{size:"small",type:"danger"},on:{click:e.deleteMethod}},[e._v("\n\t\t\t\t\t\t\t删除\n\t\t\t\t\t\t")])],1)],1),e._v(" "),a("el-row",[a("el-col",{attrs:{span:20}},[a("el-form-item",{attrs:{label:"运行时参数",prop:"runtimeArgs","label-width":"24.5%"}},[a("el-col",{attrs:{span:18}},[a("el-table",{staticClass:"table tableEdit",attrs:{stripe:"",border:"",data:e.secondForm.runtimeArgs}},[a("el-table-column",{attrs:{label:"属性名"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("el-input",{attrs:{size:"small",placeholder:"请输入内容"},model:{value:t.row.name,callback:function(a){e.$set(t.row,"name",a)},expression:"scope.row.name"}})]}}])}),e._v(" "),a("el-table-column",{attrs:{label:"属性值"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("el-input",{attrs:{size:"small",placeholder:"请输入内容"},model:{value:t.row.value,callback:function(a){e.$set(t.row,"value",a)},expression:"scope.row.value"}})]}}])}),e._v(" "),a("el-table-column",{attrs:{width:"100"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("el-button",{attrs:{size:"small",type:"danger"},on:{click:function(a){return e.deleteArg(t.$index)}}},[e._v("\n\t\t\t\t\t\t\t\t\t\t\t删除\n\t\t\t\t\t\t\t\t\t\t")])]}}])})],1)],1),e._v(" "),a("el-col",{attrs:{span:2}},[a("el-button",{staticStyle:{"margin-left":"20px","margin-top":"0"},attrs:{size:"small"},on:{click:e.addArg}},[e._v("\n\t\t\t\t\t\t\t\t添加\n\t\t\t\t\t\t\t")])],1)],1)],1)],1),e._v(" "),a("el-row",[a("el-col",{attrs:{span:20}},[a("el-form-item",{attrs:{label:"支持的识别属性",prop:"supportedRecognitionPros","label-width":"24.5%"}},[a("el-col",{attrs:{span:18}},[a("el-table",{staticClass:"table tableEdit",attrs:{stripe:"",border:"",data:e.secondForm.supportedRecognitionPros}},[a("el-table-column",{attrs:{label:"属性名"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("el-input",{attrs:{size:"small",placeholder:"请输入内容"},model:{value:t.row.name,callback:function(a){e.$set(t.row,"name",a)},expression:"scope.row.name"}})]}}])}),e._v(" "),a("el-table-column",{attrs:{label:"属性值"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("el-input",{attrs:{size:"small",placeholder:"请输入内容"},model:{value:t.row.value,callback:function(a){e.$set(t.row,"value",a)},expression:"scope.row.value"}})]}}])}),e._v(" "),a("el-table-column",{attrs:{width:"100"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("el-button",{attrs:{size:"small",type:"danger"},on:{click:function(a){return e.deleteArgS(t.$index)}}},[e._v("\n\t\t\t\t\t\t\t\t\t\t\t删除\n\t\t\t\t\t\t\t\t\t\t")])]}}])})],1)],1),e._v(" "),a("el-col",{attrs:{span:2}},[a("el-button",{staticStyle:{"margin-left":"20px","margin-top":"0"},attrs:{size:"small"},on:{click:e.addArgS}},[e._v("\n\t\t\t\t\t\t\t\t\t添加\n\t\t\t\t\t\t\t\t")])],1)],1)],1)],1),e._v(" "),a("el-row",[a("el-col",{attrs:{span:20}},[a("el-form-item",{attrs:{label:"自识别属性",prop:"selfRecognitionPros","label-width":"24.5%"}},[a("el-col",{attrs:{span:18}},[a("el-table",{staticClass:"table tableEdit",attrs:{stripe:"",border:"",data:e.secondForm.selfRecognitionPros}},[a("el-table-column",{attrs:{label:"属性名"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("el-input",{attrs:{size:"small",placeholder:"请输入内容"},model:{value:t.row.name,callback:function(a){e.$set(t.row,"name",a)},expression:"scope.row.name"}})]}}])}),e._v(" "),a("el-table-column",{attrs:{label:"属性值"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("el-input",{attrs:{size:"small",placeholder:"请输入内容"},model:{value:t.row.value,callback:function(a){e.$set(t.row,"value",a)},expression:"scope.row.value"}})]}}])}),e._v(" "),a("el-table-column",{attrs:{width:"100"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("el-button",{attrs:{size:"small",type:"danger"},on:{click:function(a){return e.deleteArgE(t.$index)}}},[e._v("\n\t\t\t\t\t\t\t\t\t\t\t删除\n\t\t\t\t\t\t\t\t\t\t")])]}}])})],1)],1),e._v(" "),a("el-col",{attrs:{span:2}},[a("el-button",{staticStyle:{"margin-left":"20px","margin-top":"0"},attrs:{size:"small"},on:{click:e.addArgE}},[e._v("\n\t\t\t\t\t\t\t\t\t添加\n\t\t\t\t\t\t\t\t")])],1)],1)],1)],1),e._v(" "),a("el-row",[a("el-col",{attrs:{span:20}},[a("el-form-item",{attrs:{label:"辅助识别属性",prop:"assistRecognitionPros","label-width":"24.5%"}},[a("el-col",{attrs:{span:18}},[a("el-table",{staticClass:"table tableEdit",attrs:{stripe:"",border:"",data:e.secondForm.assistRecognitionPros}},[a("el-table-column",{attrs:{label:"属性名"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("el-input",{attrs:{size:"small",placeholder:"请输入内容"},model:{value:t.row.name,callback:function(a){e.$set(t.row,"name",a)},expression:"scope.row.name"}})]}}])}),e._v(" "),a("el-table-column",{attrs:{label:"属性值"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("el-input",{attrs:{size:"small",placeholder:"请输入内容"},model:{value:t.row.value,callback:function(a){e.$set(t.row,"value",a)},expression:"scope.row.value"}})]}}])}),e._v(" "),a("el-table-column",{attrs:{width:"100"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("el-button",{attrs:{size:"small",type:"danger"},on:{click:function(a){return e.deleteArgA(t.$index)}}},[e._v("\n\t\t\t\t\t\t\t\t\t\t删除\n\t\t\t\t\t\t\t\t\t")])]}}])})],1)],1),e._v(" "),a("el-col",{attrs:{span:2}},[a("el-button",{staticStyle:{"margin-left":"20px","margin-top":"0"},attrs:{size:"small"},on:{click:e.addArgA}},[e._v("\n\t\t\t\t\t\t\t\t\t添加\n\t\t\t\t\t\t\t\t")])],1)],1)],1)],1),e._v(" "),a("el-row",{staticClass:"space"}),e._v(" "),a("el-row",[a("el-col",{attrs:{offset:20}},[a("el-button",{attrs:{icon:"el-icon-setting",size:"small",type:"primary"},on:{click:e.storeClass}},[e._v("\n\t\t\t\t\t\t\t保存\n\t\t\t\t\t\t")])],1)],1)],1),e._v(" "),a("el-drawer",{staticClass:"drawer",attrs:{title:"方法","append-to-body":"",size:"50%",visible:e.drawer,direction:e.direction},on:{"update:visible":function(t){e.drawer=t}}},[a("el-form",{ref:"thirdForm",attrs:{model:e.thirdForm}},[a("el-row",[a("el-col",{attrs:{span:9,offset:1}},[a("el-form-item",{attrs:{label:"名字",prop:"name","label-width":"50%"}},[a("el-input",{attrs:{size:"small"},model:{value:e.thirdForm.name,callback:function(t){e.$set(e.thirdForm,"name",t)},expression:"thirdForm.name"}})],1)],1),e._v(" "),a("el-col",{attrs:{span:9,offset:1}},[a("el-form-item",{attrs:{label:"描述",prop:"chsName","label-width":"50%"}},[a("el-input",{attrs:{size:"small"},model:{value:e.thirdForm.descShort,callback:function(t){e.$set(e.thirdForm,"descShort",t)},expression:"thirdForm.descShort"}})],1)],1)],1),e._v(" "),a("el-row",[a("el-col",{attrs:{span:9,offset:1}},[a("el-form-item",{attrs:{label:"继承关系",prop:"overideFlagM","label-width":"50%"}},[a("el-select",{staticClass:"selectWidthM",attrs:{placeholder:"-请选择-",size:"small"},model:{value:e.overideValueM,callback:function(t){e.overideValueM=t},expression:"overideValueM"}},e._l(e.overrideFlagListM,(function(e){return a("el-option",{key:e.value,attrs:{label:e.label,value:e.value}})})),1)],1)],1),e._v(" "),a("el-col",{attrs:{span:9,offset:1}},[a("el-form-item",{attrs:{label:"继承可见性",prop:"visibilityM","label-width":"50%"}},[a("el-select",{staticClass:"selectWidthM",attrs:{placeholder:"-选择默认方法-",size:"small"},model:{value:e.visibilityValueM,callback:function(t){e.visibilityValueM=t},expression:"visibilityValueM"}},e._l(e.visibilityListM,(function(e){return a("el-option",{key:e.value,attrs:{label:e.label,value:e.value}})})),1)],1)],1)],1),e._v(" "),a("el-row",[a("el-col",{attrs:{span:9,offset:1}},[a("el-form-item",{attrs:{label:"标志参数化列",prop:"labelArgument","label-width":"50%"}},[a("el-input",{attrs:{size:"small"},model:{value:e.thirdForm.labelArgument,callback:function(t){e.$set(e.thirdForm,"labelArgument",t)},expression:"thirdForm.labelArgument"}})],1)],1),e._v(" "),a("el-col",{attrs:{span:2,offset:3}},[a("el-button",{staticStyle:{"margin-left":"100px","margin-top":"5px"},attrs:{size:"small"},on:{click:e.addArgP}},[e._v("\n\t\t\t\t\t\t\t\t添加参数\n\t\t\t\t\t\t\t")])],1)],1),e._v(" "),a("el-row",[a("el-col",{attrs:{span:20}},[a("el-form-item",{attrs:{label:"参数列表",prop:"arguments","label-width":"23%"}}),e._v(" "),a("el-table",{staticClass:"table tableEdit",staticStyle:{"margin-left":"70px"},attrs:{stripe:"",border:"",data:e.thirdForm.arguments}},[a("el-table-column",{attrs:{label:"参数名称"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("el-input",{attrs:{size:"small",placeholder:"请输入内容"},model:{value:t.row.name,callback:function(a){e.$set(t.row,"name",a)},expression:"scope.row.name"}})]}}])}),e._v(" "),a("el-table-column",{attrs:{label:"值类型"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("el-input",{attrs:{size:"small",placeholder:"请输入内容"},model:{value:t.row.type,callback:function(a){e.$set(t.row,"type",a)},expression:"scope.row.type"}})]}}])}),e._v(" "),a("el-table-column",{attrs:{label:"参数化列"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("el-input",{attrs:{size:"small",placeholder:"请输入内容"},model:{value:t.row.parameterizeColumn,callback:function(a){e.$set(t.row,"parameterizeColumn",a)},expression:"scope.row.parameterizeColumn"}})]}}])}),e._v(" "),a("el-table-column",{attrs:{label:"描述"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("el-input",{attrs:{size:"small",placeholder:"请输入内容"},model:{value:t.row.desc,callback:function(a){e.$set(t.row,"desc",a)},expression:"scope.row.desc"}})]}}])}),e._v(" "),a("el-table-column",{attrs:{width:"80"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("el-button",{attrs:{size:"small",type:"danger"},on:{click:function(a){return e.deleteArgP(t.$index)}}},[e._v("\n\t\t\t\t\t\t\t\t\t\t\t删除\n\t\t\t\t\t\t\t\t\t\t")])]}}])})],1)],1)],1),e._v(" "),a("el-row",[a("el-col",{attrs:{span:9,offset:1}},[a("el-form-item",{attrs:{label:"等待时间",prop:"waittime","label-width":"50%"}},[a("el-input",{attrs:{size:"small"},model:{value:e.thirdForm.waittime,callback:function(t){e.$set(e.thirdForm,"waittime",t)},expression:"thirdForm.waittime"}})],1)],1),e._v(" "),a("el-col",{attrs:{span:9,offset:1}},[a("el-form-item",{attrs:{label:"超过时间",prop:"timeout","label-width":"50%"}},[a("el-input",{attrs:{size:"small"},model:{value:e.thirdForm.timeout,callback:function(t){e.$set(e.thirdForm,"timeout",t)},expression:"thirdForm.timeout"}})],1)],1)],1),e._v(" "),a("el-row",[a("el-col",{attrs:{span:20}},[a("el-form-item",{attrs:{label:"目标代码",prop:"targetCodeContent","label-width":"23%"}},[a("el-input",{attrs:{type:"textarea",maxlength:"1000",rows:"10","show-word-limit":""},model:{value:e.textarea,callback:function(t){e.textarea=t},expression:"textarea"}})],1)],1)],1),e._v(" "),a("el-row",[a("el-col",{attrs:{span:2,offset:10}},[a("el-button",{attrs:{icon:"el-icon-setting",size:"small",type:"primary"},on:{click:e.storeMethod}},[e._v("\n\t\t\t\t\t\t\t\t保存\n\t\t\t\t\t\t\t")])],1)],1)],1)],1),e._v(" "),a("el-dialog",{attrs:{title:"选择自动化架构",visible:e.dialogVisible,width:"30%"},on:{"update:visible":function(t){e.dialogVisible=t}}},[a("el-form",{ref:"ComponentForm",attrs:{"label-width":"25%"}},[a("div",{staticClass:"custom-tree-container"},[a("div",{staticClass:"block"},[a("el-tree",{ref:"tree",attrs:{data:e.componentData,"show-checkbox":"","node-key":"id",accordion:"","expand-on-click-node":!1,props:e.defaultProps,lazy:!0,load:e.loadTreeNode},on:{"check-change":e.handleCheckChange},scopedSlots:e._u([{key:"default",fn:function(t){var s=t.node;return a("span",{staticClass:"custom-tree-node"},[a("span",[e._v(e._s(s.label))])])}}])})],1)]),e._v(" "),a("el-form-item",[a("el-row",[a("el-col",{attrs:{span:1,offset:15}},[a("el-button",{attrs:{type:"primary",size:"small"},on:{click:function(t){return e.submitComponentForm("componentForm")}}},[e._v("确定\n\t\t\t\t\t\t\t\t")])],1)],1)],1)],1)],1),e._v(" "),a("el-dialog",{attrs:{title:e.modelName,visible:e.dialogVisibleD,width:"30%"},on:{"update:visible":function(t){e.dialogVisibleD=t}}},[a("el-form",{ref:"addForm",attrs:{model:e.addForm,"label-width":"30%"}},[a("el-form-item",{attrs:{label:"编码",prop:"code"}},[a("el-input",{model:{value:e.addForm.code,callback:function(t){e.$set(e.addForm,"code",t)},expression:"addForm.code"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"中文名称",prop:"name"}},[a("el-input",{model:{value:e.addForm.name,callback:function(t){e.$set(e.addForm,"name",t)},expression:"addForm.name"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"父架构",prop:"parentArcId"}},[a("el-select",{staticClass:"selectWidth",attrs:{size:"small"},model:{value:e.addForm.parentArcId,callback:function(t){e.$set(e.addForm,"parentArcId",t)},expression:"\n\t\t\t\t\t\t\t\t\t\t\taddForm.parentArcId\n\t\t\t\t\t\t\t\t\t\t"}},e._l(e.parentList,(function(e){return a("el-option",{key:e.id,attrs:{label:e.name,value:e.id}})})),1)],1),e._v(" "),a("el-form-item",{attrs:{label:"描述",prop:"descShort"}},[a("el-input",{model:{value:e.addForm.descShort,callback:function(t){e.$set(e.addForm,"descShort",t)},expression:"addForm.descShort"}})],1),e._v(" "),a("el-form-item",[e.addFlag?a("el-button",{attrs:{type:"primary"},on:{click:function(t){return e.add()}}},[e._v(e._s(e.buttonName))]):a("el-button",{attrs:{type:"primary"},on:{click:function(t){return e.edit()}}},[e._v(e._s(e.buttonName))]),e._v(" "),a("el-button",{on:{click:function(t){e.dialogVisibleD=!e.dialogVisibleD}}},[e._v("取消")])],1)],1)],1),e._v(" "),a("el-dialog",{attrs:{title:"添加控件",visible:e.dialogVisibleA,width:"30%"},on:{"update:visible":function(t){e.dialogVisibleA=t}}},[a("el-form",{ref:"addClassForm",attrs:{model:e.addClassForm,"label-width":"30%"}},[a("el-form-item",{attrs:{label:"英文名称",prop:"name"}},[a("el-input",{model:{value:e.addClassForm.name,callback:function(t){e.$set(e.addClassForm,"name",t)},expression:"addClassForm.name"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"中文名称",prop:"chsName"}},[a("el-input",{model:{value:e.addClassForm.chsName,callback:function(t){e.$set(e.addClassForm,"chsName",t)},expression:"addClassForm.chsName"}})],1),e._v(" "),a("el-form-item",[a("el-button",{attrs:{type:"primary"},on:{click:e.addClass}},[e._v("添加")]),e._v(" "),a("el-button",{on:{click:function(t){e.dialogVisibleA=!e.dialogVisibleA}}},[e._v("取消")])],1)],1)],1),e._v(" "),a("el-dialog",{attrs:{title:"添加方法",visible:e.dialogVisibleB,width:"30%"},on:{"update:visible":function(t){e.dialogVisibleB=t}}},[a("el-form",{attrs:{model:e.addMethodForm,"label-width":"30%"}},[a("el-form-item",{attrs:{label:"名称",prop:"name"}},[a("el-input",{model:{value:e.addMethodForm.name,callback:function(t){e.$set(e.addMethodForm,"name",t)},expression:"addMethodForm.name"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"方法描述",prop:"descShort"}},[a("el-input",{model:{value:e.addMethodForm.descShort,callback:function(t){e.$set(e.addMethodForm,"descShort",t)},expression:"addMethodForm.descShort"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"有无参数",prop:"isparameter"}},[a("el-select",{attrs:{size:"small"},model:{value:e.addMethodForm.isparameter,callback:function(t){e.$set(e.addMethodForm,"isparameter",t)},expression:"\n\t\t\t\t\t\t\t\t\t\t\taddMethodForm.isparameter\n\t\t\t\t\t\t\t\t\t\t"}},e._l(e.parameterList,(function(e){return a("el-option",{key:e.value,attrs:{label:e.label,value:e.value}})})),1)],1),e._v(" "),a("el-form-item",{attrs:{label:"等待时间",prop:"waittime"}},[a("el-input",{model:{value:e.addMethodForm.waittime,callback:function(t){e.$set(e.addMethodForm,"waittime",t)},expression:"addMethodForm.waittime"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"超过时间",prop:"timeout"}},[a("el-input",{model:{value:e.addMethodForm.timeout,callback:function(t){e.$set(e.addMethodForm,"timeout",t)},expression:"addMethodForm.timeout"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"目标代码",prop:"targetCodeContent"}},[a("el-input",{attrs:{type:"textarea",maxlength:"1000",rows:"10"},model:{value:e.addMethodForm.targetCodeContent,callback:function(t){e.$set(e.addMethodForm,"targetCodeContent",t)},expression:"addMethodForm.targetCodeContent"}})],1),e._v(" "),a("el-row"),e._v(" "),a("el-row"),e._v(" "),a("el-form-item",[a("el-button",{attrs:{type:"primary"},on:{click:e.addMethod}},[e._v("添加")]),e._v(" "),a("el-button",{on:{click:function(t){e.dialogVisibleD=!e.dialogVisibleD}}},[e._v("取消")])],1)],1)],1)],1)],1)],1)}),[],!1,me,"data-v-df989f80",null).exports,he={name:"MockApI",components:{ElSlPanel:g.a},mixins:[L.a],data:function(){return{selectName:"preview",expectation:[],showHeader:!1,option:"预览",previewCard:!0,dialogVisible:!1,addTitle:"添加新规则",creatorName:"",expectedName:"",actions:["response","forward"],selectedAction:"response",id:"37",previewPath:"/testInfrastructure/mockApi/preview/",editPath:"/testInfrastructure/mockApi/edit/",runPath:"/testInfrastructure/mockApi/run/",count:0,currentRow:null}},computed:{},created:function(){this.loadExpectation()},mounted:function(){},beforeRouterUpdate:function(e,t,a){a()},methods:{handleRabClick:function(e,t){console.log(e.name),"preview"===e.name?this.$router.push({path:this.previewPath+this.id,query:{id:this.id}}):"edit"===e.name?this.$router.push({path:this.editPath+this.id,query:{id:this.id}}):this.$router.push({path:this.runPath+this.id,query:{id:this.id}})},loadExpectation:function(){var e=this;d({url:"/mockServer/getAllExpectation",method:"POST",params:{}}).then((function(t){console.log("获取映射规则列表成功",t),e.expectation=t.expectationEntityList,e.id=e.expectation[0].id,e.$router.push({path:e.previewPath+e.id,query:{id:e.id}})})).catch((function(e){console.log("获取映射规则列表失败",e)}))},getAllExpectation:function(){var e=this;d({url:"/mockServer/getAllExpectation",method:"POST",params:{}}).then((function(t){console.log("获取映射规则列表成功",t),e.expectation=t.expectationEntityList})).catch((function(e){console.log("获取映射规则列表失败",e)}))},deleteExpectation:function(e){var t=this,s=this;s.$confirm("此操作将永远删除该条数据，是否继续?","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then((function(){console.log("id",s.expectation[e].id);var l=a("Qyje");d({url:"//mockServer/deleteExpectation",method:"POST",params:l.stringify({id:s.expectation[e].id})}).then((function(e){console.log("删除成功",e),t.$message({type:"success",message:"删除成功"}),s.getAllExpectation()})).catch((function(e){console.log("删除失败",e)}))})).catch((function(){t.$message({type:"info",message:"取消删除"})}))},changeRadioButton:function(e,t){"预览"===this.option?(console.log("id改变",t),this.previewCard=!0,this.$router.push({path:this.previewPath+this.id,query:{id:this.id}})):"编辑"===this.option?(this.previewCard=!1,this.$router.push({path:this.editPath+this.id,query:{id:this.id}})):(this.previewCard=!1,this.$router.push({path:this.runPath+this.id,query:{id:this.id}}))},handleBeforeClose:function(e){return e(),!0},addNewRule:function(){this.dialogVisible=!0},cancelButton:function(){this.dialogVisible=!1},sureButton:function(){var e=this;d({url:"/mockServer/addBaseInfo",method:"POST",params:{creator:e.creatorName,expectationName:e.expectedName,type:e.selectedAction}}).then((function(t){console.log("添加成功",t),e.getAllExpectation(),e.$message({type:"success",message:"添加成功"}),e.dialogVisible=!1})).catch((function(e){console.log("添加失败",e)}))},handleRowClick:function(e,t,a){this.count++,this.id=e.id,this.changeRadioButton(this.option,this.id)},handleCurrentChange:function(e){this.currentRow=e,this.selectName="preview"}}};var fe=function(e){a("sxxN")},ve=Object(m.a)(he,(function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"page-base-inner"},[a("el-container",[a("el-card",{staticClass:"box-card"},[a("div",{staticClass:"list-header",attrs:{slot:"header"},slot:"header"},[a("span",[e._v("映射规则列表")]),e._v(" "),a("el-button",{staticClass:"btn-top-margin",attrs:{type:"primary",size:"mini",icon:"el-icon-plus",circle:""},on:{click:e.addNewRule}})],1),e._v(" "),a("el-table",{ref:"singleTable",staticClass:"cardTableStyle",attrs:{stripe:"","highlight-current-row":"",data:e.expectation,"show-header":e.showHeader},on:{"row-click":e.handleRowClick,"current-change":e.handleCurrentChange}},[a("el-table-column",{attrs:{width:"185px",prop:"expectationName"}}),e._v(" "),a("el-table-column",{scopedSlots:e._u([{key:"default",fn:function(t){return[a("el-button",{attrs:{type:"danger",size:"mini",icon:"el-icon-delete",circle:""},on:{click:function(a){return a.stopPropagation(),e.deleteExpectation(t.$index)}}})]}}])})],1)],1),e._v(" "),a("div",{staticClass:"content"},[a("el-tabs",{attrs:{type:"card"},on:{"tab-click":e.handleRabClick},model:{value:e.selectName,callback:function(t){e.selectName=t},expression:"selectName"}},[a("el-tab-pane",{attrs:{label:"preview",name:"preview"}}),e._v(" "),a("el-tab-pane",{attrs:{label:"edit",name:"edit"}}),e._v(" "),a("el-tab-pane",{attrs:{label:"run",name:"run"}})],1),e._v(" "),a("el-card",{key:e.count,class:e.previewCard?"mainCardPreview":"mainCard"},[a("router-view")],1)],1),e._v(" "),a("el-dialog",{attrs:{width:"24%",title:e.addTitle,visible:e.dialogVisible,"before-close":e.handleBeforeClose},on:{"update:visible":function(t){e.dialogVisible=t}}},[a("el-form",[a("el-form-item",{attrs:{label:"创建人","label-width":"120px"}},[a("el-input",{staticClass:"dialogInput",model:{value:e.creatorName,callback:function(t){e.creatorName=t},expression:"creatorName"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"期望名称","label-width":"120px"}},[a("el-input",{staticClass:"dialogInput",model:{value:e.expectedName,callback:function(t){e.expectedName=t},expression:"expectedName"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"动作","label-width":"120px"}},[a("el-select",{model:{value:e.selectedAction,callback:function(t){e.selectedAction=t},expression:"selectedAction"}},e._l(e.actions,(function(e,t){return a("el-option",{key:t,attrs:{value:e}})})),1)],1)],1),e._v(" "),a("el-row",{staticClass:"descriptionRow"},[a("hr",{staticClass:"hrStyleLeft",attrs:{width:"20%",color:"#f5f5f5"}}),e._v(" "),a("label",{staticClass:"labelStyle"},[e._v("注:详细的接口数据可在编辑页面中填写")]),e._v(" "),a("hr",{staticClass:"hrStyleRight",attrs:{width:"20%",color:"#f5f5f5"}})]),e._v(" "),a("el-row",[a("hr",{staticStyle:{"margin-top":"45px"},attrs:{width:"100%",color:"#F5F5F5"}})]),e._v(" "),a("el-row",{staticClass:"buttonRow"},[a("el-button",{staticClass:"buttonStyle",attrs:{type:"primary",size:"small"},on:{click:e.sureButton}},[e._v("提交")]),e._v(" "),a("el-button",{staticClass:"buttonStyle",attrs:{type:"danger",size:"small"},on:{click:e.cancelButton}},[e._v("取消")])],1)],1)],1),e._v(" "),a("el-footer",{staticClass:"footStyle"},[a("p",{staticClass:"footParagraphTop"},[e._v("Copyright © 1998－2019 BUPT All Rights Reserved")]),e._v(" "),a("p",{staticClass:"footParagraphBottom"},[e._v("教育部信息网络工程研究中心 版权所有")])])],1)}),[],!1,fe,"data-v-d17d7614",null).exports,ge={components:{ElSlPanel:g.a},mixins:[L.a],name:"transact",data:function(){return{autId:"",autRespDTOList:[],creatorId:3,ownedSystem:"",currentPage:1,totalCount:30,pageSize:10,tableData:[],selectedRowIndex:"",dialogModelFlag:0,dialogVisible:!1,dialogImportVisible:!1,dialogFailVisible:!1,successDialogVisible:!1,ruleForm:{nameMedium:"",functionType:"UI",code:"",descShort:""},rules:{nameMedium:[{validator:function(e,t,a){return""===t?a(new Error("nameMedium 不能为空")):a()},trigger:"blur"}]},fileList:[],fileName:"",rowInfo:{},updateId:"",isAdded:!0,elementRepositoryId:"",objectRepositoryId:"",addId:"",addRow:{}}},created:function(){this.autId=this.$route.query.id,this.ownedSystem=this.$route.query.nameMedium,this.getAllFunction(),this.getAllSystem()},computed:{changedParams:function(){return{autId:this.autId,currentPage:this.currentPage,orderColumns:"modified_time",orderType:"desc",pageSize:this.pageSize}},dialogTitle:function(){return["添加功能点","导入","修改功能点","操作失败","该系统无功能点,请添加功能点"][this.dialogModelFlag]},dialogOperateButton:function(){return["新增","确定","修改","确定","新增"][this.dialogModelFlag]},importURL:function(){return"http://10.101.167.184:8080/atfcloud2.0a/transactController/batchImportTransact"}},methods:{addFunctionButton:function(){this.isAdded=!0,this.dialogModelFlag=0,this.dialogVisible=!0,this.ruleForm.nameMedium="",this.ruleForm.functionType="UI",this.ruleForm.code="",this.ruleForm.descShort=""},importFunctionButton:function(){this.dialogModelFlag=1,this.dialogImportVisible=!0},updateFunctionButton:function(){if(""===this.selectedRowIndex)this.$message.error("请先选中一个功能点");else{this.dialogModelFlag=2,this.dialogVisible=!0,this.isAdded=!1;var e=this.rowInfo,t=e.nameMedium,a=e.code,s=e.descShort;this.ruleForm={nameMedium:t,code:a,descShort:s}}},copyFunction:function(){var e=this;""===e.selectedRowIndex?e.failedOperation():"接口"===e.rowInfo.transType?(console.log("复制功能点",e.rowInfo.transType),d({url:"/transactController/copySingleInterfaceTransact",method:"POST",params:{autId:e.autId,creatorId:"3",transId:e.updateId}}).then((function(t){console.log("复制成功",t),t.respCode?(e.$message.success(t.respMsg),e.getAllFunction(),e.selectedRowIndex=""):console.log("复制失败")})).catch((function(e){console.log("复制失败",e)}))):"UI"===e.rowInfo.transType&&(console.log("复制UI功能点",e.rowInfo.transType),d({url:"/transactController/copySingleUITransact",method:"POST",params:{autId:e.autId,creatorId:"3",elementRepositoryId:e.elementRepositoryId,objectRepositoryId:e.objectRepositoryId,transId:e.updateId}}).then((function(t){console.log("复制Ui成功",t),t.respCode?(e.$message.success(t.respMsg),e.getAllFunction(),e.selectedRowIndex=""):console.log("复制失败")})).catch((function(e){console.log("复制UI失败",e)})))},failedOperation:function(){this.$message.error("请选择功能点")},changeAutId:function(e){for(var t=0;t<this.autRespDTOList.length;t++)if(this.autRespDTOList[t].nameMedium===e){this.autId=this.autRespDTOList[t].id;break}this.getAllFunction()},selectRow:function(e,t){this.rowInfo=t,this.selectedRowIndex=e,this.updateId=t.id,this.elementRepositoryId=this.rowInfo.elementRepositoryId,this.objectRepositoryId=this.rowInfo.objectRepositoryId,console.log("选中的行"+this.rowInfo.transType,this.elementRepositoryId,this.objectRepositoryId,t)},cancelButton:function(){this.dialogImportVisible=!1,this.dialogVisible=!1,this.dialogFailVisible=!1},handleOnChange:function(e){this.$message.success("选择文件成功"),this.fileName=e.name},handleBeforeClose:function(e){return e(),!0},downloadTemplate:function(){window.location.href=this.address4+"atfcloud2.0a/transactController/downloadTemplate"},handleRemove:function(e,t){this.fileName="删除"+e.name},handlePreview:function(e){this.fileName="点击"+e.name},handleExceed:function(e,t){this.$message.warning("只允许上传1个文件")},handleSizeChange:function(e){this.pageSize=e,this.getAllFunction()},handleCurrentChange:function(e){this.currentPage=e,this.getAllFunction()},getAllSystem:function(){var e=this;d({url:"/aut/queryListAut",method:"POST",params:{}}).then((function(t){e.autRespDTOList=t.autRespDTOList})).catch((function(e){console.log("获取失败",e)}))},toDetail:function(){console.log("addRow",this.addRow),this.toTransact(this.addRow)},toTransact:function(e){console.log("toTransact",e),"UI"===e.transType?this.$router.push({name:"TransactDetail",query:e}):this.$router.push({name:"InterfacesManagement",query:e})},getAllFunction:function(){var e=this,t=this;d({url:"/transactController/pagedBatchQueryTransact",method:"post",params:this.changedParams}).then((function(a){if(0===a.list.length)e.dialogModelFlag=4,e.dialogVisible=!0,e.tableData=[];else{for(var s=0;s<a.list.length;s++)1==a.list[s].transType?a.list[s].transType="UI":a.list[s].transType="接口";e.tableData=a.list,e.totalCount=a.totalCount,t.addId&&(t.addRow=a.list.find((function(e){return e.id===t.addId}))),console.log(t.addId,t.addRow,a.list)}}),(function(e){console.log("pagination查询出错"+e)})).catch((function(e){console.log("pagination查询出错"+e)}))},submitForm:function(e){var t=this,a=this,s=""===a.ruleForm.nameMedium;this.$message.info("nameMedium: ".concat(a.ruleForm.nameMedium,"\n\t\t\t\t\t\t\t\t\tfunctionType: ").concat(a.ruleForm.functionType,"\n\t\t\t\t\t\t\t\t\tcode: ").concat(a.ruleForm.code,"\n\t\t\t\t\t\t\t\t\tdescShort: ").concat(a.ruleForm.descShort)),s?this.$message.warning("*为必填项"):("UI"===a.ruleForm.functionType?a.ruleForm.code=""!==a.ruleForm.code?a.ruleForm.code:"功能点"+Date.now():a.ruleForm.code=""!==a.ruleForm.code?a.ruleForm.code:"接口"+Date.now(),console.log("submitForm",this.ruleForm),a.$refs[e].validate((function(e){e?"新增"==document.getElementById("buttonName").innerText?"UI"===a.ruleForm.functionType?d({url:"/transactController/addSingleTransact",method:"POST",params:{autId:a.autId,code:a.ruleForm.code,descShort:a.ruleForm.descShort,nameMedium:a.ruleForm.nameMedium}}).then((function(e){console.log("添加成功",e),a.dialogVisible=!1,a.successDialogVisible=!0,a.getAllFunction(),a.addId=e.transId})).catch((function(e){console.log("添加失败",e),"10011000"==e.respCode&&a.$message.error(e.respMsg)})):d({url:"/interface/addSingleInterface",method:"POST",params:{creatorId:"3",description:a.ruleForm.descShort,interfaceCode:a.ruleForm.code,name:a.ruleForm.nameMedium,systemId:a.autId}}).then((function(e){console.log("接口添加成功",e),a.dialogVisible=!1,a.getAllFunction()})).catch((function(e){console.log("接口添加失败",e),"10011000"==e.respCode&&a.$message.error(e.respMsg)})):"修改"==document.getElementById("buttonName").innerText&&d({url:"/transactController/modifySingleTransact",method:"POST",params:{code:a.ruleForm.code,descShort:a.ruleForm.descShort,id:a.updateId,nameMedium:a.ruleForm.nameMedium}}).then((function(e){console.log("修改成功",e),a.dialogVisible=!1,a.getAllFunction()})).catch((function(e){console.log("添加失败",e),"10011000"===e.respCode&&t.$message.warning(e.respMsg)})):console.log("验证失败")})))},cancelButtonClicked:function(){this.dialogVisible=!1,this.successDialogVisible=!1},importTemplate:function(){var e=this;console.log("importTemplate",this.autId);var t=new FormData(document.getElementById("uploadForm"));t.append("autId",this.autId),t.append("creatorId",this.creatorId),d({url:"/transactController/batchImportTransact",method:"POST",params:t}).then((function(t){e.$message.success(t.respMsg),e.dialogImportVisible=!1,e.getAllFunction(),e.fileList=[],e.fileName=""})).catch((function(t){e.$message.error("上传失败")}))}}};var be=function(e){a("1BWg")},ye=Object(m.a)(ge,(function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"page-base-inner"},[a("el-container",[a("el-row",{staticClass:"buttonsRow"},[a("el-button",{attrs:{type:"primary",icon:"el-icon-plus",size:"small"},on:{click:e.addFunctionButton}},[e._v("添加")]),e._v(" "),a("el-button",{attrs:{type:"primary",icon:"el-icon-folder-add",size:"small"},on:{click:e.importFunctionButton}},[e._v("批量导入\n        ")]),e._v(" "),a("el-button",{attrs:{type:"primary",icon:"el-icon-document-copy",size:"small"},on:{click:e.copyFunction}},[e._v("复制功能点\n        ")]),e._v(" "),a("el-button",{attrs:{type:"primary",icon:"el-icon-edit-outline",size:"small"},on:{click:e.updateFunctionButton}},[e._v("修改\n        ")])],1)],1),e._v(" "),a("el-main",{staticClass:"el-main-base-inner"},[a("el-row",[a("el-col",{attrs:{span:8}},[a("span",{staticClass:"ownedSystem"},[e._v("所属被测系统：")]),e._v(" "),a("el-select",{staticClass:"selectName",attrs:{placeholder:"所属被测系统"},on:{change:e.changeAutId},model:{value:e.ownedSystem,callback:function(t){e.ownedSystem=t},expression:"ownedSystem"}},e._l(e.autRespDTOList,(function(e,t){return a("el-option",{key:t,attrs:{value:e.nameMedium,label:e.nameMedium}})})),1)],1)],1),e._v(" "),a("el-table",{ref:"singleTable",staticClass:"tableStyle",staticStyle:{width:"fit-content","margin-top":"15px"},attrs:{data:e.tableData,"default-sort":{prop:"modifiedTime",order:"descending"},stripe:"","highlight-current-row":"",border:""}},[a("el-table-column",{attrs:{label:"选择","min-width":"3%",align:"center"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("el-radio",{attrs:{label:t.$index},on:{change:function(a){return e.selectRow(t.$index,t.row)}},model:{value:e.selectedRowIndex,callback:function(t){e.selectedRowIndex=t},expression:"selectedRowIndex"}},[e._v(" ")])]}}])}),e._v(" "),a("el-table-column",{attrs:{label:"行号",width:"50px",align:"center",type:"index"}}),e._v(" "),a("el-table-column",{attrs:{prop:"",label:"编码","min-width":"15%",align:"center"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("a",{staticClass:"codeTo",on:{click:function(a){return a.preventDefault(),e.toTransact(t.row)}}},[e._v(e._s(t.row.code))])]}}])}),e._v(" "),a("el-table-column",{attrs:{prop:"nameMedium",label:"名称","min-width":"15%",align:"center"}}),e._v(" "),a("el-table-column",{attrs:{prop:"transType",label:"类型",width:"80px",align:"center"}}),e._v(" "),a("el-table-column",{attrs:{prop:"descShort",label:"描述","min-width":"15%",align:"center"}}),e._v(" "),a("el-table-column",{attrs:{prop:"createTime",label:"创建时间",width:"200px",align:"center",formatter:e.transTime,sortable:""}}),e._v(" "),a("el-table-column",{attrs:{prop:"modifiedTime",label:"修改时间",width:"200px",align:"center",formatter:e.transTime,sortable:""}})],1),e._v(" "),a("div",[a("el-col",{staticClass:"footSelect"},[a("el-pagination",{attrs:{"page-sizes":[5,10,20,50],"current-page":e.currentPage,"page-size":e.pageSize,total:e.totalCount,layout:"total, sizes, prev ,pager ,next, jumper"},on:{"size-change":e.handleSizeChange,"current-change":e.handleCurrentChange}})],1)],1),e._v(" "),a("el-dialog",{attrs:{width:"24%",title:e.dialogTitle,visible:e.dialogVisible,"before-close":e.handleBeforeClose},on:{"update:visible":function(t){e.dialogVisible=t}}},[a("el-form",{ref:"ruleForm",attrs:{"label-width":"40px",model:e.ruleForm,rules:e.rules,"status-icon":""}},[a("el-form-item",{attrs:{label:"名称",prop:"nameMedium"}},[a("el-input",{attrs:{placeholder:"必输项"},model:{value:e.ruleForm.nameMedium,callback:function(t){e.$set(e.ruleForm,"nameMedium",t)},expression:"ruleForm.nameMedium"}})],1),e._v(" "),e.isAdded?a("el-form-item",{attrs:{label:"类型",prop:"functionType"}},[a("el-select",{staticClass:"addSelect",model:{value:e.ruleForm.functionType,callback:function(t){e.$set(e.ruleForm,"functionType",t)},expression:"ruleForm.functionType"}},[a("el-option",{attrs:{value:"UI",selected:"true"}}),e._v(" "),a("el-option",{attrs:{value:"接口"}})],1)],1):e._e(),e._v(" "),a("el-form-item",{attrs:{label:"编码",prop:"code"}},[a("el-input",{attrs:{placeholder:"为空时自动生成"},model:{value:e.ruleForm.code,callback:function(t){e.$set(e.ruleForm,"code",t)},expression:"ruleForm.code"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"描述",prop:"descShort"}},[a("el-input",{attrs:{cols:"5",rows:"5",type:"textarea"},model:{value:e.ruleForm.descShort,callback:function(t){e.$set(e.ruleForm,"descShort",t)},expression:"ruleForm.descShort"}})],1),e._v(" "),a("hr",{attrs:{color:"#F5F5F5"}}),e._v(" "),a("el-form-item",[a("div",{staticClass:"dialogBottom"},[a("el-button",{attrs:{id:"buttonName",type:"primary",size:"small"},on:{click:function(t){return e.submitForm("ruleForm")}}},[e._v(e._s(e.dialogOperateButton)+"\n              ")]),e._v(" "),a("el-button",{attrs:{type:"danger",size:"small",plain:""},on:{click:e.cancelButton}},[e._v("取消\n              ")])],1)])],1)],1),e._v(" "),a("el-dialog",{attrs:{width:"27%",title:e.dialogTitle,"before-close":e.handleBeforeClose,visible:e.dialogImportVisible},on:{"update:visible":function(t){e.dialogImportVisible=t}}},[a("el-form",{attrs:{action:e.importURL,enctype:"multipart/form-data",method:"post",id:"uploadForm"}},[a("el-upload",{ref:"upload",attrs:{action:e.importURL,limit:1,"auto-upload":!1,"file-list":e.fileList,"on-preview":e.handlePreview,"on-remove":e.handleRemove,"on-exceed":e.handleExceed,"on-change":e.handleOnChange}},[a("el-button",{staticClass:"btnSelectFile",attrs:{slot:"trigger",type:"success",plain:""},slot:"trigger"},[e._v("上传文件\n            ")]),e._v(" "),a("el-input",{staticClass:"formInput",attrs:{placeholder:"请选择导入的文件",disabled:!0},model:{value:e.fileName,callback:function(t){e.fileName=t},expression:"fileName"}})],1),e._v(" "),a("hr",{attrs:{color:"#F5F5F5"}}),e._v(" "),a("el-form-item",[a("el-col",{staticClass:"buttonDownload",attrs:{span:12}},[a("el-button",{attrs:{type:"primary",icon:"el-icon-download",size:"small"},on:{click:e.downloadTemplate}},[e._v("模板下载")])],1),e._v(" "),a("el-col",{staticClass:"buttonGroup",attrs:{span:12}},[a("el-button",{attrs:{type:"primary",size:"small"},on:{click:e.importTemplate}},[e._v("导入\n              ")]),e._v(" "),a("el-button",{attrs:{size:"small"},on:{click:e.cancelButton}},[e._v("取消\n              ")])],1)],1)],1)],1),e._v(" "),a("el-dialog",{attrs:{width:"25%",title:"提示",visible:e.successDialogVisible,"before-close":e.handleBeforeClose},on:{"update:visible":function(t){e.successDialogVisible=t}}},[a("el-form",[a("el-form-item",{attrs:{"label-width":"20px"}},[a("h4",{staticClass:"transactSuccessTitle"},[e._v("操作成功")])]),e._v(" "),a("hr",{attrs:{width:"100%",color:"#F5F5F5"}}),e._v(" "),a("el-form-item",{staticClass:"formFoot transactDialogButtonRow"},[a("el-button",{attrs:{type:"primary",size:"small"},on:{click:e.cancelButtonClicked}},[e._v("确定\n            ")]),e._v(" "),a("el-button",{attrs:{type:"success",size:"small"},on:{click:e.toDetail}},[e._v("进入功能点\n            ")])],1)],1)],1)],1)],1)}),[],!1,be,"data-v-e3220e4e",null).exports,_e={components:{ElSlPanel:g.a},mixins:[L.a],name:"autData",data:function(){return{tableData:[],ruleForm:{dataDesc:"",dataName:"",dataValue:""},dialogVisible:!1,dialogModelFlag:0,radioSelect:"",currentSystem:"",aytId:"",row:{},id:""}},computed:{dialogTitle:function(){return["添加系统数据","修改系统数据"][this.dialogModelFlag]},buttonName:function(){return["添加","修改"][this.dialogModelFlag]}},created:function(){this.currentSystem=this.$route.query.code,this.autId=this.$route.query.id,this.queryAllDatas()},methods:{addButton:function(){this.dialogModelFlag=0,this.dialogVisible=!0,this.ruleForm.dataName="",this.ruleForm.dataValue="",this.ruleForm.dataDesc=""},deleteButton:function(){var e=this;console.log("标记"),""===e.radioSelect?e.$message.error("请选择一条数据"):d({url:"/dataPool/deleteSingleDataPool",method:"POST",params:{id:e.id}}).then((function(t){console.log("删除成功",t),e.$message.success("删除成功"),e.radioSelect="",e.queryAllDatas()})).catch((function(e){console.log("删除失败",e)}))},updateButton:function(){if(""===this.radioSelect)this.$message.warning("请选择一条数据");else{var e=this.row,t=e.dataDesc,a=e.dataName,s=e.dataValue;this.ruleForm={dataDesc:t,dataName:a,dataValue:s},this.dialogModelFlag=1,this.dialogVisible=!0}},handleBeforeClose:function(e){return e(),!0},handleRadioSelectChange:function(e,t){console.log("更换数据",e,t),this.radioSelect=e,this.row=t,this.id=this.row.id,console.log("id",this.id)},submitForm:function(e){var t=this;0==t.dialogModelFlag?d({url:"/dataPool/addSingleDataPool",method:"POST",params:{dataDesc:this.ruleForm.dataDesc,dataName:this.ruleForm.dataName,dataValue:this.ruleForm.dataValue,poolName:"被测系统数据池",poolObjId:this.autId}}).then((function(e){console.log("添加成功",e),t.$message.success("添加成功"),t.dialogVisible=!1,t.queryAllDatas()})).catch((function(e){console.log("添加失败",e)})):d({url:"/dataPool/modifySingleDataPool",method:"POST",params:{dataDesc:this.ruleForm.dataDesc,dataName:this.ruleForm.dataName,dataValue:this.ruleForm.dataValue,poolName:"被测系统数据池",id:this.id}}).then((function(e){console.log("修改成功",e),t.$message.success("修改成功"),t.dialogVisible=!1,t.radioSelect="",t.queryAllDatas()})).catch((function(e){console.log("修改失败",e)}))},resetInput:function(){this.ruleForm.dataName="",this.ruleForm.dataValue="",this.ruleForm.dataDesc=""},cancelClick:function(){this.dialogVisible=!1},queryAllDatas:function(){var e=this;d({url:"/dataPool/pagedBatchQueryDataPool",method:"POST",params:{currentPage:1,dataName:"",orderColumns:"",orderType:"",pageSize:10,poolName:"被测系统数据池",poolObjId:this.autId}}).then((function(t){"0000"===t.respCode?0!==t.list.length?e.tableData=t.list?t.list:[]:e.$message.warning("未添加数据"):e.tableData=[]})).catch((function(t){e.$message.warning("未添加数据"),e.tableData=[]}))}}};var we=function(e){a("tJ9+")},Ce=Object(m.a)(_e,(function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"page-base-inner"},[a("el-container",[a("el-main",[a("el-row",{staticClass:"buttonRowTop"},[a("el-button",{attrs:{type:"primary",size:"small",icon:"el-icon-plus"},on:{click:e.addButton}},[e._v("添加")]),e._v(" "),a("el-button",{attrs:{type:"primary",size:"small",icon:"el-icon-delete"},on:{click:e.deleteButton}},[e._v("删除")]),e._v(" "),a("el-button",{attrs:{type:"primary",size:"small",icon:"el-icon-edit"},on:{click:e.updateButton}},[e._v("修改")])],1),e._v(" "),a("el-row",{staticClass:"rowTitle",attrs:{span:2}},[e._v("当前测试系统："+e._s(e.currentSystem))]),e._v(" "),a("el-table",{ref:"singleTable",staticClass:"tableStyle",attrs:{"highlight-current-row":"",stripe:"",border:"",data:e.tableData}},[a("el-table-column",{attrs:{label:"选择",width:"60px"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("el-radio",{staticClass:"el-radio",attrs:{label:t.$index},on:{change:function(a){return e.handleRadioSelectChange(t.$index,t.row)}},model:{value:e.radioSelect,callback:function(t){e.radioSelect=t},expression:"radioSelect"}},[e._v(" \n            ")])]}}])}),e._v(" "),a("el-table-column",{attrs:{label:"名称","min-width":"28.5%",prop:"dataName"}}),e._v(" "),a("el-table-column",{attrs:{label:"值","min-width":"28.5%",prop:"dataValue"}}),e._v(" "),a("el-table-column",{attrs:{label:"描述","min-width":"40%",prop:"dataDesc"}})],1),e._v(" "),a("el-dialog",{attrs:{width:"22%",title:e.dialogTitle,visible:e.dialogVisible,"before-close":e.handleBeforeClose},on:{"update:visible":function(t){e.dialogVisible=t}}},[a("el-form",[a("el-form-item",{attrs:{label:"名称","label-width":"70px"}},[a("el-input",{staticClass:"inputStyle",attrs:{placeholder:"请输入名称"},model:{value:e.ruleForm.dataName,callback:function(t){e.$set(e.ruleForm,"dataName",t)},expression:"ruleForm.dataName"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"值","label-width":"70px"}},[a("el-input",{staticClass:"inputStyle",attrs:{placeholder:"请输入值"},model:{value:e.ruleForm.dataValue,callback:function(t){e.$set(e.ruleForm,"dataValue",t)},expression:"ruleForm.dataValue"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"描述","label-width":"70px"}},[a("el-input",{staticClass:"textareaStyle",attrs:{type:"textarea",cols:"27",rows:"5"},model:{value:e.ruleForm.dataDesc,callback:function(t){e.$set(e.ruleForm,"dataDesc",t)},expression:"ruleForm.dataDesc"}})],1),e._v(" "),a("hr",{attrs:{width:"100%",color:"#F5F5F5"}}),e._v(" "),a("div",{staticClass:"buttonRow"},[a("el-button",{attrs:{type:"primary",size:"small"},on:{click:function(t){return e.submitForm("ruleForm")}}},[e._v(e._s(e.buttonName))]),e._v(" "),a("el-button",{attrs:{type:"danger",size:"small",plain:""},on:{click:e.cancelClick}},[e._v("取消")])],1)],1)],1)],1)],1)],1)}),[],!1,we,"data-v-d88053d2",null).exports;function Ie(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);t&&(s=s.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,s)}return a}function xe(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?Ie(a,!0).forEach((function(t){re()(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):Ie(a).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}var Se={mixins:[L.a],name:"automatedComponentMaintenance",data:function(){return{addMethodForm:{name:"",descShort:"",overrideFlag:"",isparameter:"",waittime:"",timeout:"",targetCodeContent:""},secondForm:{chsName:"",defaultMethod:"请选择默认方法",descShort:"",name:"",overideFlag:"",visibilityFlag:"",method:"",runtimeArgs:[],selfRecognitionPros:[],supportedRecognitionPros:[],assistRecognitionPros:[],arcId:"",id:"",modifierId:sessionStorage.getItem("userId")},thirdForm:{arcId:"",argsCount:"",arguments:[{name:"YorN",type:"",parameterizeColumn:"{{element}}",desc:""}],classId:"",descShort:"",id:"",inputArgsDesc:"",isparameter:"",labelArgument:"",mtype:"",name:"",outputArgsDesc:"",overrideFlag:"",targetCodeContent:"",timeout:"",visibilityFlag:"",waittime:""},addClassForm:{name:"",chsName:""},overrideFlagList:[{value:"1",label:"自身控件"},{value:"4",label:"禁用"},{value:"5",label:"重定义"}],overrideFlagListM:[{value:1,label:"自身方法"},{value:4,label:"禁用"}],visibilityList:[{value:"1",label:"公共"},{value:"0",label:"私有"}],visibilityListM:[{value:1,label:"公共"},{value:0,label:"私有"}],automated:"",arcId:"",inheriteArcName:"",defaultMethod:"",methodValue:"",overideValue:"",overideValueM:"",visibilityValue:"",visibilityValueM:"",dialogVisibleD:!1,dialogVisibleA:!1,classId:"",classId0:"",textarea:"",drawer:!1,addFlag:!0,direction:"rtl",componentData:[],classList:[],methodList:[],parentList:[],checkedData:{},modelFlag:1,classValue:"",dialogVisible:!1,dialogVisibleB:!1,flag:1}},created:function(){this.inheriteArcName=this.$route.query.inheriteArcName,this.arcId=this.$route.query.arcId,this.getClass()},methods:{addMethod:function(){var e=this;d({url:"/arcMethod/addSingleArcOmMethod",method:"post",params:xe({arcId:this.arcId,classId:this.classId0,creatorId:sessionStorage.getItem("userId"),mtype:1},this.addMethodForm)}).then((function(t){e.dialogVisibleB=!e.dialogVisibleB,e.$alert("添加方法成功","成功",{confirmButtonText:"确定"}),e.getMethod(e.classId0)}),(function(t){e.$alert("添加方法失败","失败",{confirmButtonText:"确定"})})).catch((function(t){e.$alert("添加方法失败","失败",{confirmButtonText:"确定"})}))},addClass:function(){var e=this;d({url:"/arcClass/addSingleArcOmClass",method:"post",params:xe({descShort:"",defaultMethod:"",arcId:this.arcId,supportedRecognitionPros:"",runtimeArgs:"",selfRecognitionPros:"",assistRecognitionPros:"",overideFlag:"",visibilityFlag:""},this.addClassForm)}).then((function(t){e.dialogVisibleA=!e.dialogVisibleA,e.$alert("添加控件成功","成功",{confirmButtonText:"确定"}),e.getClass()}),(function(t){e.$alert("添加控件失败","失败",{confirmButtonText:"确定"})})).catch((function(t){e.$alert("添加控件失败","失败",{confirmButtonText:"确定"})}))},deleteForm:function(){var e=this;this.$alert("请问确定删除该控件吗？","提示",{confirmButtonText:"确定",callback:function(t){e.deleteClass()}})},deleteClass:function(){var e=this;d({url:"/arcClass/deleteSingleArcOmClass",method:"post",params:{id:this.secondForm.id}}).then((function(t){e.$alert("删除控件成功","成功",{confirmButtonText:"确定"}),e.getClass()}),(function(t){e.$alert("删除控件失败","失败",{confirmButtonText:"确定"})})).catch((function(t){e.$alert("删除控件失败","失败",{confirmButtonText:"确定"})}))},handleClose1:function(e){this.$confirm("确认关闭？").then((function(t){e()})).catch((function(e){}))},getClass:function(){var e=this;d({url:"/arcClass/queryArcVisibleOmClasses",method:"post",params:{id:this.arcId}}).then((function(t){e.classList=t.arcClassRespDTOList,e.classValue=e.classList[0].name,e.classId0=e.classList[0].id,e.secondForm=e.classList[0],e.secondForm.runtimeArgs=JSON.parse(e.classList[0].runtimeArgs),e.secondForm.selfRecognitionPros=JSON.parse(e.classList[0].selfRecognitionPros),e.secondForm.supportedRecognitionPros=JSON.parse(e.classList[0].supportedRecognitionPros),e.secondForm.assistRecognitionPros=JSON.parse(e.classList[0].assistRecognitionPros),e.setOverrideFlag(e.classList[0].overideFlag),e.setVisibility(e.classList[0].visibilityFlag),e.getMethod(e.classList[0].id)}),(function(e){console.log(e)})).catch((function(e){console.log(e)}))},getMethod:function(e){var t=this;d({url:"/arcClass/queryArcVisibleOmMethods",method:"post",params:{id:e}}).then((function(e){t.methodList=e.arcMethodRespDTOList,t.methodValue=t.methodList[0].name,t.classId=t.methodList[0].id,t.thirdForm=t.methodList[0],t.textarea=t.methodList[0].targetCodeContent,"o"!=t.methodList[0].arguments[1]?t.thirdForm.arguments=JSON.parse(t.methodList[0].arguments):t.thirdForm.arguments=[],t.setOverrideFlagM(t.methodList[0].overrideFlag),t.setVisibilityM(t.methodList[0].visibilityFlag)}),(function(e){console.log(e)})).catch((function(e){console.log(e)}))},classSelect:function(e){this.classValue=e.name,this.classId0=e.id,this.secondForm=e,this.secondForm.runtimeArgs=JSON.parse(e.runtimeArgs),this.secondForm.selfRecognitionPros=JSON.parse(e.selfRecognitionPros),this.secondForm.supportedRecognitionPros=JSON.parse(e.supportedRecognitionPros),this.secondForm.assistRecognitionPros=JSON.parse(e.assistRecognitionPros),this.setOverrideFlag(e.overideFlag),this.setVisibility(e.visibilityFlag),this.getMethod(e.id)},methodSelect:function(e){this.thirdForm=e,this.methodValue=e.name,this.textarea=e.targetCodeContent,"o"!=_this.methodList[0].arguments[1]?_this.thirdForm.arguments=JSON.parse(e.arguments):_this.thirdForm.arguments=[],this.setOverrideFlagM(e.overrideFlag),this.setVisibilityM(e.visibilityFlag)},setOverrideFlag:function(e){"1"==e?this.overideValue="自身控件":"4"==e?this.overideValue="禁用":"5"==e&&(this.overideValue="重定义")},setVisibility:function(e){"1"==e?this.visibilityValue="公共":"0"==e&&(this.visibilityValue="私有")},setOverrideFlagM:function(e){1==e?this.overideValueM="自身控件":4==e&&(this.overideValueM="禁用")},setVisibilityM:function(e){1==e?this.visibilityValueM="公共":0==e&&(this.visibilityValueM="私有")},storeClass:function(){var e=this;d({url:"/arcClass/modifySingleArcOmClass",method:"post",params:this.secondForm}).then((function(t){e.$alert("保存控件信息成功","成功",{confirmButtonText:"确定"})}),(function(t){e.$alert("保存控件信息失败","失败",{confirmButtonText:"确定"})})).catch((function(t){e.$alert("保存控件信息失败","失败",{confirmButtonText:"确定"})}))},storeMethod:function(){var e=this;for(var t in this.thirdForm)this.thirdForm[t]&&"arguments"!=t&&(this.thirdForm[t]=this.thirdForm[t].toString());"["!=this.thirdForm.arguments[0]&&(this.thirdForm.arguments=JSON.stringify(this.thirdForm.arguments)),d({url:"/arcMethod/modifySingleArcOmMethod",method:"post",params:xe({author:""},this.thirdForm)}).then((function(t){e.drawer=!e.drawer,e.$alert("保存方法成功","成功",{confirmButtonText:"确定"})}),(function(t){e.$alert("保存方法失败","失败",{confirmButtonText:"确定"})})).catch((function(t){e.$alert("保存方法失败","失败",{confirmButtonText:"确定"})}))}}};var ke=function(e){a("CvBV")},Te=Object(m.a)(Se,(function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"page-inner"},[a("el-container",[a("el-main",[a("el-form",{ref:"firstForm",staticClass:"fistForm",attrs:{"label-width":"100%"}},[a("el-row",[a("el-col",{attrs:{span:8,offset:2}},[a("el-form-item",{attrs:{label:"被测系统的开发架构","label-width":"50%"}},[a("el-input",{attrs:{size:"small",disabled:!0,placeholder:e.inheriteArcName},model:{value:e.automated,callback:function(t){e.automated=t},expression:"automated"}})],1)],1),e._v(" "),a("el-col",{attrs:{span:8,offset:2}},[a("el-form-item",{attrs:{label:"控件名称","label-width":"30%"}},[a("el-select",{attrs:{filterable:"",placeholder:"请选择控件",size:"small"},on:{change:function(t){return e.classSelect(t)}},model:{value:e.classValue,callback:function(t){e.classValue=t},expression:"classValue"}},e._l(e.classList,(function(e){return a("el-option",{key:e.id,attrs:{label:e.name,value:e}})})),1)],1)],1)],1)],1),e._v(" "),a("el-divider",{attrs:{"content-position":"center"}},[e._v("控件类型")]),e._v(" "),a("el-form",{attrs:{model:e.secondForm,"label-width":"100%"}},[a("el-row",[a("el-col",{attrs:{span:8,offset:2}},[a("el-form-item",{attrs:{label:"英文名称",prop:"name","label-width":"30%"}},[a("el-input",{attrs:{size:"small"},model:{value:e.secondForm.name,callback:function(t){e.$set(e.secondForm,"name",t)},expression:"secondForm.name"}})],1)],1),e._v(" "),a("el-col",{attrs:{span:8,offset:2}},[a("el-form-item",{attrs:{label:"中文名称",prop:"chsName","label-width":"30%"}},[a("el-input",{attrs:{size:"small"},model:{value:e.secondForm.chsName,callback:function(t){e.$set(e.secondForm,"chsName",t)},expression:"secondForm.chsName"}})],1)],1)],1),e._v(" "),a("el-row",[a("el-col",{attrs:{span:8,offset:2}},[a("el-form-item",{attrs:{label:"描述",prop:"descShort","label-width":"30%"}},[a("el-input",{attrs:{size:"small"},model:{value:e.secondForm.descShort,callback:function(t){e.$set(e.secondForm,"descShort",t)},expression:"secondForm.descShort"}})],1)],1),e._v(" "),a("el-col",{attrs:{span:8,offset:2}},[a("el-form-item",{attrs:{label:"默认方法",prop:"defaultMethod","label-width":"30%"}},[a("el-select",{staticClass:"selectWidth",attrs:{placeholder:"-选择默认方法-",size:"small"},model:{value:e.secondForm.defaultMethod,callback:function(t){e.$set(e.secondForm,"defaultMethod",t)},expression:"secondForm.defaultMethod"}},e._l(e.methodList,(function(e){return a("el-option",{key:e.id,attrs:{label:e.name,value:e.id}})})),1)],1)],1)],1),e._v(" "),a("el-row",[a("el-col",{attrs:{span:8,offset:2}},[a("el-form-item",{attrs:{label:"继承标志",prop:"overideFlag","label-width":"30%"}},[a("el-select",{staticClass:"selectWidth",attrs:{placeholder:"-请选择-",size:"small"},model:{value:e.overideValue,callback:function(t){e.overideValue=t},expression:"overideValue"}},e._l(e.overrideFlagList,(function(e){return a("el-option",{key:e.value,attrs:{label:e.label,value:e.value}})})),1)],1)],1),e._v(" "),a("el-col",{attrs:{span:8,offset:2}},[a("el-form-item",{attrs:{label:"继承可见性",prop:"visibilityFlag","label-width":"30%"}},[a("el-select",{staticClass:"selectWidth",attrs:{placeholder:"-请选择-",size:"small"},model:{value:e.visibilityValue,callback:function(t){e.visibilityValue=t},expression:"visibilityValue"}},e._l(e.visibilityList,(function(e){return a("el-option",{key:e.value,attrs:{label:e.label,value:e.value}})})),1)],1)],1)],1),e._v(" "),a("el-row",[a("el-col",{attrs:{span:8,offset:2}},[a("el-form-item",{attrs:{label:"展示方法信息",prop:"method","label-width":"30%"}},[a("el-select",{staticClass:"selectWidth",attrs:{size:"small"},on:{change:function(t){return e.methodSelect(t)}},model:{value:e.methodValue,callback:function(t){e.methodValue=t},expression:"methodValue"}},e._l(e.methodList,(function(e){return a("el-option",{key:e.id,attrs:{label:e.name,value:e.id}})})),1)],1)],1),e._v(" "),a("el-col",{attrs:{span:8,offset:3}},[a("el-button",{attrs:{size:"small",type:"primary"},on:{click:function(t){e.drawer=!0}}},[e._v("\n\t\t\t\t\t\t\t展示\n\t\t\t\t\t\t")]),e._v(" "),a("el-button",{attrs:{size:"small",type:"primary"},on:{click:function(t){e.dialogVisibleB=!e.dialogVisibleB}}},[e._v("\n\t\t\t\t\t\t\t添加\n\t\t\t\t\t\t")])],1)],1),e._v(" "),a("el-row",[a("el-col",{attrs:{span:18}},[a("el-form-item",{attrs:{label:"运行时参数",prop:"runtimeArgs","label-width":"24.5%"}},[a("el-table",{staticClass:"table",attrs:{stripe:"",border:"",data:e.secondForm.runtimeArgs}},[a("el-table-column",{attrs:{label:"",width:"180"}}),e._v(" "),a("el-table-column",{attrs:{label:"属性名",property:"name"}}),e._v(" "),a("el-table-column",{attrs:{label:"属性值",property:"value"}})],1)],1)],1)],1),e._v(" "),a("el-row",[a("el-col",{attrs:{span:18}},[a("el-form-item",{attrs:{label:"支持的识别属性",prop:"supportedRecognitionPros","label-width":"24.5%"}},[a("el-table",{staticClass:"table",attrs:{stripe:"",border:"",data:e.secondForm.supportedRecognitionPros}},[a("el-table-column",{attrs:{label:"",width:"180"}}),e._v(" "),a("el-table-column",{attrs:{label:"属性名",property:"name"}}),e._v(" "),a("el-table-column",{attrs:{label:"属性值",property:"value"}})],1)],1)],1)],1),e._v(" "),a("el-row",[a("el-col",{attrs:{span:18}},[a("el-form-item",{attrs:{label:"自识别属性",prop:"selfRecognitionPros","label-width":"24.5%"}},[a("el-table",{staticClass:"table",attrs:{stripe:"",border:"",data:e.secondForm.selfRecognitionPros}},[a("el-table-column",{attrs:{label:"",width:"180"}}),e._v(" "),a("el-table-column",{attrs:{label:"属性名",property:"name"}}),e._v(" "),a("el-table-column",{attrs:{label:"属性值",property:"value"}})],1)],1)],1)],1),e._v(" "),a("el-row",[a("el-col",{attrs:{span:18}},[a("el-form-item",{attrs:{label:"辅助识别属性",prop:"assistRecognitionPros","label-width":"24.5%"}},[a("el-table",{staticClass:"table",attrs:{stripe:"",border:"",data:e.secondForm.assistRecognitionPros}},[a("el-table-column",{attrs:{label:"",width:"180"}}),e._v(" "),a("el-table-column",{attrs:{label:"属性名",property:"name"}}),e._v(" "),a("el-table-column",{attrs:{label:"属性值",property:"value"}})],1)],1)],1)],1),e._v(" "),a("el-row",{staticClass:"space"}),e._v(" "),a("el-row",[a("el-col",{attrs:{offset:20}},[a("el-button",{attrs:{icon:"el-icon-setting",size:"small",type:"primary"},on:{click:e.storeClass}},[e._v("\n\t\t\t\t\t\t\t保存\n\t\t\t\t\t\t")])],1)],1)],1),e._v(" "),a("el-drawer",{staticClass:"drawer",attrs:{title:"方法","append-to-body":"",size:"50%",visible:e.drawer,direction:e.direction},on:{"update:visible":function(t){e.drawer=t}}},[a("el-form",{ref:"thirdForm",attrs:{model:e.thirdForm}},[a("el-row",[a("el-col",{attrs:{span:9,offset:1}},[a("el-form-item",{attrs:{label:"名字",prop:"name","label-width":"50%"}},[a("el-input",{attrs:{size:"small"},model:{value:e.thirdForm.name,callback:function(t){e.$set(e.thirdForm,"name",t)},expression:"thirdForm.name"}})],1)],1),e._v(" "),a("el-col",{attrs:{span:9,offset:1}},[a("el-form-item",{attrs:{label:"描述",prop:"chsName","label-width":"50%"}},[a("el-input",{attrs:{size:"small"},model:{value:e.thirdForm.descShort,callback:function(t){e.$set(e.thirdForm,"descShort",t)},expression:"thirdForm.descShort"}})],1)],1)],1),e._v(" "),a("el-row",[a("el-col",{attrs:{span:9,offset:1}},[a("el-form-item",{attrs:{label:"继承关系",prop:"overideFlagM","label-width":"50%"}},[a("el-select",{staticClass:"selectWidthM",attrs:{placeholder:"-请选择-",size:"small"},model:{value:e.overideValueM,callback:function(t){e.overideValueM=t},expression:"overideValueM"}},e._l(e.overrideFlagListM,(function(e){return a("el-option",{key:e.value,attrs:{label:e.label,value:e.value}})})),1)],1)],1),e._v(" "),a("el-col",{attrs:{span:9,offset:1}},[a("el-form-item",{attrs:{label:"继承可见性",prop:"visibilityM","label-width":"50%"}},[a("el-select",{staticClass:"selectWidthM",attrs:{placeholder:"-选择默认方法-",size:"small"},model:{value:e.visibilityValueM,callback:function(t){e.visibilityValueM=t},expression:"visibilityValueM"}},e._l(e.visibilityListM,(function(e){return a("el-option",{key:e.value,attrs:{label:e.label,value:e.value}})})),1)],1)],1)],1),e._v(" "),a("el-row",[a("el-col",{attrs:{span:9,offset:1}},[a("el-form-item",{attrs:{label:"标志参数化列",prop:"labelArgument","label-width":"50%"}},[a("el-input",{attrs:{size:"small"},model:{value:e.thirdForm.labelArgument,callback:function(t){e.$set(e.thirdForm,"labelArgument",t)},expression:"thirdForm.labelArgument"}})],1)],1)],1),e._v(" "),a("el-row",[a("el-col",{attrs:{span:20}},[a("el-form-item",{attrs:{label:"参数列表",prop:"arguments","label-width":"23%"}}),e._v(" "),a("el-table",{staticClass:"table",staticStyle:{"margin-left":"30px"},attrs:{stripe:"",border:"",data:e.thirdForm.arguments}},[a("el-table-column",{attrs:{label:"参数名称",property:"name"}}),e._v(" "),a("el-table-column",{attrs:{label:"值类型",property:"type"}}),e._v(" "),a("el-table-column",{attrs:{label:"参数化列",property:"parameterizeColumn"}}),e._v(" "),a("el-table-column",{attrs:{label:"描述",property:"desc"}})],1)],1)],1),e._v(" "),a("el-row",[a("el-col",{attrs:{span:9,offset:1}},[a("el-form-item",{attrs:{label:"等待时间",prop:"waittime","label-width":"50%"}},[a("el-input",{attrs:{size:"small"},model:{value:e.thirdForm.waittime,callback:function(t){e.$set(e.thirdForm,"waittime",t)},expression:"thirdForm.waittime"}})],1)],1),e._v(" "),a("el-col",{attrs:{span:9,offset:1}},[a("el-form-item",{attrs:{label:"超过时间",prop:"timeout","label-width":"50%"}},[a("el-input",{attrs:{size:"small"},model:{value:e.thirdForm.timeout,callback:function(t){e.$set(e.thirdForm,"timeout",t)},expression:"thirdForm.timeout"}})],1)],1)],1),e._v(" "),a("el-row",[a("el-col",{attrs:{span:20}},[a("el-form-item",{attrs:{label:"目标代码",prop:"targetCodeContent","label-width":"23%"}},[a("el-input",{attrs:{type:"textarea",maxlength:"1000",rows:"10","show-word-limit":""},model:{value:e.textarea,callback:function(t){e.textarea=t},expression:"textarea"}})],1)],1)],1),e._v(" "),a("el-row",[a("el-col",{attrs:{span:2,offset:10}},[a("el-button",{attrs:{icon:"el-icon-setting",size:"small",type:"primary"},on:{click:e.storeMethod}},[e._v("\n\t\t\t\t\t\t\t\t保存\n\t\t\t\t\t\t\t")])],1)],1)],1)],1),e._v(" "),a("el-dialog",{attrs:{title:"添加控件",visible:e.dialogVisibleA,width:"30%"},on:{"update:visible":function(t){e.dialogVisibleA=t}}},[a("el-form",{ref:"addClassForm",attrs:{model:e.addClassForm,"label-width":"30%"}},[a("el-form-item",{attrs:{label:"英文名称",prop:"name"}},[a("el-input",{model:{value:e.addClassForm.name,callback:function(t){e.$set(e.addClassForm,"name",t)},expression:"addClassForm.name"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"中文名称",prop:"chsName"}},[a("el-input",{model:{value:e.addClassForm.chsName,callback:function(t){e.$set(e.addClassForm,"chsName",t)},expression:"addClassForm.chsName"}})],1),e._v(" "),a("el-form-item",[a("el-button",{attrs:{type:"primary"},on:{click:e.addClass}},[e._v("添加")]),e._v(" "),a("el-button",{on:{click:function(t){e.dialogVisibleA=!e.dialogVisibleA}}},[e._v("取消")])],1)],1)],1),e._v(" "),a("el-dialog",{attrs:{title:"添加方法",visible:e.dialogVisibleB,width:"30%"},on:{"update:visible":function(t){e.dialogVisibleB=t}}},[a("el-form",{attrs:{model:e.addMethodForm,"label-width":"30%"}},[a("el-form-item",{attrs:{label:"名称",prop:"name"}},[a("el-input",{model:{value:e.addMethodForm.name,callback:function(t){e.$set(e.addMethodForm,"name",t)},expression:"addMethodForm.name"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"方法描述",prop:"descShort"}},[a("el-input",{model:{value:e.addMethodForm.descShort,callback:function(t){e.$set(e.addMethodForm,"descShort",t)},expression:"addMethodForm.descShort"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"有无参数",prop:"isparameter"}},[a("el-select",{attrs:{size:"small"},model:{value:e.addMethodForm.isparameter,callback:function(t){e.$set(e.addMethodForm,"isparameter",t)},expression:"\n\t\t\t\t\t\t\t\t\t\t\taddMethodForm.isparameter\n\t\t\t\t\t\t\t\t\t\t"}},[a("el-option",{attrs:{value:"1"}},[e._v("有")]),e._v(" "),a("el-option",{attrs:{value:"0"}},[e._v("无")])],1)],1),e._v(" "),a("el-form-item",{attrs:{label:"等待时间",prop:"waittime"}},[a("el-input",{model:{value:e.addMethodForm.waittime,callback:function(t){e.$set(e.addMethodForm,"waittime",t)},expression:"addMethodForm.waittime"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"超过时间",prop:"timeout"}},[a("el-input",{model:{value:e.addMethodForm.timeout,callback:function(t){e.$set(e.addMethodForm,"timeout",t)},expression:"addMethodForm.timeout"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"目标代码",prop:"objectcode"}},[a("el-input",{attrs:{type:"textarea",maxlength:"1000",rows:"10"},model:{value:e.addMethodForm.objectcode,callback:function(t){e.$set(e.addMethodForm,"objectcode",t)},expression:"addMethodForm.objectcode"}})],1),e._v(" "),a("el-row"),e._v(" "),a("el-row"),e._v(" "),a("el-form-item",[a("el-button",{attrs:{type:"primary"},on:{click:e.addMethod}},[e._v("添加")]),e._v(" "),a("el-button",{on:{click:function(t){e.dialogVisibleD=!e.dialogVisibleD}}},[e._v("取消")])],1)],1)],1)],1)],1)],1)}),[],!1,ke,"data-v-4a673e98",null).exports,Fe={components:{ElSlPanel:g.a},mixins:[L.a],name:"performCodeManagement",data:function(){return{testedSystemName:"1221212",autId:"",id:0,mainCodeBegin:"",mainCodeEnd:"",toolName:""}},computed:{},created:function(){this.autId=this.$route.query.id,this.querySingleTool()},methods:{saveButton:function(){var e=this;console.log("点击保存按钮"),d({url:"/tool/updateToolInfo",method:"POST",params:{autId:this.autId,id:this.id,maincodeBegin:this.mainCodeBegin,maincodeEnd:this.mainCodeEnd,toolname:this.toolName}}).then((function(t){console.log("保存成功",t),e.$message.success("保存成功")})).catch((function(e){console.log("保存失败",e)}))},querySingleTool:function(){var e=this;d({url:"/tool/querySingleTool",method:"POST",params:{id:this.autId}}).then((function(t){console.log("信息获取成功",t),"0000"===t.respCode?(e.id=t.id,e.mainCodeBegin=t.maincodeBegin,e.mainCodeEnd=t.maincodeEnd,e.toolName=t.toolname):console.log("未知错误")})).catch((function(e){console.log("获取失败",e)}))}}};var Pe=function(e){a("sFf4")},Ne=Object(m.a)(Fe,(function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"page-base-inner",staticStyle:{"background-color":"whitesmoke"}},[a("el-container",[a("el-main",[a("el-row",{staticClass:"buttonRow"},[a("span",{staticClass:"spanStyle"},[e._v("被测系统名称："+e._s(e.testedSystemName))]),e._v(" "),a("el-button",{staticClass:"buttonPosition",attrs:{type:"primary",size:"small"},on:{click:e.saveButton}},[e._v("保存")])],1),e._v(" "),a("div",{staticClass:"divContent"},[a("el-row",{staticClass:"rowCode"},[e._v("执行前代码：")]),e._v(" "),a("textarea",{directives:[{name:"model",rawName:"v-model.trim",value:e.mainCodeBegin,expression:"mainCodeBegin",modifiers:{trim:!0}}],staticClass:"textareaStyle",attrs:{onresize:""},domProps:{value:e.mainCodeBegin},on:{input:function(t){t.target.composing||(e.mainCodeBegin=t.target.value.trim())},blur:function(t){return e.$forceUpdate()}}}),e._v(" "),a("el-row",{staticClass:"rowCode"},[e._v("执行后代码：")]),e._v(" "),a("textarea",{directives:[{name:"model",rawName:"v-model.trim",value:e.mainCodeEnd,expression:"mainCodeEnd",modifiers:{trim:!0}}],staticClass:"textareaStyle",attrs:{onresize:""},domProps:{value:e.mainCodeEnd},on:{input:function(t){t.target.composing||(e.mainCodeEnd=t.target.value.trim())},blur:function(t){return e.$forceUpdate()}}})],1)],1),e._v(" "),a("el-footer",[a("p",{staticClass:"footParagraph"},[e._v("Copyright © 1998－2019 BUPT All Rights Reserved")]),e._v(" "),a("p",{staticClass:"footParagraph"},[e._v("教育部信息网络工程研究中心 版权所有")])])],1)],1)}),[],!1,Pe,"data-v-a13e419e",null).exports,Re={name:"preview",components:{ElSlPanel:g.a},mixins:[L.a],data:function(){return{expectationName:"",creator:"",modifiedTime:0,path:"",method:"",httpForwardEntity:{}}},computed:{updateTime:function(){return this.tranformTime(this.modifiedTime)}},created:function(){this.id=this.$route.query.id,this.getExpectationById(this.id)},mounted:function(){this.id=this.$route.query.id,this.getExpectationById(this.id)},methods:{getExpectationById:function(e){var t=this,s=a("Qyje");d({url:"//mockServer/getExpectationById",headers:{"content-type":"application/x-www-form-urlencoded"},method:"POST",params:s.stringify({id:this.id})}).then((function(e){t.expectationName=e.expectationName,t.creator=e.creator,t.modifiedTime=e.modifiedTime,t.path=e.httpRequest.path,t.method=e.httpRequest.method,t.httpForwardEntity=null!=e.httpForwardEntity?e.httpForwardEntity:e.httpResponse})).catch((function(e){console.log("getExpectationById失败",e)}))},tranformTime:function(e){var t=new Date(e);return t.getFullYear()+"-"+(t.getMonth()+1>=10?t.getMonth()+1:"0"+(t.getMonth()+1))+"-"+(t.getDate()>=10?t.getDate():"0"+t.getDate())+" "+(t.getHours()>=10?t.getHours():"0"+t.getHours())+":"+(t.getMinutes()>=10?t.getMinutes():"0"+t.getMinutes())+":"+(t.getSeconds()>=10?t.getSeconds():"0"+t.getSeconds())}}};var Me=function(e){a("b0Va")},De=Object(m.a)(Re,(function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"cardPreview"},[a("el-row",[a("span",{staticClass:"baseInfo"},[e._v("基本信息")])]),e._v(" "),a("el-row",{staticClass:"rowStyle"},[a("el-col",{attrs:{span:12,offset:0}},[a("span",{staticClass:"detailInfoTitle"},[e._v("接口名称")]),e._v(" "),a("label",{staticClass:"labelContent"},[e._v(e._s(e.expectationName))])]),e._v(" "),a("el-col",{attrs:{span:10,offset:0}},[a("span",{staticClass:"detailInfoTitle"},[e._v("创建人")]),e._v(" "),a("label",{staticClass:"labelContent"},[e._v(e._s(e.creator))])])],1),e._v(" "),a("el-row",{staticClass:"rowStyle"},[a("el-col",{attrs:{span:12,offset:0}},[a("span",{staticClass:"detailInfoTitle"},[e._v("更新时间")]),e._v(" "),a("label",{staticClass:"labelContent"},[e._v(e._s(e.updateTime))])])],1),e._v(" "),a("el-row",{staticClass:"rowStyle"},[a("el-col",{attrs:{span:12,offset:0}},[a("span",{staticClass:"detailInfoTitle"},[e._v("接口路径")]),e._v(" "),a("span",{staticClass:"mothodStyle"},[e._v(e._s(e.method))]),e._v(" "),a("label",{staticClass:"labelContent"},[e._v(e._s(e.expectationName))])])],1),e._v(" "),a("el-row",{staticClass:"rowStyle"},[a("el-col",{attrs:{span:12,offset:0}},[a("span",{staticClass:"detailInfoTitle"},[e._v("Mock地址")]),e._v(" "),a("label",{staticClass:"labelContent"},[e._v(e._s(e.path))])])],1),e._v(" "),a("el-row",[a("span",{staticClass:"returnData"},[e._v("返回数据")])]),e._v(" "),a("pre",{staticClass:"textareaStyle",attrs:{onresize:"",disabled:""}},[e._v(e._s(e.httpForwardEntity)+"\n      ")])],1)}),[],!1,Me,"data-v-30d43143",null).exports,Oe={name:"edit",components:{ElSlPanel:g.a},mixins:[L.a],data:function(){return{id:"",expectationName:"",parseMethods:["POST","GET","PUT","DELETE","HEAD","OPTIONS","PATCH"],selectedParseMethod:"POST",path:"",requestParamsTitle:"body",bodyVisible:!0,queryVisible:!1,headersVisible:!1,cookiesVisible:!1,highVisible:!1,returnDataTitle:"body",returnBodyVisible:!0,returnHeadersVisible:!1,returnCookiesVisible:!1,messageFormat:"JSON",returnDataType:"JSON",messageInfo:"",returnDataInfo:"",hostContent:"localhost",protocols:["HTTP","HTTPS"],selectedProtocol:"HTTP",portContent:"8080",secures:["true","false"],selectedSecure:"",keepalives:["true","false"],selectedKeepalive:"",type:"",statusCode:"200",delayTime:"0",creator:"",httpRequest:{},httpResponse:{},httpForwardEntity:{id:5,host:"",port:"",scheme:""},reasonPhrase:"",queryParameters:"",queryParametersObj:{},paramsQueryKey:[],paramsQueryValue:[],paramsQuery:[],headersParameters:"",headersParametersObj:{},paramsHeadersKey:[],paramsHeadersValue:[],paramsHeaders:[],cookiesParameters:"",cookiesParametersObj:{},paramsCookiesKey:[],paramsCookiesValue:[],paramsCookies:[],headersReturn:"",headersReturnObj:{},returnHeadersKey:[],returnHeadersValue:[],returnHeaders:[],cookiesReturn:"",cookiesReturnObj:{},returnCookiesKey:[],returnCookiesValue:[],returnCookies:[]}},computed:{},mounted:function(){this.id=this.$route.query.id,console.log("id：",this.id),this.getExpectationById(this.id)},methods:{getExpectationById:function(e){var t=this,s=this;console.log("getExpectationById");var l=a("Qyje");d({url:"/mockServer/getExpectationById",method:"POST",params:l.stringify({id:this.id})}).then((function(e){for(var a in console.log("getExpectationById",e.type),s.expectationName=e.expectationName,s.type=e.type,s.creator=e.creator,s.httpRequest=e.httpRequest?e.httpRequest:{},s.httpResponse=e.httpResponse?e.httpResponse:{},e.httpForwardEntity&&(s.hostContent=e.httpForwardEntity.host,s.portContent=e.httpForwardEntity.port,s.selectedProtocol=e.httpForwardEntity.scheme),null!==e.httpResponse&&(s.reasonPhrase=e.httpResponse.reasonPhrase,s.statusCode=e.httpResponse.statusCode,s.delayTime=e.httpResponse.delayTime,s.returnDataInfo=e.httpResponse.body,s.returnDataType=e.httpResponse.type,s.headersReturn=e.httpResponse.headers,s.headersReturnObj=JSON.parse(s.headersReturn),s.cookiesReturn=e.httpResponse.cookies,s.cookiesReturnObj=JSON.parse(s.cookiesReturn),null!==e.httpResponse.headers&&"{}"!==e.httpResponse.headers||(t.returnHeaders[0]="",t.returnHeadersKey[0]="",t.returnHeadersValue[0]=""),null!==e.httpResponse.cookies&&"{}"!==e.httpResponse.cookies||(t.returnCookies[0]="",t.returnCookiesKey[0]="",t.returnCookiesValue[0]="")),s.path=e.httpRequest.path,s.selectedParseMethod=e.httpRequest.method,s.messageInfo=e.httpRequest.body,s.messageFormat=e.httpRequest.type,s.queryParameters=e.httpRequest.queryParameters,s.queryParametersObj=JSON.parse(s.queryParameters),s.headersParameters=e.httpRequest.headers,s.headersParametersObj=JSON.parse(s.headersParameters),s.cookiesParameters=e.httpRequest.cookies,s.cookiesParametersObj=JSON.parse(s.cookiesParameters),null!==e.httpRequest.queryParameters&&"{}"!==e.httpRequest.queryParameters||(t.paramsQuery[0]="",t.paramsQueryKey[0]="",t.paramsQueryValue[0]=""),null!==e.httpRequest.headers&&"{}"!==e.httpRequest.headers||(t.paramsHeaders[0]="",t.paramsHeadersKey[0]="",t.paramsHeadersValue[0]=""),null!==e.httpRequest.cookies&&"{}"!==e.httpRequest.cookies||(t.paramsCookies[0]="",t.paramsCookiesKey[0]="",t.paramsCookiesValue[0]=""),s.selectedKeepalive=e.httpRequest.keepAlive,s.selectedSecure=e.httpRequest.secure,t.queryParametersObj){console.log("key",t.queryParametersObj[a]),t.paramsQueryKey.push(a),t.paramsQueryValue.push(t.queryParametersObj[a]);var l=new Object;l[a]=t.queryParametersObj[a],t.paramsQuery.push(l)}for(var n in console.log("数组转换",t.paramsQuery),t.headersParametersObj){console.log(n,t.headersParametersObj[n]),t.paramsHeadersKey.push(n),t.paramsHeadersValue.push(t.headersParametersObj[n]);var o=new Object;o[n]=t.headersParametersObj[n],t.paramsHeaders.push(o)}for(var i in console.log("数组转换",t.paramsHeaders),t.cookiesParametersObj){console.log(i,t.cookiesParametersObj[i]),t.paramsCookiesKey.push(i),t.paramsCookiesValue.push(t.cookiesParametersObj[i]);var r=new Object;r[i]=t.cookiesParametersObj[i],t.paramsCookies.push(r)}for(var c in console.log("数组转换",t.paramsCookies),t.headersReturnObj){console.log(c,t.headersReturnObj[c]),t.returnHeadersKey.push(c),t.returnHeadersValue.push(t.headersReturnObj[c]);var d=new Object;d[c]=t.headersReturnObj[c],t.returnHeaders.push(d)}for(var u in console.log("数组转换",t.returnHeaders),t.cookiesReturnObj){console.log(u,t.cookiesReturnObj[u]),t.returnCookiesKey.push(u),t.returnCookiesValue.push(t.cookiesReturnObj[u]);var m=new Object;m[u]=t.cookiesReturnObj[u],t.returnCookies.push(m)}console.log("数组转换",t.returnCookies)})).catch((function(e){console.log("getExpectationById失败",e)}))},submitInfo:function(){for(var e=this,t=new Object,a=new Object,s=new Object,l=new Object,n=new Object,o=0;o<this.paramsQueryKey.length;o++)t[this.paramsQueryKey[o]]=this.paramsQueryValue[o];for(var i=0;i<this.paramsHeadersKey.length;i++)a[this.paramsHeadersKey[i]]=this.paramsHeadersValue[i];for(var r=0;r<this.paramsCookiesKey.length;r++)s[this.paramsCookiesKey[r]]=this.paramsCookiesValue[r];if(null!=this.httpResponse){for(var c=0;c<this.returnHeadersKey.length;c++)l[this.returnHeadersKey[c]]=this.returnHeadersValue[c];for(var u=0;u<this.returnCookiesKey.length;u++)n[this.returnCookiesKey[u]]=this.returnCookiesValue[u]}this.httpRequest.body=this.messageInfo,this.httpRequest.cookies=JSON.stringify(s),this.httpRequest.headers=JSON.stringify(a),this.httpRequest.queryParameters=JSON.stringify(t),this.httpRequest.keepAlive=this.selectedKeepalive,this.httpRequest.secure=this.selectedSecure,this.httpRequest.path=this.path,this.httpRequest.method=this.selectedParseMethod,this.httpRequest.type=this.messageFormat,null!=this.httpResponse&&(this.httpResponse.body=this.returnDataInfo,this.httpResponse.cookies=JSON.stringify(n),this.httpResponse.headers=JSON.stringify(l),this.httpResponse.statusCode=this.statusCode,this.httpResponse.delayTime=this.delayTime,this.httpResponse.type=this.returnDataType,this.httpResponse.reasonPhrase=this.reasonPhrase),null!=this.httpForwardEntity&&(this.httpForwardEntity.host=this.hostContent,this.httpForwardEntity.port=this.portContent,this.httpForwardEntity.scheme=this.selectedProtocol),console.log("creator",this.creator),console.log("expectationName",this.expectationName),console.log("httpForwardEntity",this.httpForwardEntity),console.log("httpRequest",this.httpRequest),console.log("httpResponse",this.httpResponse),console.log("id",this.id),console.log("type",this.type),d({url:"//mockServer/updateExpectation",method:"POST",params:{creator:this.creator,expectationName:this.expectationName,httpForwardEntity:null===this.httpForwardEntity?null:this.httpForwardEntity,httpRequest:this.httpRequest,httpResponse:null===this.httpResponse?null:this.httpResponse,id:this.id,type:this.type}}).then((function(t){console.log("提交成功",t),e.$message.success(t.respMsg)})).catch((function(t){console.log("提交出现错误",t),e.$message.error("提交错误")}))},handleTitleChange:function(e){"body"===e?(this.bodyVisible=!0,this.queryVisible=!1,this.headersVisible=!1,this.cookiesVisible=!1,this.highVisible=!1):"query"===e?(this.bodyVisible=!1,this.queryVisible=!0,this.headersVisible=!1,this.cookiesVisible=!1,this.highVisible=!1):"headers"===e?(this.bodyVisible=!1,this.queryVisible=!1,this.headersVisible=!0,this.cookiesVisible=!1,this.highVisible=!1):"cookies"===e?(this.bodyVisible=!1,this.queryVisible=!1,this.headersVisible=!1,this.cookiesVisible=!0,this.highVisible=!1):(this.bodyVisible=!1,this.queryVisible=!1,this.headersVisible=!1,this.cookiesVisible=!1,this.highVisible=!0)},handleReturnDataTitleChange:function(e){"body"===e?(this.returnBodyVisible=!0,this.returnCookiesVisible=!1,this.returnHeadersVisible=!1):"headers"===e?(this.returnBodyVisible=!1,this.returnHeadersVisible=!0,this.returnCookiesVisible=!1):"cookies"===e&&(this.returnBodyVisible=!1,this.returnHeadersVisible=!1,this.returnCookiesVisible=!0)},printFormat:function(){console.log("报文体格式",this.messageFormat),console.log("返回数据格式",this.returnDataType)},addParamsQueryNewRow:function(){this.$message.success("添加参数query事件");var e=new Object;this.paramsQueryKey.push(""),this.paramsQueryValue.push(""),this.paramsQuery.push(e)},addParamsHeadersNewRow:function(){this.$message.success("添加参数headers事件");var e=new Object;this.paramsHeadersKey.push(""),this.paramsHeadersValue.push(""),this.paramsHeaders.push(e)},addParamsCookiesNewRow:function(){this.$message.success("添加参数cookies事件");var e=new Object;this.paramsCookiesKey.push(""),this.paramsCookiesValue.push(""),this.paramsCookies.push(e)},addReturnHeadersNewRow:function(){this.$message.success("添加数据headers事件");var e=new Object;this.returnHeadersKey.push(""),this.returnHeadersValue.push(""),this.returnHeaders.push(e)},addReturnCookiesNewRow:function(){this.$message.success("添加数据cookies事件");var e=new Object;this.returnCookiesKey.push(""),this.returnCookiesValue.push(""),this.returnCookies.push(e)},deleteParamsQueryNewRow:function(){if(this.$message.error("删除参数query事件"),1===this.paramsQuery.length);else{this.paramsQuery.pop();var e=new Object;this.paramsQuery[this.paramsQuery.length-1]=e}},deleteParamsHeadersNewRow:function(){this.$message.error("删除参数headers事件"),1===this.paramsHeaders.length||this.paramsHeaders.pop()},deleteParamsCookiesNewRow:function(){this.$message.error("删除参数cookies事件"),1===this.paramsCookies.length||this.paramsCookies.pop()},deleteReturnHeadersNewRow:function(){this.$message.error("删除数据headers事件"),1===this.returnHeaders.length||this.returnHeaders.pop()},deleteReturnCookiesNewRow:function(){this.$message.error("删除数据cookies事件"),1===this.returnCookies.length||this.returnCookies.pop()}}};var $e=function(e){a("WzED")},Le=Object(m.a)(Oe,(function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"cardEdit"},[a("el-row",[a("el-col",{attrs:{span:20,offset:0}},[a("span",{staticClass:"baseInfo"},[e._v("基本设置")])]),e._v(" "),a("el-col",{attrs:{span:1,offset:0}},[a("el-button",{attrs:{type:"primary",size:"small",icon:"el-icon-upload",plain:""},on:{click:e.submitInfo}},[e._v("提交")])],1)],1),e._v(" "),a("div",{staticClass:"contentDiv"},[a("el-form",[a("el-form-item",{staticClass:"basicSettingRow",attrs:{label:"期望名称","label-width":"100px"}},[a("el-input",{staticClass:"expectInput",model:{value:e.expectationName,callback:function(t){e.expectationName=t},expression:"expectationName"}})],1),e._v(" "),a("el-form-item",{staticClass:"basicSettingRow",attrs:{label:"接口路径","label-width":"100px"}},[a("el-select",{model:{value:e.selectedParseMethod,callback:function(t){e.selectedParseMethod=t},expression:"selectedParseMethod"}},e._l(e.parseMethods,(function(e,t){return a("el-option",{key:t,attrs:{value:e}})})),1),e._v(" "),a("el-input",{staticClass:"path",model:{value:e.path,callback:function(t){e.path=t},expression:"path"}})],1)],1)],1),e._v(" "),a("el-row",[a("span",{staticClass:"requestParams"},[e._v("请求参数设置")])]),e._v(" "),a("el-row",{staticClass:"settingTitleRow"},[a("div",[a("el-radio-group",{attrs:{size:"small"},on:{change:function(t){return e.handleTitleChange(e.requestParamsTitle)}},model:{value:e.requestParamsTitle,callback:function(t){e.requestParamsTitle=t},expression:"requestParamsTitle"}},[a("el-radio-button",{attrs:{label:"body"}}),e._v(" "),a("el-radio-button",{attrs:{label:"query"}}),e._v(" "),a("el-radio-button",{attrs:{label:"headers"}}),e._v(" "),a("el-radio-button",{attrs:{label:"cookies"}}),e._v(" "),a("el-radio-button",{attrs:{label:"高级"}})],1)],1)]),e._v(" "),e.bodyVisible?a("div",{staticClass:"contentDiv"},[a("el-row",{staticClass:"radioButtonRow"},[a("el-radio-group",{on:{change:e.printFormat},model:{value:e.messageFormat,callback:function(t){e.messageFormat=t},expression:"messageFormat"}},[a("el-radio",{attrs:{label:"JSON"}}),e._v(" "),a("el-radio",{attrs:{label:"XML"}}),e._v(" "),a("el-radio",{attrs:{label:"STRING"}})],1)],1),e._v(" "),a("textarea",{directives:[{name:"model",rawName:"v-model",value:e.messageInfo,expression:"messageInfo"}],staticClass:"textareaStyle",domProps:{value:e.messageInfo},on:{input:function(t){t.target.composing||(e.messageInfo=t.target.value)}}})],1):e._e(),e._v(" "),e.queryVisible?a("div",{staticClass:"contentDiv"},[a("ul",{staticClass:"ulRadioButton"},e._l(e.paramsQuery,(function(t,s){return a("li",{key:s},[a("el-row",{staticClass:"liRadioButtonRow"},[a("el-col",{attrs:{span:15}},[a("el-form",[a("el-form-item",{attrs:{label:"请求参数","label-width":"100px"}},[a("el-input",{staticStyle:{width:"200px"},attrs:{placeholder:"参数名称"},model:{value:e.paramsQueryKey[s],callback:function(t){e.$set(e.paramsQueryKey,s,t)},expression:"paramsQueryKey[index]"}}),e._v(" "),a("el-input",{staticStyle:{width:"400px","margin-left":"10px"},attrs:{placeholder:"参数值"},model:{value:e.paramsQueryValue[s],callback:function(t){e.$set(e.paramsQueryValue,s,t)},expression:"paramsQueryValue[index]"}})],1)],1)],1),e._v(" "),a("el-col",{staticStyle:{"margin-left":"-10px","margin-top":"-25px"},attrs:{span:2}},[a("el-button",{attrs:{type:"primary",size:"mini",icon:"el-icon-plus",circle:""},on:{click:e.addParamsQueryNewRow}}),e._v(" "),a("el-button",{attrs:{type:"danger",size:"mini",icon:"el-icon-delete",circle:""},on:{click:e.deleteParamsQueryNewRow}})],1)],1)],1)})),0)]):e._e(),e._v(" "),e.headersVisible?a("div",{staticClass:"contentDiv"},[a("ul",{staticClass:"ulRadioButton"},e._l(e.paramsHeaders,(function(t,s){return a("li",{key:s},[a("el-row",{staticClass:"liRadioButtonRow"},[a("el-form",{staticClass:"paramsForm"},[a("el-col",{attrs:{span:15}},[a("el-form",[a("el-form-item",{attrs:{label:"请求头部","label-width":"100px"}},[a("el-input",{staticStyle:{width:"200px"},attrs:{placeholder:"参数名称"},model:{value:e.paramsHeadersKey[s],callback:function(t){e.$set(e.paramsHeadersKey,s,t)},expression:"paramsHeadersKey[index]"}}),e._v(" "),a("el-input",{staticStyle:{width:"400px","margin-left":"10px"},attrs:{placeholder:"参数值"},model:{value:e.paramsHeadersValue[s],callback:function(t){e.$set(e.paramsHeadersValue,s,t)},expression:"paramsHeadersValue[index]"}})],1)],1)],1),e._v(" "),a("el-col",{staticStyle:{"margin-left":"0px","margin-top":"5px"},attrs:{span:2}},[a("el-button",{attrs:{type:"primary",size:"mini",icon:"el-icon-plus",circle:""},on:{click:e.addParamsHeadersNewRow}}),e._v(" "),a("el-button",{attrs:{type:"danger",size:"mini",icon:"el-icon-delete",circle:""},on:{click:e.deleteParamsHeadersNewRow}})],1)],1)],1)],1)})),0)]):e._e(),e._v(" "),e.cookiesVisible?a("div",{staticClass:"contentDiv"},[a("ul",{staticClass:"ulRadioButton"},e._l(e.paramsCookies,(function(t,s){return a("li",{key:s},[a("el-row",{staticClass:"liRadioButtonRow"},[a("el-form",{staticClass:"paramsForm"},[a("el-col",{attrs:{span:15}},[a("el-form",[a("el-form-item",{attrs:{label:"cookies","label-width":"100px"}},[a("el-input",{staticStyle:{width:"200px"},attrs:{placeholder:"参数名称"},model:{value:e.paramsCookiesKey[s],callback:function(t){e.$set(e.paramsCookiesKey,s,t)},expression:"paramsCookiesKey[index]"}}),e._v(" "),a("el-input",{staticStyle:{width:"400px","margin-left":"10px"},attrs:{placeholder:"参数值"},model:{value:e.paramsCookiesValue[s],callback:function(t){e.$set(e.paramsCookiesValue,s,t)},expression:"paramsCookiesValue[index]"}})],1)],1)],1),e._v(" "),a("el-col",{staticStyle:{"margin-left":"0px","margin-top":"5px"},attrs:{span:2}},[a("el-button",{attrs:{type:"primary",size:"mini",icon:"el-icon-plus",circle:""},on:{click:e.addParamsCookiesNewRow}}),e._v(" "),a("el-button",{attrs:{type:"danger",size:"mini",icon:"el-icon-delete",circle:""},on:{click:e.deleteParamsCookiesNewRow}})],1)],1)],1)],1)})),0)]):e._e(),e._v(" "),e.highVisible?a("div",{staticClass:"contentDiv"},[a("el-row",{staticClass:"radioButtonRowHigh"},[a("el-form",[a("el-col",{attrs:{span:11}},[a("el-form-item",{attrs:{label:"secure","label-width":"100px"}},[a("el-select",{model:{value:e.selectedSecure,callback:function(t){e.selectedSecure=t},expression:"selectedSecure"}},e._l(e.secures,(function(e,t){return a("el-option",{key:t,attrs:{value:e}})})),1)],1)],1),e._v(" "),a("el-col",{attrs:{span:10}},[a("el-form-item",{attrs:{label:"keepalive","label-width":"100px"}},[a("el-select",{model:{value:e.selectedKeepalive,callback:function(t){e.selectedKeepalive=t},expression:"selectedKeepalive"}},e._l(e.keepalives,(function(e,t){return a("el-option",{key:t,attrs:{value:e}})})),1)],1)],1)],1)],1)],1):e._e(),e._v(" "),"forward"===e.type?a("div",[a("el-row",[a("span",{staticClass:"forwardSetting"},[e._v("转发数据设置")])]),e._v(" "),a("div",{staticClass:"dataSetting"},[a("el-form",[a("el-row",{staticClass:"rowForward"},[a("el-col",{attrs:{span:11}},[a("el-form-item",{staticClass:"basicSettingRow",attrs:{label:"host","label-width":"100px"}},[a("el-input",{staticClass:"expectInput",model:{value:e.hostContent,callback:function(t){e.hostContent=t},expression:"hostContent"}})],1)],1),e._v(" "),a("el-col",{attrs:{span:10}},[a("el-form-item",{staticClass:"basicSettingRow",attrs:{label:"port","label-width":"100px"}},[a("el-input",{staticClass:"expectInput",model:{value:e.portContent,callback:function(t){e.portContent=t},expression:"portContent"}})],1)],1)],1),e._v(" "),a("el-form-item",{attrs:{label:"协议","label-width":"100px"}},[a("el-select",{model:{value:e.selectedProtocol,callback:function(t){e.selectedProtocol=t},expression:"selectedProtocol"}},e._l(e.protocols,(function(e,t){return a("el-option",{key:t,attrs:{value:e}})})),1)],1)],1)],1)],1):a("div",[a("el-row",[a("span",{staticClass:"forwardSetting"},[e._v("返回数据设置")])]),e._v(" "),a("el-row",{staticClass:"settingTitleRow"},[a("div",[a("el-radio-group",{attrs:{size:"small"},on:{change:function(t){return e.handleReturnDataTitleChange(e.returnDataTitle)}},model:{value:e.returnDataTitle,callback:function(t){e.returnDataTitle=t},expression:"returnDataTitle"}},[a("el-radio-button",{attrs:{label:"body"}}),e._v(" "),a("el-radio-button",{attrs:{label:"headers"}}),e._v(" "),a("el-radio-button",{attrs:{label:"cookies"}})],1)],1)]),e._v(" "),a("el-row",{staticClass:"formRow"},[a("el-form",[a("el-col",{attrs:{span:10}},[a("el-form-item",{attrs:{label:"状态码","label-width":"100px"}},[a("el-input",{model:{value:e.statusCode,callback:function(t){e.statusCode=t},expression:"statusCode"}})],1)],1),e._v(" "),a("el-col",{attrs:{span:8,offset:2}},[a("el-form-item",{attrs:{label:"延时时间","label-width":"100px"}},[a("el-input",{model:{value:e.delayTime,callback:function(t){e.delayTime=t},expression:"delayTime"}})],1)],1),e._v(" "),a("el-col",{staticStyle:{"margin-left":"3px"},attrs:{span:1}},[a("el-form-item",{attrs:{label:"ms"}})],1)],1)],1),e._v(" "),e.returnBodyVisible?a("div",{staticClass:"returnDataDiv"},[a("el-row",{staticClass:"returnDataRadioButtonRow"},[a("el-form",[a("el-col",{attrs:{span:12}},[a("el-radio-group",{staticClass:"radioGroupStyle",on:{change:e.printFormat},model:{value:e.returnDataType,callback:function(t){e.returnDataType=t},expression:"returnDataType"}},[a("el-radio",{attrs:{label:"JSON"}}),e._v(" "),a("el-radio",{attrs:{label:"XML"}}),e._v(" "),a("el-radio",{attrs:{label:"STRING"}})],1)],1),e._v(" "),a("el-col",{attrs:{span:8}},[a("el-form-item",{staticClass:"Error",attrs:{label:"报错信息：","label-width":"100px"}},[a("el-input",{staticClass:"expectInput",model:{value:e.reasonPhrase,callback:function(t){e.reasonPhrase=t},expression:"reasonPhrase"}})],1)],1)],1)],1),e._v(" "),a("textarea",{directives:[{name:"model",rawName:"v-model",value:e.returnDataInfo,expression:"returnDataInfo"}],staticClass:"textareaStyle",domProps:{value:e.returnDataInfo},on:{input:function(t){t.target.composing||(e.returnDataInfo=t.target.value)}}})],1):e._e(),e._v(" "),e.returnHeadersVisible?a("div",{staticClass:"returnDataDiv"},[a("ul",{staticClass:"ulRadioButton"},e._l(e.returnHeaders,(function(t,s){return a("li",{key:s},[a("el-row",{staticClass:"liRadioButtonRow"},[a("el-col",{attrs:{span:15}},[a("el-form",[a("el-form-item",{attrs:{label:"请求参数","label-width":"100px"}},[a("el-input",{staticStyle:{width:"200px"},attrs:{placeholder:"参数名称"},model:{value:e.returnHeadersKey[s],callback:function(t){e.$set(e.returnHeadersKey,s,t)},expression:"returnHeadersKey[index]"}}),e._v(" "),a("el-input",{staticStyle:{width:"400px","margin-left":"10px"},attrs:{placeholder:"参数值"},model:{value:e.returnHeadersValue[s],callback:function(t){e.$set(e.returnHeadersValue,s,t)},expression:"returnHeadersValue[index]"}})],1)],1)],1),e._v(" "),a("el-col",{staticStyle:{"margin-left":"-10px","margin-top":"-25px"},attrs:{span:2}},[a("el-button",{attrs:{type:"primary",size:"mini",icon:"el-icon-plus",circle:""},on:{click:e.addReturnHeadersNewRow}}),e._v(" "),a("el-button",{attrs:{type:"danger",size:"mini",icon:"el-icon-delete",circle:""},on:{click:e.deleteReturnHeadersNewRow}})],1)],1)],1)})),0)]):e._e(),e._v(" "),e.returnCookiesVisible?a("div",{staticClass:"returnDataDiv"},[a("ul",{staticClass:"ulRadioButton"},e._l(e.returnCookies,(function(t,s){return a("li",{key:s},[a("el-row",{staticClass:"liRadioButtonRow"},[a("el-col",{attrs:{span:15}},[a("el-form",[a("el-form-item",{attrs:{label:"请求头部","label-width":"100px"}},[a("el-input",{staticStyle:{width:"200px"},attrs:{placeholder:"参数名称"},model:{value:e.returnCookiesKey[s],callback:function(t){e.$set(e.returnCookiesKey,s,t)},expression:"returnCookiesKey[index]"}}),e._v(" "),a("el-input",{staticStyle:{width:"400px","margin-left":"10px"},attrs:{placeholder:"参数值"},model:{value:e.returnCookiesValue[s],callback:function(t){e.$set(e.returnCookiesValue,s,t)},expression:"returnCookiesValue[index]"}})],1)],1)],1),e._v(" "),a("el-col",{staticStyle:{"margin-left":"-10px","margin-top":"-25px"},attrs:{span:2}},[a("el-button",{attrs:{type:"primary",size:"mini",icon:"el-icon-plus",circle:""},on:{click:e.addReturnCookiesNewRow}}),e._v(" "),a("el-button",{attrs:{type:"danger",size:"mini",icon:"el-icon-delete",circle:""},on:{click:e.deleteReturnCookiesNewRow}})],1)],1)],1)})),0)]):e._e()],1)],1)}),[],!1,$e,"data-v-3ae4b64e",null).exports,je={name:"run",components:{ElSlPanel:g.a},mixins:[L.a],data:function(){return{id:"",expectationName:"",parseMethods:["POST","GET","PUT","DELETE","HEAD","OPTIONS","PATCH"],selectedParseMethod:"POST",path:"",requestParamsTitle:"body",bodyVisible:!0,queryVisible:!1,headersVisible:!1,cookiesVisible:!1,highVisible:!1,messageFormat:"JSON",returnDataType:"JSON",messageInfo:"",returnDataInfo:"",portContent:"8080",secures:["true","false"],selectedSecure:"",keepalives:["true","false"],selectedKeepalive:!1,type:"",creator:"",httpRequest:"",httpResponse:"",queryParameters:"",queryParametersObj:{},paramsQueryKey:[],paramsQueryValue:[],paramsQuery:[],headersParameters:"",headersParametersObj:{},paramsHeadersKey:[],paramsHeadersValue:[],paramsHeaders:[],cookiesParameters:"",cookiesParametersObj:{},paramsCookiesKey:[],paramsCookiesValue:[],paramsCookies:[],runRequestId:"",methodType:!1,pathType:!1,runResult:"",expectationId:""}},computed:{},created:function(){},mounted:function(){this.id=this.$route.query.id,console.log("id：",this.id),this.getExpectationById(this.id)},methods:{getExpectationById:function(e){var t=this,s=a("Qyje");d({url:"/mockServer/getExpectationById",method:"POST",params:s.stringify({id:this.id})}).then((function(e){console.log("res",e);var a=t;a.runRequestId=e.runRequestId,console.log("runRequestId",a.runRequestId,e),null!=a.runRequestId?(console.log("runRequestId",a.runRequestId),d({url:"/mockServer/getRunRequest",method:"POST",params:s.stringify({id:t.runRequestId})}).then((function(e){console.log("11111获取成功",e),a.messageInfo=e.body,a.selectedParseMethod=e.method,a.methodType=!!e.methodType,a.path=e.path,a.pathType=!!e.pathType,a.queryParameters=e.queryParameters,a.queryParametersObj=JSON.parse(a.queryParameters),a.headersParameters=e.headers,a.headersParametersObj=JSON.parse(a.headersParameters),a.cookiesParameters=e.cookies,a.cookiesParametersObj=JSON.parse(a.cookiesParameters),a.messageFormat=e.type,a.selectedKeepalive=!!e.keepAlive,a.selectedSecure=e.secure,a.expectationId=e.expectationId,t.setDatas()})).catch((function(e){console.log("出现错误",e)}))):(console.log("id为空",e),a.expectationName=e.expectationName,a.type=e.type,a.creator=e.creator,a.httpRequest=e.httpRequest,a.httpResponse=e.httpResponse,a.path=e.httpRequest.path,a.selectedParseMethod=e.httpRequest.method,a.messageInfo=e.httpRequest.body,a.messageFormat=e.httpRequest.type,a.queryParameters=e.httpRequest.queryParameters,a.queryParametersObj=JSON.parse(a.queryParameters),a.headersParameters=e.httpRequest.headers,a.headersParametersObj=JSON.parse(a.headersParameters),a.cookiesParameters=e.httpRequest.cookies,a.cookiesParametersObj=JSON.parse(a.cookiesParameters),a.selectedKeepalive=!!e.httpRequest.keepAlive,a.selectedSecure=e.httpRequest.secure,a.setDatas())})).catch((function(e){console.log("getExpectationById失败",e)}))},setDatas:function(){for(var e in null!==this.queryParameters&&"{}"!==this.queryParameters||(this.paramsQuery[0]="",this.paramsQueryKey[0]="",this.paramsQueryValue[0]=""),null!==this.headers&&"{}"!==this.headers||(this.paramsHeaders[0]="",this.paramsHeadersKey[0]="",this.paramsHeadersValue[0]=""),null!==this.cookies&&"{}"!==this.cookies||(this.paramsCookies[0]="",this.paramsCookiesKey[0]="",this.paramsCookiesValue[0]=""),this.queryParametersObj){console.log(e,this.queryParametersObj[e]),this.paramsQueryKey.push(e),this.paramsQueryValue.push(this.queryParametersObj[e]);var t=new Object;t[e]=this.queryParametersObj[e],this.paramsQuery.push(t)}for(var a in this.headersParametersObj){console.log(a,this.headersParametersObj[a]),this.paramsHeadersKey.push(a),this.paramsHeadersValue.push(this.headersParametersObj[a]);var s=new Object;s[a]=this.headersParametersObj[a],this.paramsHeaders.push(s)}for(var l in this.cookiesParametersObj){console.log(l,this.cookiesParametersObj[l]),this.paramsCookiesKey.push(l),this.paramsCookiesValue.push(this.cookiesParametersObj[l]);var n=new Object;n[l]=this.cookiesParametersObj[l],this.paramsCookies.push(n)}},runMock:function(){for(var e=this,t=new Object,a=new Object,s=new Object,l=0;l<this.paramsQueryKey.length;l++)t[this.paramsQueryKey[l]]=this.paramsQueryValue[l];for(var n=0;n<this.paramsHeadersKey.length;n++)a[this.paramsHeadersKey[n]]=this.paramsHeadersValue[n];for(var o=0;o<this.paramsCookiesKey.length;o++)s[this.paramsCookiesKey[o]]=this.paramsCookiesValue[o];console.log("this.selectedKeepalive",this.messageInfo,y()(this.messageInfo)),d({url:"/mockServer/runExpectation",method:"POST",params:{body:"".concat(this.messageInfo),cookies:JSON.stringify(s),headers:JSON.stringify(a),keepAlive:!!this.keepAlive,method:this.selectedParseMethod,methodType:!!this.methodType,path:this.path,pathType:!!this.pathType,queryParameters:JSON.stringify(t),secure:this.selectedSecure,type:this.messageFormat}}).then((function(l){console.log("运行成功",l),e.runResult=l,d({url:"/mockServer/saveRunRequest",method:"POST",params:{body:e.messageInfo,cookies:JSON.stringify(s),expectationId:e.expectationId,headers:JSON.stringify(a),id:"38",keepAlive:e.selectedKeepalive,method:e.selectedParseMethod,methodType:e.methodType,path:e.path,pathType:e.pathType,queryParameters:JSON.stringify(t),secure:e.selectedSecure,type:e.messageFormat}}).then((function(e){console.log("保存成功",e)})).catch((function(e){console.log("保存错误",e)}))})).catch((function(e){console.log("提交出现错误",e)}))},handleTitleChange:function(e){"body"===e?(this.bodyVisible=!0,this.queryVisible=!1,this.headersVisible=!1,this.cookiesVisible=!1,this.highVisible=!1):"query"===e?(this.bodyVisible=!1,this.queryVisible=!0,this.headersVisible=!1,this.cookiesVisible=!1,this.highVisible=!1):"headers"===e?(this.bodyVisible=!1,this.queryVisible=!1,this.headersVisible=!0,this.cookiesVisible=!1,this.highVisible=!1):"cookies"===e?(this.bodyVisible=!1,this.queryVisible=!1,this.headersVisible=!1,this.cookiesVisible=!0,this.highVisible=!1):(this.bodyVisible=!1,this.queryVisible=!1,this.headersVisible=!1,this.cookiesVisible=!1,this.highVisible=!0)},printFormat:function(){console.log("报文体格式",this.messageFormat),console.log("返回数据格式",this.returnDataType)},addParamsQueryNewRow:function(){this.$message.success("添加参数query事件");var e=new Object;this.paramsQueryKey.push(""),this.paramsQueryValue.push(""),this.paramsQuery.push(e)},addParamsHeadersNewRow:function(){this.$message.success("添加参数headers事件");var e=new Object;this.paramsHeadersKey.push(""),this.paramsHeadersValue.push(""),this.paramsHeaders.push(e)},addParamsCookiesNewRow:function(){this.$message.success("添加参数cookies事件");var e=new Object;this.paramsCookiesKey.push(""),this.paramsCookiesValue.push(""),this.paramsCookies.push(e)},deleteParamsQueryNewRow:function(){if(this.$message.error("删除参数query事件"),1===this.paramsQuery.length);else{this.paramsQuery.pop();var e=new Object;this.paramsQuery[this.paramsQuery.length-1]=e}},deleteParamsHeadersNewRow:function(){this.$message.error("删除参数headers事件"),1===this.paramsHeaders.length||this.paramsHeaders.pop()},deleteParamsCookiesNewRow:function(){this.$message.error("删除参数cookies事件"),1===this.paramsCookies.length||this.paramsCookies.pop()}}};var ze=function(e){a("e0WW")},Ae=Object(m.a)(je,(function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"cardEdit"},[a("el-row",[a("el-col",{attrs:{span:20,offset:0}},[a("span",{staticClass:"baseInfo"},[e._v("基本设置")])]),e._v(" "),a("el-col",{attrs:{span:1,offset:0}},[a("el-button",{attrs:{type:"primary",size:"small",icon:"el-icon-video-play",plain:""},on:{click:e.runMock}},[e._v("运行")])],1)],1),e._v(" "),a("div",{staticClass:"contentDiv"},[a("el-form",[a("el-form-item",{staticClass:"basicSettingRow",attrs:{label:"接口路径","label-width":"100px"}},[a("el-select",{attrs:{disabled:""},model:{value:e.selectedParseMethod,callback:function(t){e.selectedParseMethod=t},expression:"selectedParseMethod"}},e._l(e.parseMethods,(function(e,t){return a("el-option",{key:t,attrs:{value:e}})})),1),e._v(" "),a("el-input",{staticClass:"path",attrs:{disabled:""},model:{value:e.path,callback:function(t){e.path=t},expression:"path"}})],1)],1)],1),e._v(" "),a("el-row",[a("span",{staticClass:"requestParams"},[e._v("请求参数设置")])]),e._v(" "),a("el-row",{staticClass:"settingTitleRow"},[a("div",[a("el-radio-group",{attrs:{size:"small"},on:{change:function(t){return e.handleTitleChange(e.requestParamsTitle)}},model:{value:e.requestParamsTitle,callback:function(t){e.requestParamsTitle=t},expression:"requestParamsTitle"}},[a("el-radio-button",{attrs:{label:"body"}}),e._v(" "),a("el-radio-button",{attrs:{label:"query"}}),e._v(" "),a("el-radio-button",{attrs:{label:"headers"}}),e._v(" "),a("el-radio-button",{attrs:{label:"cookies"}}),e._v(" "),a("el-radio-button",{attrs:{label:"高级"}})],1)],1)]),e._v(" "),e.bodyVisible?a("div",{staticClass:"contentDiv"},[a("el-row",{staticClass:"radioButtonRow"},[a("el-radio-group",{attrs:{disabled:""},on:{change:e.printFormat},model:{value:e.messageFormat,callback:function(t){e.messageFormat=t},expression:"messageFormat"}},[a("el-radio",{attrs:{label:"JSON"}}),e._v(" "),a("el-radio",{attrs:{label:"XML"}}),e._v(" "),a("el-radio",{attrs:{label:"STRING"}})],1)],1),e._v(" "),a("pre",{staticClass:"textareaStyle"},[e._v(e._s(e.messageInfo))])],1):e._e(),e._v(" "),e.queryVisible?a("div",{staticClass:"contentDiv"},[a("ul",{staticClass:"ulRadioButton"},e._l(e.paramsQuery,(function(t,s){return a("li",{key:s},[a("el-row",{staticClass:"liRadioButtonRow"},[a("el-col",{attrs:{span:15}},[a("el-form",[a("el-form-item",{attrs:{label:"请求参数","label-width":"100px"}},[a("el-input",{staticStyle:{width:"200px"},attrs:{placeholder:"参数名称",disabled:""},model:{value:e.paramsQueryKey[s],callback:function(t){e.$set(e.paramsQueryKey,s,t)},expression:"paramsQueryKey[index]"}}),e._v(" "),a("el-input",{staticStyle:{width:"400px","margin-left":"10px"},attrs:{placeholder:"参数值",disabled:""},model:{value:e.paramsQueryValue[s],callback:function(t){e.$set(e.paramsQueryValue,s,t)},expression:"paramsQueryValue[index]"}})],1)],1)],1),e._v(" "),a("el-col",{staticStyle:{"margin-left":"-10px","margin-top":"-25px"},attrs:{span:2,hidden:""}},[a("el-button",{attrs:{type:"primary",size:"mini",icon:"el-icon-plus",circle:""},on:{click:e.addParamsQueryNewRow}}),e._v(" "),a("el-button",{attrs:{type:"danger",size:"mini",icon:"el-icon-delete",circle:""},on:{click:e.deleteParamsQueryNewRow}})],1)],1)],1)})),0)]):e._e(),e._v(" "),e.headersVisible?a("div",{staticClass:"contentDiv"},[a("ul",{staticClass:"ulRadioButton"},e._l(e.paramsHeaders,(function(t,s){return a("li",{key:s},[a("el-row",{staticClass:"liRadioButtonRow"},[a("el-form",{staticClass:"paramsForm"},[a("el-col",{attrs:{span:15}},[a("el-form",[a("el-form-item",{attrs:{label:"请求头部","label-width":"100px"}},[a("el-input",{staticStyle:{width:"200px"},attrs:{placeholder:"参数名称",disabled:""},model:{value:e.paramsHeadersKey[s],callback:function(t){e.$set(e.paramsHeadersKey,s,t)},expression:"paramsHeadersKey[index]"}}),e._v(" "),a("el-input",{staticStyle:{width:"400px","margin-left":"10px"},attrs:{placeholder:"参数值",disabled:""},model:{value:e.paramsHeadersValue[s],callback:function(t){e.$set(e.paramsHeadersValue,s,t)},expression:"paramsHeadersValue[index]"}})],1)],1)],1),e._v(" "),a("el-col",{staticStyle:{"margin-left":"0px","margin-top":"5px"},attrs:{span:2,hidden:""}},[a("el-button",{attrs:{type:"primary",size:"mini",icon:"el-icon-plus",circle:""},on:{click:e.addParamsHeadersNewRow}}),e._v(" "),a("el-button",{attrs:{type:"danger",size:"mini",icon:"el-icon-delete",circle:""},on:{click:e.deleteParamsHeadersNewRow}})],1)],1)],1)],1)})),0)]):e._e(),e._v(" "),e.cookiesVisible?a("div",{staticClass:"contentDiv"},[a("ul",{staticClass:"ulRadioButton"},e._l(e.paramsCookies,(function(t,s){return a("li",{key:s},[a("el-row",{staticClass:"liRadioButtonRow"},[a("el-form",{staticClass:"paramsForm"},[a("el-col",{attrs:{span:15}},[a("el-form",[a("el-form-item",{attrs:{label:"cookies","label-width":"100px"}},[a("el-input",{staticStyle:{width:"200px"},attrs:{placeholder:"参数名称",disabled:""},model:{value:e.paramsCookiesKey[s],callback:function(t){e.$set(e.paramsCookiesKey,s,t)},expression:"paramsCookiesKey[index]"}}),e._v(" "),a("el-input",{staticStyle:{width:"400px","margin-left":"10px"},attrs:{placeholder:"参数值",disabled:""},model:{value:e.paramsCookiesValue[s],callback:function(t){e.$set(e.paramsCookiesValue,s,t)},expression:"paramsCookiesValue[index]"}})],1)],1)],1),e._v(" "),a("el-col",{staticStyle:{"margin-left":"0px","margin-top":"5px"},attrs:{span:2,hidden:""}},[a("el-button",{attrs:{type:"primary",size:"mini",icon:"el-icon-plus",circle:""},on:{click:e.addParamsCookiesNewRow}}),e._v(" "),a("el-button",{attrs:{type:"danger",size:"mini",icon:"el-icon-delete",circle:""},on:{click:e.deleteParamsCookiesNewRow}})],1)],1)],1)],1)})),0)]):e._e(),e._v(" "),e.highVisible?a("div",{staticClass:"contentDiv"},[a("el-row",{staticClass:"radioButtonRowHigh"},[a("el-form",[a("el-col",{attrs:{span:11}},[a("el-form-item",{attrs:{label:"secure","label-width":"100px"}},[a("el-select",{attrs:{disabled:""},model:{value:e.selectedSecure,callback:function(t){e.selectedSecure=t},expression:"selectedSecure"}},e._l(e.secures,(function(e,t){return a("el-option",{key:t,attrs:{value:e}})})),1)],1)],1),e._v(" "),a("el-col",{attrs:{span:10}},[a("el-form-item",{attrs:{label:"keepalive","label-width":"100px"}},[a("el-select",{attrs:{disabled:""},model:{value:e.selectedKeepalive,callback:function(t){e.selectedKeepalive=t},expression:"selectedKeepalive"}},e._l(e.keepalives,(function(e,t){return a("el-option",{key:t,attrs:{value:e}})})),1)],1)],1)],1)],1)],1):e._e(),e._v(" "),a("div",[a("el-row",[a("span",{staticClass:"forwardSetting"},[e._v("返回结果")])]),e._v(" "),a("div",{staticClass:"contentDiv"},[""===e.runResult?a("pre",{staticClass:"beforeRunStyle"},[e._v("请运行后查看结果\n              ")]):a("pre",{staticClass:"runResultStyle",attrs:{disabled:""}},[e._v(e._s(e.runResult)+"\n              ")])])],1)],1)}),[],!1,ze,"data-v-26f216c2",null).exports,Ve={components:{},mixins:[L.a],props:{transId:{type:String,default:void 0},autId:{type:String,default:void 0}},data:function(){return{publishActionUrl:"http://140.143.16.21:8080/atfcloud2.0a/elementRepository/batchImportElementAndUi",branchAddEleDialogFlag:!1,fileList:[],editFlag:!0,infoCardName:"",infoCardType:void 0,classselectOptions:[],selectOptions:[],classType:"",selectedUI:"",selectedEle:[],repositoryId:void 0,mainProperties:"",autoSelectValue:"",filterText:"",input:"",treeData:[],addUIDialogFlag:!1,addEleDialogFlag:!1,defaultProps:{children:"children",label:"label"},addUIform:{name:"",desc:""},addEleform:{elementName:"",classType:"",name:"",value:""},treeLoading:!1}},watch:{filterText:function(e){this.$refs.tree2.filter(e)},transId:function(){this.transId&&this.autId&&(this.getEleTree(),this.getClass())}},computed:{actionUrl:function(){return this.publishActionUrl+"?repositoryId="+this.repositoryId+"&uploadUserId=3&autId="+this.autId}},methods:{downloadTemp:function(){var e="http://140.143.16.21:8080/atfcloud2.0a/elementRepository/getExcelTemporary/"+this.autId;console.log(e),window.location.href=e},submitUpload:function(){this.$refs.upload.submit()},tempError:function(e,t,a){this.$message.error(e.respMsg)},tempSuccess:function(e,t,a){"0000"===e.respCode?(this.branchAddEleDialogFlag=!1,this.$message.success("上传成功")):this.$message.error(e.respMsg)},handlePreview:function(e){console.log(e)},filterNode:function(e,t){return!e||-1!==t.label.indexOf(e)},handleNodeClick:function(e,t,a){this.editFlag=!0,this.infoCardName=e.label,this.classType=e.classType,this.mainProperties=e.mainProperties,this.infoCardType="classType"in e,this.input=e.label,console.log(t),"classType"in e?(this.selectedEle.push(t.parent.data.id,e.id,e),this.selectedUI=""):(this.selectedUI=e.id,this.selectedEle=[]),console.log(a)},handleSelectionChange:function(e){this.multipleSelection=e},getEleTree:function(){var e=this,t=this;this.treeLoading=!0,d({url:"/elementRepository/queryAllElementsForATransact",method:"post",params:{transactId:this.transId}}).then((function(a){for(var s=[],l=0;l<a.uis.length;l++){var n={id:a.uis[l].uiId,label:a.uis[l].uiName,children:[]};if(!a.uis[l].elements){s.push(n);break}for(var o=0;o<a.uis[l].elements.length;o++){var i={id:a.uis[l].elements[o].elementId,label:a.uis[l].elements[o].elementName,classType:a.uis[l].elements[o].classType,mainProperties:a.uis[l].elements[o].mainProperties};n.children.push(i)}s.push(n)}t.treeData=s,e.repositoryId=a.elementRepositoryId,console.log("_this.treeData",t.treeData)}),(function(e){console.log(e)})).catch((function(e){console.log(e)})).finally((function(t){e.treeLoading=!1}))},getClass:function(){var e=this;d({url:"/aut/queryAutVisibleOmClasses",method:"post",params:{id:this.autId}}).then((function(t){"0000"==t.respCode?e.classselectOptions=t.omClassRespDTOList:e.$message(t.respMsg)}),(function(e){console.log(e)}))},addUIShow:function(){this.addUIDialogFlag=!0},deleteUIShow:function(){var e=this;""!==this.selectedUI?d({url:"/elementRepository/deleteSingleUI",method:"post",params:{uiId:this.selectedUI,repositoryId:this.repositoryId}}).then((function(t){"0000"==t.respCode?(e.getEleTree(),e.$message("删除成功："+t.respMsg)):e.$message("删除失败："+t.respMsg)}),(function(e){console.log(e)})):this.$message("请选择UI，再进行删除")},addEleShow:function(){""!==this.selectedUI?this.addEleDialogFlag=!0:this.$message("请选择UI，再进行添加")},deleteEleShow:function(){var e=this;0!==this.selectedEle.length?d({url:"/elementRepository/deleteSingleElement",method:"post",params:{repositoryId:this.repositoryId,elementId:this.selectedEle[1],uiId:this.selectedEle[0]}}).then((function(t){"0000"==t.respCode?(e.getEleTree(),e.$message("删除成功："+t.respMsg)):e.$message("删除失败："+t.respMsg)}),(function(e){console.log(e)})):this.$message("请选择元素，再进行删除")},branchAddEleShow:function(){""!==this.selectedUI?this.branchAddEleDialogFlag=!0:this.$message("请选择UI，再进行添加")},addUI:function(){var e=this;this.addUIDialogFlag=!1,d({url:"/elementRepository/batchAddUI",method:"post",params:{repositoryId:this.repositoryId,uis:[{uiName:this.addUIform.name}]}}).then((function(t){e.getEleTree(),e.$message("添加成功"+t.respMsg)}),(function(e){console.log(e)}))},addEle:function(){var e=this;this.addEleDialogFlag=!1,d({url:"/elementRepository/addSingleElement",method:"post",params:{repositoryId:this.repositoryId,uiId:this.selectedUI,element:{elementName:this.addEleform.elementName,classType:this.addEleform.classType,relateIdentifyObjectId:"",relateParentIdentifyObjectId:"",mainProperties:[{name:this.addEleform.name,value:this.addEleform.value,method:"",isRelative:null,toolName:""}]}}}).then((function(t){"0000"==t.respCode?(e.getEleTree(),e.$message("添加成功："+t.respMsg)):e.$message("添加失败："+rres.respMsg)}),(function(e){console.log(e)}))},modifySingleElement:function(){var e=this;console.log(this.mainProperties),d({url:"/elementRepository/modifySingleElement",method:"post",params:{repositoryId:this.repositoryId,uiId:this.selectedEle[0],element:{elementId:this.selectedEle[2].id,elementName:this.input,classType:this.classType,relateIdentifyObjectId:"",relateParentIdentifyObjectId:"",mainProperties:[{name:this.mainProperties[0].name,value:this.mainProperties[0].value,method:"",isRelative:null,toolName:""}],additionalProperties:[],assistantProperties:[],relateProperties:[]}}}).then((function(t){e.getEleTree(),e.editFlag=!0,e.$message(t.respMsg)}),(function(e){console.log(e)}))}},created:function(){},mounted:function(){}};var Ee=function(e){a("TJa7")},qe=Object(m.a)(Ve,(function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"page-outer"},[a("div",{staticClass:"page-inner"},[a("div",{staticClass:"ele-container"},[a("div",{staticClass:"ele-left"},[a("el-card",{staticClass:"box-card"},[a("div",{staticClass:"clearfix",attrs:{slot:"header"},slot:"header"},[a("span",[e._v("元素列表")])]),e._v(" "),a("div",{staticClass:"content"},[a("el-row",[a("el-button",{attrs:{size:"mini",type:"primary"},on:{click:e.addUIShow}},[e._v("\n                          添加UI\n                      ")]),e._v(" "),a("el-button",{attrs:{size:"mini",type:"primary"},on:{click:e.deleteUIShow}},[e._v("\n                          删除UI\n                      ")]),e._v(" "),a("el-button",{attrs:{size:"mini",type:"primary"},on:{click:e.addEleShow}},[e._v("\n                          添加元素\n                      ")]),e._v(" "),a("el-button",{attrs:{size:"mini",type:"primary"},on:{click:e.deleteEleShow}},[e._v("\n                          删除元素\n                      ")]),e._v(" "),a("el-button",{attrs:{size:"mini",type:"primary"},on:{click:e.branchAddEleShow}},[e._v("\n                          批量添加\n                      ")])],1),e._v(" "),a("el-input",{staticClass:"keywords",attrs:{placeholder:"输入关键字进行过滤"},model:{value:e.filterText,callback:function(t){e.filterText=t},expression:"filterText"}}),e._v(" "),a("el-tree",{directives:[{name:"loading",rawName:"v-loading",value:e.treeLoading,expression:"treeLoading"}],ref:"tree2",staticClass:"filter-tree",attrs:{data:e.treeData,props:e.defaultProps,"filter-node-method":e.filterNode},on:{"node-click":e.handleNodeClick}})],1)])],1),e._v(" "),a("div",{staticClass:"ele-right"},[a("el-card",{staticClass:"box-card"},[a("div",{staticClass:"clearfix headerHeight",attrs:{slot:"header"},slot:"header"},[a("span",[e._v(e._s(e.infoCardName))])]),e._v(" "),a("div",{staticClass:"content"},[a("el-row",[a("el-col",{attrs:{offset:2,span:5}},[!0===e.infoCardType?a("span",[e._v("\n                                  元素名称 ：\n                              ")]):!1===e.infoCardType?a("span",[e._v("\n                                  UI名称 ：\n                              ")]):a("span",[e._v("\n                              请选择UI或元素\n                              ")])]),e._v(" "),void 0!==e.infoCardType?a("el-col",{staticClass:"rightLable",attrs:{span:5}},[a("el-input",{attrs:{placeholder:"请输入内容",disabled:e.editFlag},model:{value:e.input,callback:function(t){e.input=t},expression:"input"}})],1):e._e(),e._v(" "),e.infoCardType?a("el-col",{staticClass:"rightLable",attrs:{span:4}},[a("span",[e._v("\n                                  类型 ：\n                              ")])]):e._e(),e._v(" "),e.infoCardType?a("el-col",{attrs:{span:5}},[a("el-select",{attrs:{filterable:"",placeholder:"请选择",disabled:e.editFlag},model:{value:e.classType,callback:function(t){e.classType=t},expression:"classType"}},e._l(e.classselectOptions,(function(e){return a("el-option",{key:e.id,attrs:{label:e.name,value:e.name}})})),1)],1):e._e()],1),e._v(" "),e.infoCardType?a("el-row",[a("el-col",{attrs:{span:4,offset:2}},[a("span",[e._v("\n                                  属性\n                              ")])])],1):e._e(),e._v(" "),e.infoCardType?a("el-table",{ref:"multipleTable",staticStyle:{width:"100%"},attrs:{border:"",data:e.mainProperties,"tooltip-effect":"dark"},on:{"selection-change":e.handleSelectionChange}},[a("el-table-column",{attrs:{type:"selection",width:"55"}}),e._v(" "),a("el-table-column",{attrs:{label:"主属性",width:""},scopedSlots:e._u([{key:"default",fn:function(t){return[e.editFlag?a("div",[e._v("\n                                      "+e._s(t.row.name)+"\n                                  ")]):a("div",[a("el-col",{attrs:{span:24}},[a("el-input",{model:{value:t.row.name,callback:function(a){e.$set(t.row,"name",a)},expression:"scope.row.name"}})],1)],1)]}}],null,!1,353699437)}),e._v(" "),a("el-table-column",{attrs:{label:"属性值",width:""},scopedSlots:e._u([{key:"default",fn:function(t){return[e.editFlag?a("div",[e._v("\n                                      "+e._s(t.row.value)+"\n                                  ")]):a("div",[a("el-col",{attrs:{span:24}},[a("el-input",{model:{value:t.row.value,callback:function(a){e.$set(t.row,"value",a)},expression:"scope.row.value"}})],1)],1)]}}],null,!1,2053934381)})],1):e._e(),e._v(" "),void 0!==e.infoCardType?a("div",[e.editFlag?a("el-row",[a("el-col",{attrs:{span:5,offset:17}},[a("el-button",{attrs:{type:"primary",size:"small"},on:{click:function(t){e.editFlag=!1}}},[e._v("\n                                      编辑\n                                  ")])],1)],1):a("el-row",[a("el-col",{attrs:{span:3,offset:14}},[a("el-button",{attrs:{size:"small"},on:{click:function(t){e.editFlag=!0}}},[e._v("\n                                          取消\n                                  ")])],1),e._v(" "),a("el-col",{attrs:{span:5}},[a("el-button",{attrs:{type:"primary",size:"small"},on:{click:e.modifySingleElement}},[e._v("\n                                      保存\n                                  ")])],1)],1)],1):e._e()],1)])],1)])]),e._v(" "),a("el-dialog",{attrs:{title:"添加UI",visible:e.addUIDialogFlag,width:"30%"},on:{"update:visible":function(t){e.addUIDialogFlag=t}}},[a("el-form",{attrs:{model:e.addUIform,"label-width":"80px"}},[a("el-form-item",{attrs:{label:"UI名称"}},[a("el-input",{model:{value:e.addUIform.name,callback:function(t){e.$set(e.addUIform,"name",t)},expression:"addUIform.name"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"UI描述"}},[a("el-input",{model:{value:e.addUIform.desc,callback:function(t){e.$set(e.addUIform,"desc",t)},expression:"addUIform.desc"}})],1)],1),e._v(" "),a("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{on:{click:function(t){e.addUIDialogFlag=!1}}},[e._v("取 消")]),e._v(" "),a("el-button",{attrs:{type:"primary"},on:{click:e.addUI}},[e._v("确 定")])],1)],1),e._v(" "),a("el-dialog",{attrs:{title:"添加元素",visible:e.addEleDialogFlag,width:"30%"},on:{"update:visible":function(t){e.addEleDialogFlag=t}}},[a("el-form",{attrs:{model:e.addEleform,"label-width":"80px"}},[a("el-form-item",{attrs:{label:"元素名称"}},[a("el-input",{model:{value:e.addEleform.elementName,callback:function(t){e.$set(e.addEleform,"elementName",t)},expression:"addEleform.elementName"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"控件类型"}},[a("el-select",{attrs:{placeholder:"请选择类型"},model:{value:e.addEleform.classType,callback:function(t){e.$set(e.addEleform,"classType",t)},expression:"addEleform.classType"}},e._l(e.classselectOptions,(function(e){return a("el-option",{key:e.id,attrs:{label:e.name,value:e.name}})})),1)],1),e._v(" "),a("el-form-item",{attrs:{label:"主属性"}},[a("el-input",{model:{value:e.addEleform.name,callback:function(t){e.$set(e.addEleform,"name",t)},expression:"addEleform.name"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"主属性值"}},[a("el-input",{model:{value:e.addEleform.value,callback:function(t){e.$set(e.addEleform,"value",t)},expression:"addEleform.value"}})],1)],1),e._v(" "),a("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{on:{click:function(t){e.addEleDialogFlag=!1}}},[e._v("取 消")]),e._v(" "),a("el-button",{attrs:{type:"primary"},on:{click:e.addEle}},[e._v("确 定")])],1)],1),e._v(" "),a("el-dialog",{attrs:{title:"批量添加元素",visible:e.branchAddEleDialogFlag,width:"30%"},on:{"update:visible":function(t){e.branchAddEleDialogFlag=t}}},[a("el-upload",{ref:"upload",staticClass:"upload-demo",attrs:{action:e.actionUrl,"on-success":e.tempSuccess,"on-error":e.tempError,limit:1,"auto-upload":!1}},[a("el-button",{attrs:{slot:"trigger",size:"small",type:"primary"},slot:"trigger"},[e._v("选取文件")]),e._v(" "),a("el-button",{staticStyle:{"margin-left":"10px"},attrs:{size:"small",type:"success"},on:{click:e.submitUpload}},[e._v("上传到服务器")]),e._v(" "),a("el-button",{staticStyle:{"margin-left":"10px"},attrs:{size:"small",type:"success"},on:{click:e.downloadTemp}},[e._v("模板下载")]),e._v(" "),a("div",{staticClass:"el-upload__tip",attrs:{slot:"tip"},slot:"tip"},[e._v("下载模板，填写完毕后进行上传")])],1),e._v(" "),a("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{on:{click:function(t){e.branchAddEleDialogFlag=!1}}},[e._v("关闭")])],1)],1)],1)}),[],!1,Ee,"data-v-99a1c6bc",null).exports,Be=a("o0o1"),Ue=a.n(Be),Qe=a("MQ60"),He=a.n(Qe),We=a("qkdH"),Je={props:{transId:{type:String,default:"1708"},autId:{type:String,default:"1574"},title:{type:String,default:"选择操作项"},multiselection:{type:Boolean,default:!1}},data:function(){return{UITree:[],funTree:[],eleSelected:[],funSelected:[],defaultProps:{children:"children",label:"label"},sonShowFlag:this.showFlag}},watch:{},computed:{},methods:{eleCheckChange:function(e,t){"children"in e||(t?(this.eleSelected.push({id:e.id,name:e.label,uiname:e.uiName,elementName:e.label,elementWidget:e.classType,methodName:"",arguments:e.mainProperties}),console.log("eleCheckChangedata"),console.log(e),console.log(t)):this.eleSelected=this.eleSelected.filter((function(t){return t.id!==e.id})))},funCheckChange:function(e,t){},closeDialog:function(){this.$emit("closeDialog",123)},throwInfo:function(){this.$emit("closeDialog"),console.log(this.eleSelected),this.$emit("throwTreeInfo",this.eleSelected)},getEleTree:function(){var e=this;d({url:"/elementRepository/queryAllElementsForATransact",method:"post",params:{transactId:this.transId}}).then((function(t){for(var a=[],s=0;s<t.uis.length;s++){var l={id:t.uis[s].uiId,label:t.uis[s].uiName,children:[]};if(!t.uis[s].elements){a.push(l);break}for(var n=0;n<t.uis[s].elements.length;n++){var o={id:t.uis[s].elements[n].elementId,uiName:t.uis[s].uiName,label:t.uis[s].elements[n].elementName,classType:t.uis[s].elements[n].classType,mainProperties:t.uis[s].elements[n].mainProperties};l.children.push(o)}a.push(l)}e.UITree=a,console.log("_this.UITree",e.UITree)}),(function(e){console.log(e)})).catch((function(e){console.log(e)}))},getFunTree:function(){var e=this;d({url:"/aut/selectFunctionSet",method:"post",params:{id:this.autId}}).then((function(t){for(var a=[],s=0;s<t.omMethodRespDTOList.length;s++){var l={id:t.omMethodRespDTOList[s].id,label:t.omMethodRespDTOList[s].name};a.push(l)}e.funTree=a,console.log("_this.funTree",e.funTree)}),(function(e){console.log(e)})).catch((function(e){console.log(e)}))}},created:function(){},mounted:function(){this.getEleTree(),this.getFunTree(),console.log(this.showFlag)}};var Ke=function(e){a("IgD7")},Ye=Object(m.a)(Je,(function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[a("div",[a("el-row",[a("el-col",{attrs:{span:5}},[a("span",[e._v("\n                    Ui与元素\n                ")])])],1),e._v(" "),a("el-tree",{attrs:{"default-expand-all":"","show-checkbox":e.multiselection,data:e.UITree,props:e.defaultProps,"check-on-click-node":""},on:{"check-change":e.eleCheckChange}})],1),e._v(" "),a("div",[a("el-row",[a("el-col",{attrs:{span:5}},[a("span",[e._v("\n                    公共函数集\n                ")])])],1),e._v(" "),a("el-tree",{attrs:{"show-checkbox":e.multiselection,data:e.funTree,"check-on-click-node":"",props:e.defaultProps},on:{"check-change":e.funCheckChange}})],1),e._v(" "),a("el-row",[a("el-col",{attrs:{span:5,offset:6}},[a("el-button",{on:{click:e.closeDialog}},[e._v("取 消")])],1),e._v(" "),a("el-col",{attrs:{span:5}},[a("el-button",{attrs:{type:"primary"},on:{click:e.throwInfo}},[e._v("确 定")])],1)],1)],1)}),[],!1,Ke,"data-v-05d097f2",null).exports;function Xe(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);t&&(s=s.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,s)}return a}function Ge(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?Xe(a,!0).forEach((function(t){re()(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):Xe(a).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}var Ze={name:"TemplateManage",components:{draggable:He.a,uiEleFunTree:Ye},mixins:[L.a],props:{transId:{default:void 0},autId:{default:void 0},name:{type:String,default:"脚本"}},data:function(){return{sortidNum:0,methods:{},addTemplateForm:{name:"",description:"",transId:this.transId},templateRadio:"",addTemplateDialog:!1,deleteTemplateDialog:!1,templateList:[],templateInfo:[],currentRow:null,multipleSelection:"",addItemShow:!1,templateLoading:!1}},watch:{transId:function(){this.transId&&this.autId&&this.getTemplates()}},computed:{},methods:{log:function(e){console.log(e)},changeMethod:function(e){console.log("row",e);for(var t=0;t<this.templateInfo.length;t++)if(this.templateInfo[t].sortid===e.sortid){var a=this.methods[e.elementWidget].filter((function(t){return t.name===e.methodName}))[0].arguments,s=JSON.parse(a);this.templateInfo[t].arguments=[];for(var l=0;l<s.length;l++)this.templateInfo[t].arguments.push({index:0,name:s[l].name,newvalue:"",value:""})}},addTreeInfo:function(e){var t,a,s,l,n,o;return Ue.a.async((function(i){for(;;)switch(i.prev=i.next){case 0:console.log("treeInfo",e),t=0;case 2:if(!(t<e.length)){i.next=17;break}return i.next=5,Ue.a.awrap(this.getMethods(e[t].elementWidget));case 5:if(a=i.sent,console.log("this.methods[treeInfo[i].elementWidget]",this.methods[e[t].elementWidget]),console.log("this.methods[treeInfo[i].elementWidget]",a),s=this.methods[e[t].elementWidget][0].arguments,l=JSON.parse(s),n=[],null!=l)for(o=0;o<l.length;o++)n.push({index:o,name:l[o].name,newvalue:"",value:""});console.log("list[i].arguments",e[t].arguments),this.templateInfo.push({sortid:this.sortidNum++,name:"UI:"+e[t].uiname+" 元素:"+e[t].elementName,uiname:e[t].uiname,elementName:e[t].elementName,elementWidget:e[t].elementWidget,methodName:this.methods[e[t].elementWidget][0].name,arguments:n,arguShow:!0});case 14:t++,i.next=2;break;case 17:case"end":return i.stop()}}),null,this)},deleteTemplateInfo:function(){var e=this;this.templateInfo=this.templateInfo.filter((function(t){return!e.multipleSelection.some((function(e){return t.sortid===e.sortid}))}))},saveInfo:function(){var e=this;d({url:"/scriptTemplate/saveScriptTemplate",method:"post",params:{scriptId:this.templateRadio,content:this.generateScriptString()}}).then((function(t){e.$message(t.respMsg)}),(function(t){e.$message(t)}))},generateScriptString:function(){var e=[];console.log("111");for(var t=0;t<this.templateInfo.length;t++){console.log("___"+t);var a=this.templateInfo[t],s=a.uiname.replace(/^\"+|\"+$/g,'"'),l=a.elementName.replace(/^\"+|\"+$/g,'"'),n=a.elementWidget,o=a.methodName,i=a.arguments;if(s||o){var r=[],c=1,d=!0,u=!1,m=void 0;try{for(var p,h=i[Symbol.iterator]();!(d=(p=h.next()).done);d=!0){var f=p.value;f.name.includes("参数化标注")&&(c=2);var v=f.value;""!==v?r.push("".concat(v)):r.push('""')}}catch(e){u=!0,m=e}finally{try{d||null==h.return||h.return()}finally{if(u)throw m}}0===r.length&&(r=['""']);var g=r.toString();console.log("parameterString"+g);var b="";b=1===c?""==s&&""==n&&""==l?"".concat(o,"(").concat(g,");\n"):'UI("'.concat(s,'").').concat(n,'("').concat(l,'").').concat(o,"(").concat(g,");\n"):""==s&&""==n&&""==l?"".concat(o,"();#").concat(g,"\n"):'UI("'.concat(s,'").').concat(n,'("').concat(l,'").').concat(o,"();#").concat(g,"\n"),e.push(b)}else console.log("_UI__"+s),console.log("method"+o)}return console.log("sendDataArray"+e),e.join("")},giveParam:function(){var e=this;d({url:"/scriptTemplate/scriptParameterized",method:"post",params:{autId:this.autId,scriptId:this.templateRadio,content:this.generateScriptString()}}).then((function(t){e.$message(t.respMsg),e.getTemplateInfo()}),(function(t){e.$message(t)}))},rowDrop:function(){var e=document.querySelector(".sortable tbody"),t=this;We.default.create(e,{filter:".el-input__inner",preventOnFilter:!1,animation:180,delay:0,onEnd:function(e){var a=e.newIndex,s=e.oldIndex,l=t.templateInfo.splice(s,1)[0];t.templateInfo.splice(a,0,l),t.templateInfo.push(t.templateInfo.pop())}})},handleSelectionChange:function(e){this.multipleSelection=e,console.log("multipleSelection",this.multipleSelection)},eleUp:function(){for(var e=this,t=!1,a=function(a){if(e.multipleSelection.some((function(t){return t.sortid===e.templateInfo[a].sortid}))){if(t){var s=e.templateInfo.splice(a,1)[0];e.templateInfo.splice(a-1,0,s)}}else t=!0},s=0;s<this.templateInfo.length;s++)a(s)},eleDown:function(){for(var e=this,t=!1,a=function(a){if(e.multipleSelection.some((function(t){return t.sortid===e.templateInfo[a].sortid}))){if(t){var s=e.templateInfo.splice(a,1)[0];e.templateInfo.splice(a+1,0,s)}}else t=!0},s=this.templateInfo.length-1;s>-1;s--)a(s)},addTemplateShow:function(){this.addTemplateDialog=!0},deleteTemplateShow:function(){this.templateRadio?this.deleteTemplateDialog=!0:this.$message("请选择要删除的"+this.name)},addTemplate:function(){var e=this;d({url:"/scriptTemplate/insert",method:"post",params:Ge({},this.addTemplateForm,{transId:this.transId})}).then((function(t){e.$message(t.respMsg),e.addTemplateDialog=!1,e.getTemplates()}),(function(t){e.$message(res.respMsg)}))},deleteTemplate:function(){var e=this;console.log(""+this.templateRadio),d({url:"/scriptTemplate/delete",method:"post",params:{id:this.templateRadio}}).then((function(t){e.deleteTemplateDialog=!1,e.$message(t.respMsg),e.getTemplates()}),(function(t){e.$message(t)}))},getTemplates:function(){var e=this;console.log("getTemplates"),this.templateLoading=!0,d({url:"/scriptTemplate/queryTemplateByTransId",method:"post",params:{id:this.transId}}).then((function(t){e.templateList=[],console.log("getTemplates",t);for(var a=t.scriptTemplateList,s=0;s<a.length;s++)e.templateList.push({name:a[s].name,desc:a[s].description,id:a[s].id})}),(function(t){e.$message(res.respMsg)})).catch((function(t){e.$message("网络开小差啦！")})).finally((function(t){e.templateLoading=!1}))},getTemplateInfo:function(){var e=this;this.templateLoading=!0,d({url:"/scriptTemplate/queryScriptInfo",method:"post",params:{scriptId:this.templateRadio,autId:this.autId}}).then((function(t){e.templateInfo=[];for(var a=t.data,s=0;s<a.length;s++){e.getMethods(a[s].elementWidget);for(var l=0;l<a[s].arguments.length;l++)a[s].arguments[l].index=s,a[s].arguments[l].newvalue=a[s].arguments[l].value;console.log("list[i].arguments",a[s].arguments),e.templateInfo.push({sortid:e.sortidNum++,name:"UI:"+a[s].uiname+" 元素:"+a[s].elementName,uiname:a[s].uiname,elementName:a[s].elementName,elementWidget:a[s].elementWidget,methodName:a[s].methodName,arguments:a[s].arguments,arguShow:!0})}}),(function(t){e.templateInfo=[]})).finally((function(t){e.templateLoading=!1}))},getMethods:function(e){var t=this;if(!this.methods[e])return d({url:"/aut/selectMethod",method:"post",params:{id:this.autId,classname:e}}).then((function(a){var s=a.omMethodRespDTOList;t.$set(t.methods,e,s)}),(function(e){t.$message(e)}))},chooseTemplate:function(e,t,a){this.templateRadio=e.id,this.getTemplateInfo()}},created:function(){},mounted:function(){this.autId&&this.transId&&(console.log(this.transId),console.log("undefined"===this.transId),console.log("1112"),this.getTemplates()),this.rowDrop(),document.body.ondrop=function(e){e.preventDefault(),e.stopPropagation()}}};var et=function(e){a("kPNG")},tt=Object(m.a)(Ze,(function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"page-outer"},[a("div",{staticClass:"page-inner"},[a("div",{staticClass:"ele-container"},[a("el-row",[a("el-button",{attrs:{icon:"el-icon-plus",size:"small",type:"primary"},on:{click:e.addTemplateShow}},[e._v("\n                  添加"+e._s(e.name)+"\n              ")]),e._v(" "),a("el-button",{attrs:{icon:"el-icon-delete",size:"small",type:"primary"},on:{click:e.deleteTemplateShow}},[e._v("\n                  删除"+e._s(e.name)+"\n              ")])],1),e._v(" "),a("el-table",{directives:[{name:"loading",rawName:"v-loading",value:e.templateLoading,expression:"templateLoading"}],ref:"singleTable",staticStyle:{width:"100%"},attrs:{border:"",data:e.templateList,"highlight-current-row":"","row-key":"id"},on:{"row-click":e.chooseTemplate}},[a("el-table-column",{attrs:{lable:"选择",width:"35"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("div",{staticClass:"radioMask"}),e._v(" "),a("el-radio-group",{model:{value:e.templateRadio,callback:function(t){e.templateRadio=t},expression:"templateRadio"}},[a("el-radio",{attrs:{label:t.row.id},on:{click:function(e){e.stopPropagation()}}},[e._v(".")])],1)]}}])}),e._v(" "),a("el-table-column",{attrs:{property:"name",label:e.name+"名称"}}),e._v(" "),a("el-table-column",{attrs:{property:"desc",label:"描述"}})],1),e._v(" "),a("div",{staticClass:"templatInfo"},[a("el-row",[a("span",[e._v("\n                      "+e._s(e.name)+"数据\n                  ")])]),e._v(" "),a("hr"),e._v(" "),a("div",[""!==e.templateRadio?a("el-row",[a("el-button",{attrs:{size:"small",type:"primary",icon:"el-icon-plus"},on:{click:function(t){e.addItemShow=!0}}},[e._v("\n                          添加多项\n                      ")]),e._v(" "),a("el-button",{attrs:{icon:"el-icon-delete",size:"small",type:"primary"},on:{click:e.deleteTemplateInfo}},[e._v("\n                          删除\n                      ")]),e._v(" "),a("el-button",{attrs:{icon:"el-icon-arrow-up",size:"small",type:"primary"},on:{click:e.eleUp}},[e._v("\n                          上移\n                      ")]),e._v(" "),a("el-button",{attrs:{icon:"el-icon-arrow-down",size:"small",type:"primary"},on:{click:e.eleDown}},[e._v("\n                          下移\n                      ")]),e._v(" "),a("el-button",{attrs:{icon:"el-icon-document",size:"small",type:"primary"},on:{click:e.saveInfo}},[e._v("\n                          保存\n                      ")]),e._v(" "),a("el-button",{attrs:{icon:"el-icon-printer",size:"small",type:"primary"},on:{click:e.giveParam}},[e._v("\n                          参数化\n                      ")])],1):e._e(),e._v(" "),a("el-table",{directives:[{name:"loading",rawName:"v-loading",value:e.templateLoading,expression:"templateLoading"}],ref:"multipleTable",staticClass:"sortable",staticStyle:{width:"100%"},attrs:{border:"",data:e.templateInfo,"tooltip-effect":"dark","row-key":"name"},on:{"selection-change":e.handleSelectionChange}},[a("el-table-column",{attrs:{label:"排序",width:"55"},scopedSlots:e._u([{key:"default",fn:function(e){return[a("i",{staticClass:"el-icon-sort",attrs:{id:e.row.date}})]}}])}),e._v(" "),a("el-table-column",{attrs:{label:"选择",type:"selection",width:"55"}}),e._v(" "),a("el-table-column",{attrs:{label:"操作项",width:"200",prop:"name"}}),e._v(" "),a("el-table-column",{attrs:{label:"方法",width:"180"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("el-select",{attrs:{placeholder:"请选择"},on:{change:function(a){return e.changeMethod(t.row)}},model:{value:t.row.methodName,callback:function(a){e.$set(t.row,"methodName",a)},expression:"scope.row.methodName"}},e._l(e.methods[t.row.elementWidget],(function(e){return a("el-option",{key:e.id,attrs:{label:e.name,value:e.name}})})),1)]}}])}),e._v(" "),a("el-table-column",{attrs:{prop:"arguments",label:"参数"},scopedSlots:e._u([{key:"default",fn:function(t){return[t.row.arguShow?a("div",[e._l(t.row.arguments,(function(t){return a("el-row",{key:t.index},[a("el-col",{attrs:{span:5}},[a("span",[e._v("\n                                              名称\n                                          ")])]),e._v(" "),a("el-col",{attrs:{span:10}},[a("span",[e._v("\n                                              参数值\n                                          ")])])],1)})),e._v(" "),e._l(t.row.arguments,(function(t){return a("el-row",{key:t.name},[a("el-col",{staticClass:"fixedHeight",attrs:{span:5}},[a("span",[e._v("\n                                               "+e._s(t.name)+" \n                                          ")])]),e._v(" "),a("el-col",{attrs:{span:10}},[a("span",[e._v("\n                                               "+e._s(t.value)+" \n                                          ")])])],1)})),e._v(" "),a("el-row",[a("el-button",{attrs:{size:"mini",type:"primary",icon:"el-icon-edit"},on:{click:function(e){t.row.arguShow=!1}}},[e._v("\n                                          编辑\n                                      ")])],1)],2):a("div",[e._l(t.row.arguments,(function(t){return a("el-row",{key:t.index},[a("el-col",{attrs:{span:5}},[a("span",[e._v("\n                                              名称\n                                          ")])]),e._v(" "),a("el-col",{attrs:{span:10}},[a("span",[e._v("\n                                              参数值\n                                          ")])])],1)})),e._v(" "),e._l(t.row.arguments,(function(t){return a("el-row",{key:t.name},[a("el-col",{staticClass:"fixedHeight",attrs:{span:5}},[a("span",[e._v("\n                                               "+e._s(t.name)+" \n                                          ")])]),e._v(" "),a("el-col",{attrs:{span:10}},[a("el-input",{attrs:{size:"mini"},on:{dragenter:function(e){return e.stopPropagation(),e.preventDefault(),!1},dragover:function(e){return e.stopPropagation(),e.preventDefault(),!1}},model:{value:t.newvalue,callback:function(a){e.$set(t,"newvalue",a)},expression:"item.newvalue"}})],1)],1)})),e._v(" "),a("el-row",[a("el-col",{attrs:{span:5}},[a("el-button",{attrs:{size:"mini"},on:{click:function(e){t.row.arguments.forEach((function(e){e.newvalue=e.value})),t.row.arguShow=!0}}},[e._v("\n                                               取消\n                                          ")])],1),e._v(" "),a("el-col",{attrs:{span:5}},[a("el-button",{attrs:{type:"primary",size:"mini"},on:{click:function(e){t.row.arguments.forEach((function(e){e.value=e.newvalue})),t.row.arguShow=!0}}},[e._v("\n                                              确认\n                                          ")])],1)],1)],2)]}}])}),e._v(" "),a("div",{attrs:{slot:"empty"},slot:"empty"},[e._v("\n                          暂无数据,请选择"+e._s(e.name)+"\n                      ")])],1)],1)],1)],1)]),e._v(" "),a("el-dialog",{attrs:{title:"新增"+e.name,visible:e.addTemplateDialog,width:"30%"},on:{"update:visible":function(t){e.addTemplateDialog=t}}},[a("el-form",{attrs:{model:e.addTemplateForm,"label-width":"80px"}},[a("el-form-item",{attrs:{label:e.name+"名称"}},[a("el-input",{attrs:{autocomplete:"off"},model:{value:e.addTemplateForm.name,callback:function(t){e.$set(e.addTemplateForm,"name",t)},expression:"addTemplateForm.name"}})],1),e._v(" "),a("el-form-item",{attrs:{label:e.name+"描述"}},[a("el-input",{attrs:{autocomplete:"off"},model:{value:e.addTemplateForm.description,callback:function(t){e.$set(e.addTemplateForm,"description",t)},expression:"addTemplateForm.description"}})],1)],1),e._v(" "),a("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{on:{click:function(t){e.addTemplateDialog=!1}}},[e._v("取 消")]),e._v(" "),a("el-button",{attrs:{type:"primary"},on:{click:e.addTemplate}},[e._v("确 定")])],1)],1),e._v(" "),a("el-dialog",{attrs:{title:"删除"+e.name,visible:e.deleteTemplateDialog,width:"30%"},on:{"update:visible":function(t){e.deleteTemplateDialog=t}}},[a("span",{attrs:{offset:2}},[e._v("确定要删除该"+e._s(e.name)+"吗？")]),e._v(" "),a("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{on:{click:function(t){e.deleteTemplateDialog=!1}}},[e._v("取 消")]),e._v(" "),a("el-button",{attrs:{type:"primary"},on:{click:e.deleteTemplate}},[e._v("确 定")])],1)]),e._v(" "),a("el-dialog",{attrs:{title:"添加多项",visible:e.addItemShow,width:"30%"},on:{"update:visible":function(t){e.addItemShow=t}}},[a("uiEleFunTree",{attrs:{multiselection:!0,transId:e.transId,autId:e.autId},on:{closeDialog:function(t){e.addItemShow=!1},throwTreeInfo:e.addTreeInfo}})],1)],1)}),[],!1,et,"data-v-8e52a746",null).exports,at={components:{SideBar:M,elementLibrary:qe,templateManage:tt},data:function(){return{userId:void 0,autSelectValue:void 0,tranSelectValue:void 0,activeName:"elementLibrary",autSelectOptions:[],tranSelectOptions:[],transSelected:{}}},mounted:function(){var e=this.$route.query;console.log(e),this.autSelectValue=e.autId,this.tranSelectValue=e.id,this.userId=sessionStorage.getItem("userId")||"3",this.getAuts(),this.getTran(this.autSelectValue,!0)},methods:{handleClick:function(e,t){console.log(e,t)},getAuts:function(){var e=this;d({url:"/aut/queryListAut",method:"post"}).then((function(t){console.log(t),e.autSelectOptions=t.autRespDTOList,e.autSelectValue=e.autSelectValue}),(function(e){console.log(e)})).catch((function(e){console.log(e)}))},getTran:function(e){var t=this,a=arguments.length>1&&void 0!==arguments[1]&&arguments[1];d({url:"/transactController/queryTransactsByAutId",method:"post",params:{id:e}}).then((function(e){t.tranSelectOptions=e.transactRespDTOs,a||(t.tranSelectValue="",t.tranSelectValue=e.transactRespDTOs[0].id),t.transChange(t.tranSelectValue),console.log(e)}),(function(e){console.log(e)})).catch((function(e){console.log(e)}))},autChange:function(e){this.getTran(e)},transChange:function(e){this.transSelected=this.tranSelectOptions.filter((function(t){return e==t.id}))[0]},copySingleUITransact:function(){var e=this;console.log(),d({url:"/transactController/copySingleUITransact",method:"post",params:{autId:this.autSelectValue,transId:this.tranSelectValue,elementRepositoryId:this.transSelected.elementRepositoryId,objectRepositoryId:this.transSelected.objectRepositoryId,creatorId:this.userId}}).then((function(t){e.$message("复制成功")}),(function(e){}))}}};var st=function(e){a("wyxX")},lt=Object(m.a)(at,(function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"page-outer"},[a("el-container",[a("el-main",[a("el-row",[a("el-col",{staticClass:"rightLable",attrs:{span:3}},[a("span",[e._v("\n                        被测系统 ：\n                    ")])]),e._v(" "),a("el-col",{attrs:{span:3}},[a("el-select",{attrs:{filterable:""},on:{change:e.autChange},model:{value:e.autSelectValue,callback:function(t){e.autSelectValue=t},expression:"autSelectValue"}},e._l(e.autSelectOptions,(function(e){return a("el-option",{key:e.id,attrs:{label:e.code,value:e.id}})})),1)],1),e._v(" "),a("el-col",{staticClass:"rightLable",attrs:{span:3}},[a("span",[e._v("\n                        功能点 ：\n                    ")])]),e._v(" "),a("el-col",{attrs:{span:3}},[a("el-select",{attrs:{filterable:"",placeholder:"请选择"},on:{change:e.transChange},model:{value:e.tranSelectValue,callback:function(t){e.tranSelectValue=t},expression:"tranSelectValue"}},e._l(e.tranSelectOptions,(function(e,t){return a("el-option",{key:t,attrs:{label:e.code,value:e.id}})})),1)],1),e._v(" "),a("el-col",{attrs:{span:4,offset:1}},[a("el-button",{attrs:{icon:"el-icon-edit-outline",size:"small",type:"primary"},on:{click:function(t){return e.copySingleUITransact()}}},[e._v("\n                        复制功能点\n                    ")])],1)],1),e._v(" "),a("el-tabs",{on:{"tab-click":e.handleClick},model:{value:e.activeName,callback:function(t){e.activeName=t},expression:"activeName"}},[a("el-tab-pane",{attrs:{label:"元素库",name:"elementLibrary"}},[a("element-library",{attrs:{"trans-id":e.tranSelectValue+"","aut-id":e.autSelectValue+""}})],1),e._v(" "),a("el-tab-pane",{attrs:{label:"基础脚本",name:"template"}},[a("template-manage",{attrs:{"trans-id":e.tranSelectValue,"aut-id":e.autSelectValue,"path-name":"TestInfrastructure"}})],1)],1)],1)],1)],1)}),[],!1,st,"data-v-1c5afd6e",null).exports,nt=a("RIqP"),ot=a.n(nt),it=a("+2Rf"),rt=a.n(it),ct=a("wd/R"),dt=a.n(ct),ut={mixins:[L.a],name:"InterfacesManagement",data:function(){return{autId:"",transactsForm:{id:""},singleInterfaceForm:{id:"271"},systemNameSearch:"",transactSearchInput:"",titleForm:{autNameMedium:"",autRespDTOList:[],interfaceNameMedium:"",transactRespDTOs:[]},selectedTransact:"",selectSystem:"",manageInfo:{bodyContent:"",bodyFormat:"1",createTime:"",creatorId:"",description:"",header:[{name:"h1",desc:"h3",val:"h2"}],interfaceCode:"",maintainerId:"",method:"",name:"",protocol:"",version:"",status:"1",creatorList:[],maintainerList:[],modifyTime:"",authenticationMethod:"HTTP Basic",selectedStatus:"",selectedProtocol:"",selectedMethod:"",urlPath:"",selectedAuthorization:"inherit auth from parent",selectedHeader:[{}],rawFormat:""},authenticationMethodList:["HTTP Basic","HTTP Digest","WSSE(WS-Security)","API KEY","OAUTH 2"],statusList:[{id:0,status:"开发中"},{id:1,status:"开发完成"},{id:2,status:"已废弃"}],protocolList:[{id:1,type:"HTTP"},{id:2,type:"FTP"}],methodList:[{id:0,type:"GET"},{id:1,type:"POST"},{id:2,type:"PUT"},{id:3,type:"DELETE"}],authorizationList:[{id:1,value:"inherit auth from parent"},{id:2,value:"No Auth"},{id:3,value:"Bearer Token"},{id:4,value:"Basic Auth"},{id:5,value:"Digest Auth"},{id:6,value:"OAuth 1.0"},{id:7,value:"OAuth 2.0"},{id:8,value:"Hawk Authentication"},{id:9,value:"AWS Signature"},{id:10,value:"NTLM Authentication[Beta]"}],bodyFormats:[{id:1,value:"JSON"},{id:2,value:"XML"}]}},created:function(){var e=this.$route.query;this.autId=Number(e.autId),this.selectSystem=this.autId,this.transactsForm.id=e.id,this.selectedTransact=Number(this.transactsForm.id),console.log("row",e),this.selectAllUsername(),this.queryListAut(),this.queryTransactsByAutId(this.autId),this.querySingleInterface(this.transactsForm.id)},methods:{selectAllUsername:function(){var e=this;d({url:"/userController/selectAllUsername",method:"POST",params:{}}).then((function(t){"0000"==t.respCode?(e.manageInfo.creatorList=t.list,e.manageInfo.maintainerList=t.list):e.$message.warning("获取失败")})).catch((function(t){e.$message.error("数据获取失败")}))},queryListAut:function(){var e=this;d({url:"/aut/queryListAut",method:"POST",params:{}}).then((function(t){if("0000"==t.respCode){e.titleForm.autRespDTOList=t.autRespDTOList;var a=e.titleForm.autRespDTOList.find((function(t){return t.id==e.autId}));e.selectSystem=a.id}else e.$message.warning("获取失败")})).catch((function(t){e.$message.error("数据获取失败")}))},queryTransactsByAutId:function(e){var t=this;d({url:"/transactController/queryTransactsByAutId",method:"POST",params:{id:e}}).then((function(e){"0000"==e.respCode?""!==t.transactsForm.id?t.titleForm.transactRespDTOs=e.transactRespDTOs.filter((function(e){return 2===e.transType})):(t.titleForm.transactRespDTOs=e.transactRespDTOs.filter((function(e){return 2===e.transType})),t.transactsForm.id=t.titleForm.transactRespDTOs[0].id?t.titleForm.transactRespDTOs[0].id:"系统下无功能点",t.selectedTransact=t.transactsForm.id,t.querySingleInterface(t.selectedTransact),console.log("原始数据",t.titleForm.transactRespDTOs)):t.$message.warning("获取失败")})).catch((function(e){t.$message.error("该系统下无功能点")}))},querySingleInterface:function(e){var t=this,a=this;d({url:"/interface/querySingleInterface",method:"POST",params:{id:e}}).then((function(e){if(console.log("uploadquerySingleInterface",e),"0000"===e.respCode){var s;if(rt.a.extend(t.manageInfo,e),t.manageInfo.createTime=dt()(e.createTime).format("YYYY/MM/DD HH:mm:ss"),t.manageInfo.modifyTime=dt()(e.modifyTime).format("YYYY/MM/DD HH:mm:ss"),a.manageInfo.status=e.status,a.manageInfo.method=e.method,a.manageInfo.protocol=e.protocol,a.manageInfo.bodyFormat=e.bodyFormat,a.manageInfo.selectedHeader=[],"[]"===e.header||null===e.header)a.manageInfo.selectedHeader.push({name:"",val:"",desc:""});else(s=a.manageInfo.selectedHeader).push.apply(s,ot()(JSON.parse(e.header)));console.log("querySingleInterface",a.manageInfo)}else t.$message.warning("获取失败")})).catch((function(e){t.$message.error(e),console.log("querySingleInterface",e)}))},selectedSystemChange:function(e){console.log("选中的value",e),this.transactsForm.id="",this.selectedTransact="",this.autId=e,this.selectSystem=e,this.queryTransactsByAutId(e)},tranctChanged:function(e){console.log("选中的value",e),this.querySingleInterface(e),this.transactsForm.id=e,console.log(this.manageInfo.creatorId)},copyFun:function(){var e=this;d({url:"/transactController/copySingleInterfaceTransact",method:"POST",params:{autId:this.autId,creatorId:this.manageInfo.creatorId,transId:this.transactsForm.id}}).then((function(t){"0000"==t.respCode?(e.$message.success("复制成功"),e.queryTransactsByAutId(e.autId),e.querySingleInterface(e.transactsForm.id)):(e.$message,error("复制失败"))})).catch((function(t){e.$message,t("复制失败")}))},systemSearch:function(e){var t=this;return e.filter((function(e,a){if(console.log(t.systemNameSearch,e),e.nameMedium.includes(t.systemNameSearch))return e}))},transactSearch:function(e){var t=this;return e.filter((function(e,a){if(e.nameMedium.includes(t.transactSearchInput))return e}))},saveContent:function(){var e=this;if(!(null!==this.manageInfo.bodyFormat&&""!==this.manageInfo.bodyContent))return this.$message.warning("报文体格式、内容是必选项"),!1;var t={authContent:null,authType:null,bodyContent:this.manageInfo.bodyContent,bodyFormat:this.manageInfo.bodyFormat,bodyParseContent:null,createTime:this.manageInfo.createTime,creatorId:this.manageInfo.creatorId,dataDictList:null,description:this.manageInfo.description,groupName:null,header:JSON.stringify(this.manageInfo.selectedHeader),id:this.transactsForm.id,interfaceCode:this.manageInfo.interfaceCode,maintainerId:this.manageInfo.maintainerId,method:this.manageInfo.method,name:this.manageInfo.name,preRequestScript:null,protocol:this.manageInfo.protocol,query:"[]",rawFormat:1,status:this.manageInfo.status,systemId:this.autId,urlPath:this.manageInfo.urlPath,version:this.manageInfo.version};d({url:"/interface/modifySingleInterface",method:"POST",params:t}).then((function(t){"0000"==t.respCode?(e.$message.success("保存成功"),e.queryTransactsByAutId(e.autId)):e.$message.warning("保存失败")})).catch((function(t){e.$message.error(t)}))},saveBottom:function(){this.saveContent()},decode:function(){var e=this;d({url:"/interface/parseXmlBody",method:"POST",params:{interfaceId:this.transactsForm.id,xmlBody:this.transactsForm.bodyContent}}).then((function(t){"0000"==t.respCode||e.$alert("解码失败","警告",{confirmButtonText:"确定",type:"error"})})).catch((function(t){e.$alert("网络连接失败","警告",{confirmButtonText:"确定",type:"error"})}))},addRow:function(e){this.manageInfo.selectedHeader.push({})},removeRowHeader:function(e){this.manageInfo.selectedHeader.splice(e,1)}}};var mt=function(e){a("Y6uN")},pt=Object(m.a)(ut,(function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"page-base-inner"},[a("el-row",{staticClass:"titleClass",attrs:{gutter:20}},[a("el-form",{attrs:{model:e.titleForm,"label-width":"90px"}},[a("el-col",{attrs:{span:6}},[a("el-form-item",{attrs:{label:"被测系统"}},[a("el-select",{staticClass:"systemSelectSystem",attrs:{placeholder:"请选择被测系统",clearable:""},on:{change:e.selectedSystemChange},model:{value:e.selectSystem,callback:function(t){e.selectSystem=t},expression:"selectSystem"}},[a("el-input",{staticClass:"searchInput",model:{value:e.systemNameSearch,callback:function(t){e.systemNameSearch=t},expression:"systemNameSearch"}}),e._v(" "),e._l(e.systemSearch(e.titleForm.autRespDTOList),(function(e){return a("el-option",{key:e.id,attrs:{value:e.id,label:e.nameMedium}})}))],2)],1)],1),e._v(" "),a("el-col",{attrs:{span:6}},[a("el-form-item",{attrs:{label:"功能点"}},[a("el-select",{staticClass:"systemSelectFun",attrs:{placeholder:"Nothing Selected",clearable:""},on:{change:e.tranctChanged},model:{value:e.selectedTransact,callback:function(t){e.selectedTransact=t},expression:"selectedTransact"}},[a("el-input",{model:{value:e.transactSearchInput,callback:function(t){e.transactSearchInput=t},expression:"transactSearchInput"}}),e._v(" "),e._l(e.transactSearch(e.titleForm.transactRespDTOs),(function(e,t){return a("el-option",{key:t,attrs:{label:e.nameMedium,value:e.id}})}))],2)],1)],1),e._v(" "),a("el-col",{staticClass:"buttonCol",attrs:{offset:1,span:11}},[a("el-button",{attrs:{type:"primary",size:"small",icon:"el-icon-document-copy"},on:{click:e.copyFun}},[e._v("\n          复制功能点\n        ")])],1)],1)],1),e._v(" "),a("el-card",{staticClass:"mainCard"},[a("p",[e._v("接口管理")]),e._v(" "),a("hr",{attrs:{color:"#eff2f7"}}),e._v(" "),a("el-form",{ref:"interfaceRule",attrs:{model:e.manageInfo,"label-width":"70px"}},[a("el-row",{staticClass:"manageRow"},[a("el-col",{attrs:{span:5}},[a("el-form-item",{attrs:{prop:"interfaceCode",label:"接口编码"}},[a("el-input",{model:{value:e.manageInfo.interfaceCode,callback:function(t){e.$set(e.manageInfo,"interfaceCode",t)},expression:"manageInfo.interfaceCode"}})],1)],1),e._v(" "),a("el-col",{attrs:{span:5,offset:1}},[a("el-form-item",{attrs:{prop:"name",label:"接口名称"}},[a("el-input",{model:{value:e.manageInfo.name,callback:function(t){e.$set(e.manageInfo,"name",t)},expression:"manageInfo.name"}})],1)],1),e._v(" "),a("el-col",{attrs:{span:5,offset:1}},[a("el-form-item",{attrs:{label:"版本号"}},[a("el-input",{model:{value:e.manageInfo.version,callback:function(t){e.$set(e.manageInfo,"version",t)},expression:"manageInfo.version"}})],1)],1),e._v(" "),a("el-col",{attrs:{span:5,offset:1}},[a("el-form-item",{attrs:{label:"创建时间"}},[a("el-input",{attrs:{disabled:""},model:{value:e.manageInfo.createTime,callback:function(t){e.$set(e.manageInfo,"createTime",t)},expression:"manageInfo.createTime"}})],1)],1)],1),e._v(" "),a("el-row",{staticClass:"manageRow"},[a("el-col",{attrs:{span:5}},[a("el-form-item",{attrs:{label:"创建者"}},[a("el-select",{staticClass:"mainSelect",model:{value:e.manageInfo.creatorId,callback:function(t){e.$set(e.manageInfo,"creatorId",t)},expression:"manageInfo.creatorId"}},e._l(e.manageInfo.creatorList,(function(e){return a("el-option",{key:e.id,attrs:{label:e.username,value:e.id}})})),1)],1)],1),e._v(" "),a("el-col",{attrs:{span:5,offset:1}},[a("el-form-item",{attrs:{label:"维护者"}},[a("el-select",{staticClass:"mainSelect",model:{value:e.manageInfo.maintainerId,callback:function(t){e.$set(e.manageInfo,"maintainerId",t)},expression:"manageInfo.maintainerId"}},e._l(e.manageInfo.maintainerList,(function(e){return a("el-option",{key:e.id,attrs:{label:e.username,value:e.id}})})),1)],1)],1),e._v(" "),a("el-col",{attrs:{span:5,offset:1}},[a("el-form-item",{attrs:{label:"认证方法"}},[a("el-select",{staticClass:"mainSelect",model:{value:e.manageInfo.authenticationMethod,callback:function(t){e.$set(e.manageInfo,"authenticationMethod",t)},expression:"manageInfo.authenticationMethod"}},e._l(e.authenticationMethodList,(function(e,t){return a("el-option",{key:t,attrs:{value:e,label:e}})})),1)],1)],1),e._v(" "),a("el-col",{attrs:{span:5,offset:1}},[a("el-form-item",{attrs:{label:"修改时间"}},[a("el-input",{attrs:{disabled:""},model:{value:e.manageInfo.modifyTime,callback:function(t){e.$set(e.manageInfo,"modifyTime",t)},expression:"manageInfo.modifyTime"}})],1)],1)],1),e._v(" "),a("el-row",{staticClass:"manageRow"},[a("el-col",{attrs:{span:5}},[a("el-form-item",{attrs:{label:"开发状态"}},[a("el-select",{staticClass:"mainSelect",model:{value:e.manageInfo.status,callback:function(t){e.$set(e.manageInfo,"status",t)},expression:"manageInfo.status"}},e._l(e.statusList,(function(e){return a("el-option",{key:e.id,attrs:{label:e.status,value:e.id}})})),1)],1)],1),e._v(" "),a("el-col",{attrs:{span:5,offset:1}},[a("el-form-item",{attrs:{label:"通信类型"}},[a("el-select",{staticClass:"mainSelect",model:{value:e.manageInfo.protocol,callback:function(t){e.$set(e.manageInfo,"protocol",t)},expression:"manageInfo.protocol"}},e._l(e.protocolList,(function(e,t){return a("el-option",{key:t,attrs:{value:e.id,label:e.type}})})),1)],1)],1),e._v(" "),a("el-col",{attrs:{span:5,offset:1}},[a("el-form-item",{attrs:{label:"请求方法"}},[a("el-select",{staticClass:"mainSelect",model:{value:e.manageInfo.method,callback:function(t){e.$set(e.manageInfo,"method",t)},expression:"manageInfo.method"}},e._l(e.methodList,(function(e,t){return a("el-option",{key:t,attrs:{value:e.id,label:e.type}})})),1)],1)],1)],1),e._v(" "),a("el-row",[a("el-form-item",{attrs:{prop:"urlPath",label:"接口路径"}},[a("el-input",{staticClass:"inputPath",model:{value:e.manageInfo.urlPath,callback:function(t){e.$set(e.manageInfo,"urlPath",t)},expression:"manageInfo.urlPath"}})],1)],1),e._v(" "),a("el-row",{staticClass:"saveRow"},[a("el-form-item",{attrs:{label:"接口简介"}},[a("el-input",{staticClass:"description",attrs:{type:"textarea"},model:{value:e.manageInfo.description,callback:function(t){e.$set(e.manageInfo,"description",t)},expression:"manageInfo.description"}}),e._v(" "),a("el-button",{staticClass:"saveButton",attrs:{type:"primary",size:"small"},on:{click:e.saveContent}},[e._v("保存\n          ")])],1)],1),e._v(" "),a("el-tabs",{staticClass:"bottomCard",attrs:{type:"border-card"}},[a("el-tab-pane",{attrs:{label:"Authorization"}},[a("el-form-item",{staticClass:"bottomForm",attrs:{label:"type"}},[a("el-select",{staticClass:"typeSelect",model:{value:e.manageInfo.selectedAuthorization,callback:function(t){e.$set(e.manageInfo,"selectedAuthorization",t)},expression:"manageInfo.selectedAuthorization"}},e._l(e.authorizationList,(function(e,t){return a("el-option",{key:t,attrs:{value:e.id,label:e.value}})})),1)],1)],1),e._v(" "),a("el-tab-pane",{attrs:{label:"Header"}},e._l(e.manageInfo.selectedHeader,(function(t,s){return a("el-row",{key:s},[a("el-col",{attrs:{span:6}},[a("el-form-item",{attrs:{"label-width":"100px",label:"header"}},[a("el-input",{attrs:{placeholdr:"请填写header"},model:{value:t.name,callback:function(a){e.$set(t,"name",a)},expression:"item.name"}})],1)],1),e._v(" "),a("el-col",{attrs:{span:5}},[a("el-form-item",{attrs:{"label-width":"100px",label:"value"}},[a("el-input",{attrs:{placeholdr:"请填写value"},model:{value:t.val,callback:function(a){e.$set(t,"val",a)},expression:"item.val"}})],1)],1),e._v(" "),a("el-col",{attrs:{span:7}},[a("el-form-item",{attrs:{"label-width":"100px",label:"备注"}},[a("el-input",{attrs:{placeholdr:"请填写备注"},model:{value:t.desc,callback:function(a){e.$set(t,"desc",a)},expression:"item.desc"}})],1)],1),e._v(" "),a("el-button",{staticClass:"deleteRow",attrs:{type:"success",icon:"el-icon-plus",size:"mini",title:"添加",plain:""},on:{click:function(t){return e.addRow(s)}}}),e._v(" "),a("el-button",{staticClass:"deleteRow",attrs:{type:"danger",icon:"el-icon-close",size:"mini",title:"删除",plain:""},on:{click:function(t){return e.removeRowHeader(s)}}})],1)})),1),e._v(" "),a("el-tab-pane",{attrs:{label:"Body"}},[a("el-form-item",{staticClass:"bottomForm",attrs:{prop:"bodyFormat","label-width":"100px",label:"报文格式"}},[a("el-select",{model:{value:e.manageInfo.bodyFormat,callback:function(t){e.$set(e.manageInfo,"bodyFormat",t)},expression:"manageInfo.bodyFormat"}},e._l(e.bodyFormats,(function(e,t){return a("el-option",{key:t,attrs:{value:e.id,label:e.value}})})),1),e._v(" "),a("el-button",{staticClass:"decode",staticStyle:{display:"none"},attrs:{type:"primary",size:"small"},on:{click:e.decode}},[e._v("解码\n            ")])],1),e._v(" "),a("el-form-item",{staticClass:"descForm",attrs:{prop:"bodyContent","label-width":"100px",label:"报文内容"}},[a("el-input",{staticClass:"bodyDes",attrs:{type:"textarea"},model:{value:e.manageInfo.bodyContent,callback:function(t){e.$set(e.manageInfo,"bodyContent",t)},expression:"manageInfo.bodyContent"}})],1)],1)],1),e._v(" "),a("el-button",{staticClass:"buttonBottom",attrs:{type:"primary",size:"small"},on:{click:e.saveBottom}},[e._v("保存\n      ")])],1)],1)],1)}),[],!1,mt,"data-v-1f5ee05e",null).exports,ht={components:{ElSlPanel:g.a},mixins:[L.a],name:"productLine",data:function(){return{titles:["添加测试系统产品线","修改测试系统产品线"],titleIndex:0,dialogVisible:!1,productLineForm:{id:"",name:""},itemNumber:10,itemNumberList:[10,20,30,50,100],tableData:[],currentPage:1,pageSize:10,pageSizes:[5,10,20,50],total:100}},created:function(){},methods:{addLine:function(){this.titleIndex=0,this.dialogVisible=!0},deleteLine:function(){},editLine:function(){this.titleIndex=1,this.dialogVisible=!0},dialogSure:function(){this.titleIndex,this.dialogVisible=!1},dialogCancel:function(){this.dialogVisible=!1},handleCurrentChange:function(e){},handleSizeChange:function(e){}}};var ft=function(e){a("Ayd6")},vt={path:"/testInfrastructure",name:"TestInfrastructure",component:te,redirect:"/testInfrastructure/TestedSystemManagementRouter/testedSystemManagement",meta:{name:"测试基础设施"},children:[{path:"TestedSystemManagementRouter",name:"TestedSystemManagementRouter",component:se,redirect:"/testInfrastructure/TestedSystemManagementRouter/testedSystemManagement",meta:{name:"被测系统管理",parent:"TestInfrastructure",icon:"el-icon-view"},children:[{path:"testedSystemManagement",name:"TestedSystemManagement",component:oe,meta:{name:"被测系统管理",parent:"TestInfrastructure",icon:"el-icon-view",hide:!0}},{path:"transact",name:"Transact",component:ye,meta:{name:"功能点管理",parent:"TestInfrastructure",icon:"el-icon-view",hide:!0}},{path:"autData",name:"ConfigureSystemData",component:Ce,meta:{name:"被测系统管理",parent:"TestInfrastructure",icon:"el-icon-view",hide:!0}},{path:"automatedComponentMaintenance",name:"AutomatedComponentMaintenance",component:Te,meta:{name:"自动化构件维护",parent:"TestInfrastructure",icon:"el-icon-view",hide:!0}},{path:"execCode",name:"PerformCodeManagement",component:Ne,meta:{name:"被测系统管理",parent:"TestInfrastructure",icon:"el-icon-view",hide:!0}}]},{path:"transactDetail",name:"TransactDetail",component:lt,meta:{name:"UI管理",parent:"TestedSystemManagement",icon:"el-icon-document-copy",hide:!0}},{path:"automatedComponentManagement",name:"AutomatedComponentManagement",component:pe,meta:{name:"自动化构件管理",parent:"TestInfrastructure",icon:"el-icon-setting"}},{path:"mockApi",name:"MockApi",component:ve,meta:{name:"Mock API",parent:"TestInfrastructure",icon:"el-icon-document"},children:[{path:"preview/:id",name:"Preview",component:De,meta:{parent:"TestInfrastructure",hide:!0}},{path:"edit/:id",name:"Edit",component:Le,meta:{parent:"TestInfrastructure",hide:!0}},{path:"run/:id",name:"Run",component:Ae,meta:{parent:"TestInfrastructure",hide:!0}}]},{path:"interfacesManagement",name:"InterfacesManagement",component:pt,meta:{name:"接口管理",parent:"TestInfrastructure",icon:"el-icon-view",hide:!0}},{path:"productLine",name:"ProductLine",component:Object(m.a)(ht,(function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"page-inner"},[a("el-container",[a("el-main",[a("el-row",[a("el-button",{attrs:{type:"primary",size:"small",icon:"el-icon-plus"},on:{click:e.addLine}},[e._v("添加\n        ")]),e._v(" "),a("el-button",{attrs:{type:"primary",size:"small",icon:"el-icon-delete"},on:{click:e.deleteLine}},[e._v("删除\n        ")]),e._v(" "),a("el-button",{attrs:{type:"primary",size:"small",icon:"el-icon-edit"},on:{click:e.editLine}},[e._v("修改\n        ")])],1),e._v(" "),a("el-card",[a("div",{staticClass:"titleRow"},[a("span",{staticClass:"titleSpan"},[e._v("测试系统产品线")]),e._v(" "),a("div",{staticClass:"titleDiv"},[a("span",[e._v("展示条目：")]),e._v(" "),a("el-select",{model:{value:e.itemNumber,callback:function(t){e.itemNumber=t},expression:"itemNumber"}},e._l(e.itemNumberList,(function(e,t){return a("el-option",{key:t,attrs:{value:e,label:e}})})),1)],1)]),e._v(" "),a("el-table",{attrs:{data:e.tableData,border:"",stripe:"","highlight-current-row":""}},[a("el-table-column",{attrs:{width:"55",type:"selection"}}),e._v(" "),a("el-table-column",{attrs:{"min-width":"49%",label:"测试系统产品线id"}}),e._v(" "),a("el-table-column",{attrs:{"min-width":"49%",label:"测试系统产品线名称"}})],1),e._v(" "),a("div",{staticClass:"paginationDiv"},[a("el-pagination",{attrs:{"current-page":e.currentPage,"page-size":e.pageSize,"page-sizes":e.pageSizes,total:e.total,layout:"total,sizes,prev,pager,next,jumper"},on:{"current-change":e.handleCurrentChange,"size-change":e.handleSizeChange}})],1)],1)],1),e._v(" "),a("el-dialog",{attrs:{width:"30%",visible:e.dialogVisible,title:e.titles[e.titleIndex]},on:{"update:visible":function(t){e.dialogVisible=t}}},[a("el-form",{attrs:{model:e.productLineForm,"label-width":"140px"}},[a("el-form-item",{attrs:{label:"测试系统产品线id"}},[a("el-input",{model:{value:e.productLineForm.id,callback:function(t){e.$set(e.productLineForm,"id",t)},expression:"productLineForm.id"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"测试系统产品线名称"}},[a("el-input",{model:{value:e.productLineForm.name,callback:function(t){e.$set(e.productLineForm,"name",t)},expression:"productLineForm.name"}})],1),e._v(" "),a("el-row",{staticClass:"dialogButtonRow"},[a("el-button",{attrs:{type:"primary",size:"small"},on:{click:e.dialogSure}},[e._v(e._s(0==e.titleIndex?"添加":"修改")+"\n          ")]),e._v(" "),a("el-button",{attrs:{type:"danger",size:"small",plain:""},on:{click:e.dialogCancel}},[e._v("取消\n          ")])],1)],1)],1)],1)],1)}),[],!1,ft,"data-v-37a7fa23",null).exports,meta:{name:"产品线",parent:"TestInfrastructure",icon:"el-icon-view",hide:!0}}]},gt={name:"index",components:{SideBar:M},data:function(){return{}},methods:{}};var bt=function(e){a("rwCz")},yt=Object(m.a)(gt,(function(){var e=this.$createElement,t=this._self._c||e;return t("div",{staticClass:"page-outer"},[t("side-bar",{attrs:{"path-name":"SystemManagement"}}),this._v(" "),t("div",{staticClass:"right-content"},[t("router-view")],1)],1)}),[],!1,bt,"data-v-12aa3d90",null).exports;function _t(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);t&&(s=s.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,s)}return a}function wt(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?_t(a,!0).forEach((function(t){re()(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):_t(a).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}var Ct={mixins:[L.a],data:function(){var e=this;return{form:{username:"",reallyname:"",password:"",checkPassword:"",role:"",status:"",dept:"",tel:"",phone:"",email:"",roleCn:""},rules:{username:[{required:!0,message:"请输入用户名称",trigger:"blur"},{min:2,max:10,message:"长度在 2 到 10 个字符",trigger:"blur"}],reallyname:[{required:!0,message:"请输入真实姓名",trigger:"blur"},{min:2,max:5,message:"长度在 2 到 5 个字符",trigger:"blur"}],role:[{required:!0,message:"请选择用户角色",trigger:"change"}],status:[{required:!0,message:"请选择用户状态",trigger:"change"}],password:[{validator:function(t,a,s){""===a?s(new Error("请输入密码")):(""!==e.form.checkPassword&&e.$refs.form.validateField("checkPassword"),s())},message:"请输入密码",trigger:"blur"}],checkPassword:[{validator:function(t,a,s){""===a?s(new Error("请再次输入密码")):a!==e.form.password?s(new Error("两次输入密码不一致!")):s()},message:"请再次输入密码",trigger:"blur"}],dept:[{required:!1,message:"请选择用户状态",trigger:"blur"}],tel:[{required:!1,message:"请选择用户状态",trigger:"blur"}],phone:[{required:!1,message:"请选择用户状态",trigger:"blur"}],email:[{required:!1,message:"请选择用户状态",trigger:"blur"}]},roles:{1:"测试主管",2:"测试经理",3:"测试组长",4:"自动化技术人员",5:"功能测试人员"},status:{0:"正常",1:"异常"},selectOptions:[{label:"用户名",value:"username"},{label:"姓名",value:"reallyname"},{label:"角色",value:"roleCn"},{label:"手机号",value:"tel"},{label:"部门",value:"dept"}],selectValue:"",selectInfo:"",tableData:[],totalCount:0,currentPage:1,pageSize:5,dialogVisible:!1,disabled:!1,modelFlag:0,selectedId:-1}},computed:{params:function(){var e={currentPage:this.currentPage,pageSize:this.pageSize,orderColumns:"id",orderType:"asc",dept:"",reallyname:"",role:"",tel:"",username:""};return""!==this.selectInfo&&this.selectValue&&(e[this.selectValue]=this.selectInfo),e},modelName:function(){return{0:"用户",1:"添加用户",2:"用户详情",3:"修改用户信息"}[this.modelFlag]},buttonName:function(){return{0:"确认",1:"立即创建",2:"确认",3:"修改信息"}[this.modelFlag]}},created:function(){this.getUsers()},mounted:function(){},methods:{handleClose:function(e){return 1===this.modelFlag?(e(),!0):(this.$refs.form.resetFields(),e(),!0)},submitForm:function(e){var t=this;this.$refs[e].validate((function(e){if(!e)return t.$message("信息格式有误，请检查"),!1;3===t.modelFlag?t.updateUser():t.addUser()}))},resetForm:function(e){this.$refs[e].resetFields()},handleDetail:function(e,t){var a=this;this.disabled=!0,this.modelFlag=2;var s=t.username,l=t.reallyname,n=t.password,o=t.role,i=t.status,r=t.dept,c=t.tel,d=t.phone,u=t.email,m=t.roleCn;this.$nextTick((function(){a.form={username:s,reallyname:l,password:n,checkPassword:n,role:null===o?"":o+"",status:null===i?"":i+"",dept:r,tel:c,phone:d,email:u,roleCn:m}})),this.dialogVisible=!0},handleEdit:function(e,t){this.handleDetail(e,t),this.modelFlag=3,this.disabled=!1,this.selectedId=t.id},roleSwitch:function(e,t){return e.role&&this.roles[e.role]},statusSwitch:function(e,t){return this.status[e.status]},handleSizeChange:function(e){this.pageSize=e,this.getUsers()},handleCurrentChange:function(e){this.currentPage=e,this.getUsers()},getUsers:function(e){var t=this;1===e&&(this.currentPage=1),d({url:"/userController/pagedBatchQueryUser",method:"post",params:this.params}).then((function(e){console.log(e),t.tableData=e.list,t.totalCount=e.totalCount}),(function(e){console.log(e)})).catch((function(e){console.log(e)}))},addUserButtom:function(){this.modelFlag=1,this.dialogVisible=!0,this.disabled=!1},addUser:function(){var e=this;d({url:"/userController/insert",method:"post",params:this.form}).then((function(t){e.$message(t.respMsg),e.dialogVisible=!1,e.getUsers()}),(function(t){e.$message(res.respMsg),e.dialogVisible=!1,console.log(t)})).catch((function(e){console.log(e)}))},updateUser:function(){var e=this;delete this.form.checkPassword,d({url:"/userController/updateByPrimaryKey",method:"post",params:wt({id:this.selectedId},this.form)}).then((function(t){e.$message(t.respMsg),e.dialogVisible=!1,e.getUsers()}),(function(t){e.$message(res.respMsg),e.dialogVisible=!1,console.log(t)})).catch((function(e){console.log(e)})),this.form.checkPassword=""}}};var It=function(e){a("chBD")},xt=Object(m.a)(Ct,(function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"page-inner"},[a("el-container",[a("el-main",[a("el-row",[a("el-button",{attrs:{size:"small",type:"primary",icon:"el-icon-plus"},on:{click:e.addUserButtom}},[e._v("\n                添加用户\n            ")])],1),e._v(" "),a("el-row",[a("el-col",{attrs:{span:3}},[a("el-select",{attrs:{placeholder:"请选择"},model:{value:e.selectValue,callback:function(t){e.selectValue=t},expression:"selectValue"}},e._l(e.selectOptions,(function(e){return a("el-option",{key:e.value,attrs:{label:e.label,value:e.value}})})),1)],1),e._v(" "),a("el-col",{attrs:{span:4,offset:1}},[a("el-input",{attrs:{placeholder:"请输入内容"},model:{value:e.selectInfo,callback:function(t){e.selectInfo=t},expression:"selectInfo"}})],1),e._v(" "),a("el-col",{attrs:{span:4,offset:1}},[a("el-button",{attrs:{size:"small",type:"primary"},on:{click:function(t){return e.getUsers(1)}}},[e._v("\n                    搜索\n                ")])],1)],1),e._v(" "),a("el-table",{staticClass:"table",attrs:{stripe:"",border:"",data:e.tableData}},[a("el-table-column",{attrs:{label:"用户名",property:"username",width:"120"}}),e._v(" "),a("el-table-column",{attrs:{label:"姓名",property:"reallyname",width:"120"}}),e._v(" "),a("el-table-column",{attrs:{label:"角色",property:"role",formatter:e.roleSwitch,width:"120"}}),e._v(" "),a("el-table-column",{attrs:{label:"所属部门",property:"dept",width:"120"}}),e._v(" "),a("el-table-column",{attrs:{label:"手机号",property:"tel",width:"120"}}),e._v(" "),a("el-table-column",{attrs:{label:"状态",property:"status",formatter:e.statusSwitch,width:"120"}}),e._v(" "),a("el-table-column",{attrs:{label:"操作"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("el-button",{attrs:{size:"mini"},on:{click:function(a){return e.handleDetail(t.$index,t.row)}}},[e._v("详情")]),e._v(" "),a("el-button",{attrs:{size:"mini",type:"danger"},on:{click:function(a){return e.handleEdit(t.$index,t.row)}}},[e._v("修改")])]}}])})],1),e._v(" "),a("div",{staticClass:"block"},[a("el-col",{attrs:{span:10,offset:4}},[a("el-pagination",{attrs:{"current-page":e.currentPage,"page-sizes":[5,10,20,50],"page-size":e.pageSize,layout:"total, sizes, prev, pager, next, jumper",total:e.totalCount},on:{"size-change":e.handleSizeChange,"current-change":e.handleCurrentChange}})],1)],1),e._v(" "),a("el-dialog",{attrs:{title:e.modelName,visible:e.dialogVisible,"before-close":e.handleClose,width:"30%"},on:{"update:visible":function(t){e.dialogVisible=t}}},[a("el-form",{ref:"form",attrs:{prop:"form",rules:e.rules,model:e.form,"label-width":"80px"}},[a("el-form-item",{attrs:{label:"用户名",prop:"username"}},[a("el-input",{attrs:{disabled:e.disabled},model:{value:e.form.username,callback:function(t){e.$set(e.form,"username",t)},expression:"form.username"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"真实姓名",prop:"reallyname",required:""}},[a("el-input",{attrs:{disabled:e.disabled},model:{value:e.form.reallyname,callback:function(t){e.$set(e.form,"reallyname",t)},expression:"form.reallyname"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"密码",prop:"password",required:""}},[a("el-input",{attrs:{disabled:e.disabled,type:"password","auto-complete":"off"},model:{value:e.form.password,callback:function(t){e.$set(e.form,"password",t)},expression:"form.password"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"确认密码",prop:"checkPassword",required:""}},[a("el-input",{attrs:{disabled:e.disabled,type:"password","auto-complete":"off"},model:{value:e.form.checkPassword,callback:function(t){e.$set(e.form,"checkPassword",t)},expression:"form.checkPassword"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"用户状态",prop:"status",required:""}},[a("el-select",{attrs:{disabled:e.disabled,placeholder:"请选择用户状态"},model:{value:e.form.status,callback:function(t){e.$set(e.form,"status",t)},expression:"form.status"}},[a("el-option",{attrs:{label:"正常",value:"0"}}),e._v(" "),a("el-option",{attrs:{label:"异常",value:"1"}})],1)],1),e._v(" "),a("el-form-item",{attrs:{label:"用户角色",prop:"role",required:""}},[a("el-select",{attrs:{disabled:e.disabled,placeholder:"请选择用户角色"},model:{value:e.form.role,callback:function(t){e.$set(e.form,"role",t)},expression:"form.role"}},[a("el-option",{attrs:{label:"测试主管",value:"1"}}),e._v(" "),a("el-option",{attrs:{label:"测试经理",value:"2"}}),e._v(" "),a("el-option",{attrs:{label:"测试组长",value:"3"}}),e._v(" "),a("el-option",{attrs:{label:"自动化技术人员",value:"4"}}),e._v(" "),a("el-option",{attrs:{label:"功能测试人员",value:"5"}})],1)],1),e._v(" "),a("el-form-item",{attrs:{label:"部门",prop:"dept"}},[a("el-input",{attrs:{disabled:e.disabled},model:{value:e.form.dept,callback:function(t){e.$set(e.form,"dept",t)},expression:"form.dept"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"手机号",prop:"tel"}},[a("el-input",{attrs:{disabled:e.disabled},model:{value:e.form.tel,callback:function(t){e.$set(e.form,"tel",t)},expression:"form.tel"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"邮箱",prop:"email"}},[a("el-input",{attrs:{disabled:e.disabled},model:{value:e.form.email,callback:function(t){e.$set(e.form,"email",t)},expression:"form.email"}})],1),e._v(" "),a("el-form-item",[a("el-button",{attrs:{disabled:e.disabled,type:"primary"},on:{click:function(t){return e.submitForm("form")}}},[e._v(e._s(e.buttonName))]),e._v(" "),a("el-button",{attrs:{disabled:e.disabled},on:{click:function(t){return e.resetForm("form")}}},[e._v("重置")])],1)],1)],1)],1),e._v(" "),a("el-footer")],1)],1)}),[],!1,It,"data-v-9c3fefb8",null).exports,St={mixins:[L.a],data:function(){return{tableData:[],log:"",logVisible:!1}},computed:{},created:function(){},mounted:function(){this.getRunners()},methods:{reFresh:function(){this.getRunners()},getRunners:function(){var e=this;d({url:"/executeController/queryRunners",method:"post",params:{serviceName:"web.ui"}}).then((function(t){e.tableData=t.runners}),(function(e){console.log(e)})).catch((function(e){console.log(e)}))},downloadRunner:function(){console.log("123123"),window.location.href=this.address4+"atf-data/atf-runner.zip"},handleDetail:function(e,t){var a=this;console.log(e),console.log(t),d({url:"/executeController/syncQueryLog",method:"post",params:{logType:1,identifiableName:t.identifiableName+"/"+t.runnerIp+":"+t.runnerPort,reqSyncNo:null,sessionId:null,latestLineNum:50}}).then((function(e){a.log=e.logSeg;var t=document.getElementById("textarea_id");t.scrollTop=t.scrollHeight,syncQueryIncLog(e)}),(function(e){console.log(e)})).catch((function(e){console.log(e)})),this.logVisible=!0},syncQueryIncLog:function(e){function t(t){return e.apply(this,arguments)}return t.toString=function(){return e.toString()},t}((function(e){var t=this;d({url:"/executeController/syncQueryLog",method:"post",params:{logType:1,identifiableName:e.identifiableName+"/"+e.runnerIp+":"+e.runnerPort,reqSyncNo:null,sessionId:null,latestLineNum:50}}).then((function(e){t.log=e.logSeg;var a=document.getElementById("textarea_id");a.scrollTop=a.scrollHeight,syncQueryIncLog(e)}),(function(e){console.log(e)})).catch((function(e){console.log(e)}))}))}};var kt=function(e){a("fGlL")},Tt={path:"/systemManagement",name:"SystemManagement",component:yt,redirect:"/systemManagement/userManagement",meta:{name:"系统管理"},children:[{path:"userManagement",name:"userManagement",component:xt,meta:{name:"用户管理",parent:"SystemManagement",icon:"el-icon-view"}},{path:"runnerMnagement",name:"runnerMnagement",component:Object(m.a)(St,(function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"page-inner"},[a("el-container",[a("el-header",[a("el-button",{attrs:{size:"small",type:"primary",icon:"el-icon-refresh"},on:{click:e.reFresh}},[e._v("\n                刷新\n            ")]),e._v(" "),a("el-button",{attrs:{size:"small",type:"primary",icon:"el-icon-download"},on:{click:e.downloadRunner}},[e._v("\n                执行机安装包下载\n            ")])],1),e._v(" "),a("el-main",[a("el-table",{staticClass:"table",attrs:{stripe:"",data:e.tableData}},[a("el-table-column",{attrs:{label:"名称",property:"identifiableName",width:"180"}}),e._v(" "),a("el-table-column",{attrs:{label:"IP",property:"runnerIp",width:"180"}}),e._v(" "),a("el-table-column",{attrs:{label:"端口号",property:"runnerPort",width:"120"}}),e._v(" "),a("el-table-column",{attrs:{label:"描述",property:"runnerName",width:"200"}}),e._v(" "),a("el-table-column",{attrs:{label:"日志查看"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("el-button",{attrs:{size:"mini"},on:{click:function(a){return e.handleDetail(t.$index,t.row)}}},[e._v("日志查看\n                    ")])]}}])})],1),e._v(" "),a("el-card",{directives:[{name:"show",rawName:"v-show",value:e.logVisible,expression:"logVisible"}],staticClass:"box-card",attrs:{shadow:"always"}},[a("div",{staticClass:"clearfix",attrs:{slot:"header"},slot:"header"},[a("span",[e._v("执行机日志")]),e._v(" "),a("el-button",{staticStyle:{float:"right",padding:"3px 0"},attrs:{type:"text"},on:{click:function(t){e.logVisible=!1}}},[e._v("\n                        隐藏\n                    ")])],1),e._v(" "),a("div",{staticClass:"text item"},[a("el-input",{attrs:{id:"textarea_id",type:"textarea",placeholder:"请输入内容",disabled:"",rows:15},model:{value:e.log,callback:function(t){e.log=t},expression:"log"}})],1)])],1),e._v(" "),a("el-footer")],1)],1)}),[],!1,kt,"data-v-1b9d7ebd",null).exports,meta:{name:"执行机管理",parent:"SystemManagement",icon:"el-icon-setting"}}]},Ft={components:{SideBar:M,progressBar:G},data:function(){return{}},methods:{}};var Pt=function(e){a("RFCQ")},Nt=Object(m.a)(Ft,(function(){var e=this.$createElement,t=this._self._c||e;return t("div",{staticClass:"page-outer"},[t("side-bar",{attrs:{"path-name":"TestProject"}}),this._v(" "),t("div",{staticClass:"right-content"},[t("progress-bar"),this._v(" "),t("div",[t("router-view")],1)],1)],1)}),[],!1,Pt,"data-v-289e3944",null).exports;function Rt(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);t&&(s=s.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,s)}return a}function Mt(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?Rt(a,!0).forEach((function(t){re()(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):Rt(a).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}var Dt={mixins:[L.a],data:function(){return{form:{senceName:"",senceDesc:""},selectInfo:"",tableData:[],totalCount:0,currentPage:1,pageSize:5,dialogVisible:!1,modelFlag:0,selectedId:-1,caseLibId:sessionStorage.getItem("caselibId"),currentUserId:sessionStorage.getItem("userId")||"3",tableLoading:!1}},computed:{params:function(){return{currentPage:this.currentPage,pageSize:this.pageSize,orderColumns:"modified_time",orderType:"DESC",caseLibId:this.caseLibId}},modelName:function(){return{0:"场景",1:"添加场景",2:"修改场景信息"}[this.modelFlag]},buttonName:function(){return{0:"确认",1:"添加",2:"修改信息"}[this.modelFlag]}},created:function(){this.getScenes()},mounted:function(){},methods:{handleClose:function(e){return 1==this.modelFlag?(e(),!0):(this.$refs.form.resetFields(),e(),!0)},submitForm:function(){if(""===this.form.senceName.trim())return this.$message("场景名称不能为空"),!1;2===this.modelFlag?this.updateScene():this.addScene()},resetForm:function(e){this.$refs[e].resetFields()},handleDetail:function(e,t){this.modelFlag=2;var a=t.senceName,s=t.senceDesc;this.form={senceName:a,senceDesc:s},this.dialogVisible=!0;var l=t.id;console.log("管理",l),this.$router.push({path:"sceneSetting",query:{id:l,caseLibId:t.caseLibId}})},handleEdit:function(e,t){this.form={senceName:t.nameMedium,senceDesc:t.descShort},this.dialogVisible=!0,this.modelFlag=2,this.selectedId=t.id},handleDelete:function(e,t){var a=this;this.selectedId=t.id,this.$confirm("此操作将永久删除该场景, 是否继续?","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then((function(){a.deleteScene()})).catch((function(){a.$message({type:"info",message:"已取消删除"})}))},roleSwitch:function(e,t){return e.role&&this.roles[e.role]},statusSwitch:function(e,t){return this.status[e.status]},handleSizeChange:function(e){this.pageSize=e,this.getScenes()},handleCurrentChange:function(e){this.currentPage=e,this.getScenes()},getScenes:function(e){var t=this;1===e&&(this.currentPage=1),this.tableLoading=!0;var a={};this.selectInfo&&(a.nameMedium=this.selectInfo),d({url:"/sceneController/pagedBatchQueryScene",method:"post",params:Mt({},this.params,{},a)}).then((function(e){t.tableData=e.sceneEntityList,t.totalCount=e.totalCount}),(function(e){console.log(e)})).catch((function(e){console.log(e)})).finally((function(e){t.tableLoading=!1}))},addSceneButtom:function(){this.modelFlag=1,this.dialogVisible=!0,this.disabled=!1},addScene:function(){var e=this;d({url:"/sceneController/insertScene",method:"post",params:{nameMedium:this.form.senceName,descShort:this.form.senceDesc,caseLibId:this.caseLibId,creatorId:this.currentUserId}}).then((function(t){e.$message(t.respMsg),e.dialogVisible=!1,e.getScenes()}),(function(t){e.$message(res.respMsg),e.dialogVisible=!1,console.log("error occur"),console.log(t),e.$message(t.respMsg),e.dialogVisible=!1})).catch((function(e){console.log(e)}))},updateScene:function(){var e=this;d({url:"/sceneController/updateScene",method:"post",params:{modifierId:this.currentUserId,id:this.selectedId,nameMedium:this.form.senceName,descShort:this.form.senceDesc}}).then((function(t){e.$message(t.respMsg),e.dialogVisible=!1,e.getScenes()}),(function(t){e.$message(res.respMsg),e.dialogVisible=!1,console.log(t)})).catch((function(e){console.log(e)})),this.form.checkPassword=""},deleteScene:function(){var e=this;d({url:"/sceneController/deleteScene",method:"post",params:{id:this.selectedId}}).then((function(t){e.$message(t.respMsg),e.dialogVisible=!1,e.getScenes()}),(function(t){e.$message(res.respMsg),e.dialogVisible=!1,console.log(t)})).catch((function(e){console.log(e)})),this.form.checkPassword=""}}};var Ot=function(e){a("EO60")},$t=Object(m.a)(Dt,(function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"page-inner"},[a("el-container",[a("el-main",[a("el-row",{attrs:{gutter:20}},[a("el-col",{attrs:{span:4}},[a("el-input",{attrs:{placeholder:"请输入内容"},model:{value:e.selectInfo,callback:function(t){e.selectInfo=t},expression:"selectInfo"}})],1),e._v(" "),a("el-col",{attrs:{span:5}},[a("el-button",{attrs:{size:"small",icon:"el-icon-search",loading:e.tableLoading,type:"primary"},on:{click:function(t){return e.getScenes(1)}}},[e._v("\n                        搜索\n                    ")]),e._v(" "),a("el-button",{attrs:{size:"small",type:"primary",icon:"el-icon-plus"},on:{click:e.addSceneButtom}},[e._v("\n                        添加\n                    ")])],1)],1),e._v(" "),a("el-table",{staticClass:"table",attrs:{stripe:"",data:e.tableData,loading:e.tableLoading}},[a("el-table-column",{attrs:{label:"场景名称",property:"nameMedium",width:"120"}}),e._v(" "),a("el-table-column",{attrs:{label:"场景描述",property:"descShort",width:"120"}}),e._v(" "),a("el-table-column",{attrs:{label:"创建时间",property:"createTime",formatter:e.transTime,width:"180"}}),e._v(" "),a("el-table-column",{attrs:{label:"修改时间",property:"modifiedTime",formatter:e.transTime,width:"180"}}),e._v(" "),a("el-table-column",{attrs:{label:"操作"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("el-button",{attrs:{size:"mini"},on:{click:function(a){return e.handleDetail(t.$index,t.row)}}},[e._v("管理")]),e._v(" "),a("el-button",{attrs:{size:"mini",type:"danger"},on:{click:function(a){return e.handleDelete(t.$index,t.row)}}},[e._v("删除")]),e._v(" "),a("el-button",{attrs:{size:"mini",type:"danger"},on:{click:function(a){return e.handleEdit(t.$index,t.row)}}},[e._v("修改")])]}}])})],1),e._v(" "),a("div",{staticClass:"block"},[a("el-col",{attrs:{span:10,offset:4}},[a("el-pagination",{attrs:{"current-page":e.currentPage,"page-sizes":[5,10,20,50],"page-size":e.pageSize,layout:"total, sizes, prev, pager, next, jumper",total:e.totalCount},on:{"size-change":e.handleSizeChange,"current-change":e.handleCurrentChange}})],1)],1),e._v(" "),a("el-dialog",{attrs:{title:e.modelName,visible:e.dialogVisible,"before-close":e.handleClose,width:"30%"},on:{"update:visible":function(t){e.dialogVisible=t}}},[a("el-form",{ref:"form",attrs:{model:e.form,"label-width":"80px"}},[a("el-form-item",{attrs:{label:"场景名称",prop:"senceName",required:""}},[a("el-input",{model:{value:e.form.senceName,callback:function(t){e.$set(e.form,"senceName",t)},expression:"form.senceName"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"场景描述",prop:"senceDesc"}},[a("el-input",{model:{value:e.form.senceDesc,callback:function(t){e.$set(e.form,"senceDesc",t)},expression:"form.senceDesc"}})],1),e._v(" "),a("el-form-item",[a("el-button",{attrs:{type:"primary"},on:{click:function(t){return e.submitForm()}}},[e._v(e._s(e.buttonName))]),e._v(" "),a("el-button",{on:{click:function(t){return e.resetForm("form")}}},[e._v("重置")])],1)],1)],1)],1),e._v(" "),a("el-footer")],1)],1)}),[],!1,Ot,"data-v-713fc14a",null).exports,Lt=[{value:"caseCompositeType",label:"用例组成类型"},{value:"casecode",label:"用例编号"},{value:"missionId",label:"测试任务"},{value:"autId",label:"被测系统"},{value:"testDesign",label:"测试意图"},{value:"preRequisites",label:"前置条件"},{value:"dataRequest",label:"数据需求"},{value:"testStep",label:"测试步骤"},{value:"expectResult",label:"预期结果"},{value:"checkPoint",label:"附加检查点"},{value:"caseProperty",label:"用例性质"},{value:"caseType",label:"测试用例类型"},{value:"priority",label:"优先级"},{value:"author",label:"作者"},{value:"reviewer",label:"执行者"},{value:"scriptModeFlag",label:"脚本管理方式"},{value:"executeMethod",label:"执行方式"}],jt={caseCompositeType:[{value:"=",label:"等于",itemType:!0,itemList:[{value:"1",label:"单用例"},{value:"2",label:"流程用例"}]},{value:"!=",label:"不等于",itemType:!0,itemList:[{value:"1",label:"单用例"},{value:"2",label:"流程用例"}]}],casecode:[{value:"=",label:"等于",itemType:!1},{value:"!=",label:"不等于",itemType:!1},{value:"C",label:"包含",itemType:!1},{value:"!C",label:"不包含",itemType:!1}],missionId:[{value:"=",label:"等于",itemType:!0,itemList:[]},{value:"!=",label:"不等于",itemType:!0,itemList:[]},{value:"in",label:"属于",multiple:!0,itemType:!0,itemList:[]},{value:"!in",label:"不属于",multiple:!0,itemType:!0,itemList:[]}],autId:[{value:"=",label:"等于",itemType:!0,itemList:[]},{value:"!=",label:"不等于",itemType:!0,itemList:[]},{value:"in",label:"属于",multiple:!0,itemType:!0,itemList:[]},{value:"!in",label:"不属于",multiple:!0,itemType:!0,itemList:[]}],testDesign:[{value:"C",label:"包含",itemType:!1},{value:"!C",label:"不包含",itemType:!1}],preRequisites:[{value:"C",label:"包含",itemType:!1},{value:"!C",label:"不包含",itemType:!1}],dataRequest:[{value:"C",label:"包含",itemType:!1},{value:"!C",label:"不包含",itemType:!1}],testStep:[{value:"C",label:"包含",itemType:!1},{value:"!C",label:"不包含",itemType:!1}],expectResult:[{value:"C",label:"包含",itemType:!1},{value:"!C",label:"不包含",itemType:!1}],checkPoint:[{value:"C",label:"包含",itemType:!1},{value:"!C",label:"不包含",itemType:!1}],caseProperty:[{value:"=",label:"等于",itemType:!0,itemList:[]},{value:"!=",label:"不等于",itemType:!0,itemList:[]},{value:"in",label:"属于",multiple:!0,itemType:!0,itemList:[]},{value:"!in",label:"不属于",multiple:!0,itemType:!0,itemList:[]}],caseType:[{value:"=",label:"等于",itemType:!0,itemList:[]},{value:"!=",label:"不等于",itemType:!0,itemList:[]},{value:"in",label:"属于",multiple:!0,itemType:!0,itemList:[]},{value:"!in",label:"不属于",multiple:!0,itemType:!0,itemList:[]}],priority:[{value:"=",label:"等于",itemType:!0,itemList:[]},{value:"!=",label:"不等于",itemType:!0,itemList:[]},{value:"in",label:"属于",multiple:!0,itemType:!0,itemList:[]},{value:"!in",label:"不属于",multiple:!0,itemType:!0,itemList:[]}],author:[{value:"=",label:"等于",itemType:!0,itemList:[]},{value:"!=",label:"不等于",itemType:!0,itemList:[]},{value:"in",label:"属于",multiple:!0,itemType:!0,itemList:[]},{value:"!in",label:"不属于",multiple:!0,itemType:!0,itemList:[]}],reviewer:[{value:"=",label:"等于",itemType:!0,itemList:[]},{value:"!=",label:"不等于",itemType:!0,itemList:[]},{value:"in",label:"属于",multiple:!0,itemType:!0,itemList:[]},{value:"!in",label:"不属于",multiple:!0,itemType:!0,itemList:[]}],scriptModeFlag:[{value:"=",label:"等于",itemType:!0,itemList:[]},{value:"!=",label:"不等于",itemType:!0,itemList:[]},{value:"in",label:"属于",multiple:!0,itemType:!0,itemList:[]},{value:"!in",label:"不属于",multiple:!0,itemType:!0,itemList:[]}],executeMethod:[{value:"=",label:"等于",itemType:!0,itemList:[]},{value:"!=",label:"不等于",itemType:!0,itemList:[]},{value:"in",label:"属于",multiple:!0,itemType:!0,itemList:[]},{value:"!in",label:"不属于",multiple:!0,itemType:!0,itemList:[]}]},zt={components:{},mixins:[L.a],data:function(){return{propertyNameOptions:Lt,compareTypeOptions:jt,searchTestcase:"",conditionList:[],conditionFlag:!1}},watch:{},mounted:function(){var e=this;d({url:"/aut/queryListAut",method:"get",params:{}}).then((function(t){var a=[];t.autRespDTOList.forEach((function(e){a.push({value:e.id,label:e.nameMedium})})),e.compareTypeOptions.autId.forEach((function(e){e.itemList=a}))})),d({url:"/missionController/pagedBatchQueryTestMission",method:"post",params:{currentPage:1,pageSize:1e4,orderColumns:"modified_time",orderType:"desc",nameMedium:"",descMedium:"",codeLong:""}}).then((function(t){var a=[];t.list.forEach((function(e){a.push({value:e.id,label:e.nameMedium})})),e.compareTypeOptions.missionId.forEach((function(e){e.itemList=a}))})),this.compareTypeOptions.caseProperty.forEach((function(e){e.itemList=[{value:"1",label:"正常值"},{value:"2",label:"错误值"},{value:"3",label:"边界值"},{value:"4",label:"要素级"},{value:"5",label:"流程级"}]})),this.compareTypeOptions.caseType.forEach((function(e){e.itemList=[{value:"1",label:"联机"},{value:"2",label:"批量"},{value:"3",label:"接口"}]})),this.compareTypeOptions.priority.forEach((function(e){e.itemList=[{value:"1",label:"1级"},{value:"2",label:"2级"},{value:"3",label:"3级"},{value:"4",label:"4级"},{value:"5",label:"5级"},{value:"6",label:"6级"},{value:"7",label:"级"},{value:"8",label:"8级"},{value:"9",label:"9级"}]})),d({url:"/userController/selectAllUsername",method:"post",params:{}}).then((function(t){var a=[];t.list.forEach((function(e){a.push({value:e.id,label:e.username})})),e.compareTypeOptions.author.forEach((function(e){e.itemList=a})),e.compareTypeOptions.reviewer.forEach((function(e){e.itemList=a}))})),this.compareTypeOptions.scriptModeFlag.forEach((function(e){e.itemList=[{value:"1",label:"模板"}]})),this.compareTypeOptions.executeMethod.forEach((function(e){e.itemList=[{value:"1",label:"手工"},{value:"2",label:"自动化"},{value:"3",label:"配合"}]}))},computed:{compareType:function(){return caseCompositeType.filter()}},methods:{searchAll:function(){var e=this,t=[];this.conditionList.forEach((function(e){t.push(e)})),t.push({propertyName:"caseLibId",compareType:"=",propertyValueList:[sessionStorage.getItem("caselibId")]}),d({url:"/testcase/pagedQueryTestCaseByCondition",method:"post",params:{filterType:1,conditionList:t,currentPage:1,pageSize:5,orderType:"asc",orderColumn:"id",caseLibId:sessionStorage.getItem("caselibId")}}).then((function(t){e.$emit("getComponentData",t.testcaseViewRespDTOList),e.$emit("getTotalCount",t.totalCount)}),(function(t){e.$alert("搜索用例失败","失败",{confirmButtonText:"确定"})})).catch((function(t){e.$alert("搜索用例失败","失败",{confirmButtonText:"确定"})}))},noSearch:function(){var e=this;d({url:"/testcase/pagedQueryTestCaseByCondition",method:"post",params:{filterType:1,conditionList:[{propertyName:"caseLibId",compareType:"=",propertyValueList:[sessionStorage.getItem("caselibId")]}],currentPage:1,pageSize:5,orderType:"asc",orderColumn:"id",caseLibId:sessionStorage.getItem("caselibId")}}).then((function(t){e.$emit("getComponentData",t.testcaseViewRespDTOList),e.$emit("getTotalCount",t.totalCount)}),(function(t){e.$alert("搜索用例失败","失败",{confirmButtonText:"确定"})})).catch((function(t){e.$alert("搜索用例失败","失败",{confirmButtonText:"确定"})}))},valueType:function(e){return console.log("模态框李经理1",e.propertyName),console.log("模态框李经理1.5",this.getConf(e)),console.log("模态框李经理2",this.compareTypeOptions[e.propertyName]&&0!==this.compareTypeOptions[e.propertyName].filter((function(t){return t.value==e.compareType})).length&&this.compareTypeOptions[e.propertyName].filter((function(t){return t.value==e.compareType}))[0].itemType),!(this.compareTypeOptions[e.propertyName]&&0!=this.compareTypeOptions[e.propertyName].filter((function(t){return t.value==e.compareType})).length&&this.compareTypeOptions[e.propertyName].filter((function(t){return t.value==e.compareType}))[0].itemType)},addSearchCondition:function(){this.conditionFlag=!0,this.conditionList.push({propertyName:"请选择",compareType:"",propertyValueList:[void 0]})},deleteSearchCondition:function(e){0!==this.conditionList.length?(this.conditionList.splice(this.searchTestcase,1),0===this.conditionList.length&&(this.conditionFlag=!1),this.valueChange()):this.$message("只剩最后一个筛选条件")},getConf:function(e){return this.compareTypeOptions[e.propertyName]&&0!==this.compareTypeOptions[e.propertyName].filter((function(t){return t.value==e.compareType})).length&&this.compareTypeOptions[e.propertyName].filter((function(t){return t.value==e.compareType}))[0]},itemChange:function(e){e.compareType=void 0,e.propertyValueList=[void 0]},valueChange:function(e){!e||e.compareType&&e.propertyName&&e.propertyValueList.length>0&&e.propertyValueList[0]}},created:function(){}};var At=function(e){a("9b70")},Vt=Object(m.a)(zt,(function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[a("div",[a("el-button",{attrs:{size:"small",type:"primary",icon:"el-icon-plus"},on:{click:e.addSearchCondition}},[e._v("\n\t\t\t添加筛选条件\n\t\t")]),e._v(" "),e.conditionFlag?a("el-button",{attrs:{size:"small",type:"primary",icon:"el-icon-search"},on:{click:e.searchAll}},[e._v("\n\t\t\t搜索\n\t\t")]):e._e(),e._v(" "),e.conditionFlag?a("el-button",{attrs:{size:"small",type:"primary",icon:"el-icon-refresh-left"},on:{click:e.noSearch}},[e._v("\n\t\t\t取消筛选\n\t\t")]):e._e(),e._v(" "),e._l(e.conditionList,(function(t,s){return a("div",{key:e.searchTestcase,staticClass:"searchRow"},[a("el-select",{attrs:{placeholder:"请选择筛选项目"},on:{change:function(a){return e.itemChange(t)}},model:{value:t.propertyName,callback:function(a){e.$set(t,"propertyName",a)},expression:"condition.propertyName"}},e._l(e.propertyNameOptions,(function(e){return a("el-option",{key:e.value,attrs:{label:e.label,value:e.value}})})),1),e._v(" "),a("el-select",{attrs:{placeholder:"筛选操作"},on:{change:function(a){return e.valueChange(t)}},model:{value:t.compareType,callback:function(a){e.$set(t,"compareType",a)},expression:"condition.compareType"}},e._l(e.compareTypeOptions[t.propertyName],(function(e){return a("el-option",{key:e.value,attrs:{label:e.label,value:e.value}})})),1),e._v(" "),e.valueType(t)?a("el-input",{attrs:{placeholder:"比较值"},on:{change:function(a){return e.valueChange(t)}},model:{value:t.propertyValueList[0],callback:function(a){e.$set(t.propertyValueList,0,a)},expression:"condition.propertyValueList[0]"}}):e.getConf(t).multiple?a("el-select",{attrs:{placeholder:"比较值",multiple:!0},on:{change:function(t){return e.valueChange()}},model:{value:t.propertyValueList,callback:function(a){e.$set(t,"propertyValueList",a)},expression:"condition.propertyValueList"}},e._l(e.getConf(t).itemList,(function(e){return a("el-option",{key:e.value,attrs:{label:e.label,value:e.value}})})),1):a("el-select",{attrs:{placeholder:"比较值"},on:{change:function(a){return e.valueChange(t)}},model:{value:t.propertyValueList[0],callback:function(a){e.$set(t.propertyValueList,0,a)},expression:"condition.propertyValueList[0]"}},e._l(e.getConf(t).itemList,(function(e){return a("el-option",{key:e.value,attrs:{label:e.label,value:e.value}})})),1),e._v(" "),a("el-button",{attrs:{size:"small",type:"primary",icon:"el-icon-delete"},on:{click:function(t){return e.deleteSearchCondition(e.searchTestcase)}}})],1)}))],2)])}),[],!1,At,"data-v-f62f0f78",null).exports;function Et(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);t&&(s=s.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,s)}return a}function qt(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?Et(a,!0).forEach((function(t){re()(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):Et(a).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}var Bt=re()({mixins:[L.a],components:{ElSlPanel:g.a},data:function(){return{addForm:{actionList:[],autId:"",author:"",automaton:"",caseCompositeType:"",casecode:"",caseproperty:"1",casetype:"1",categoryTeam:"",checkpoint:"",datarequest:"",executeMethod:"2",executor:"",expectresult:"",functionModule:"",modifyChannel:"",modifyChannelNo:"",note:"",prerequisites:"",priority:"1",reviewer:"",scriptMode:"1",scriptModeFlag:"",submissionId:"",tags:"",testdesign:"",testpoint:"",teststep:"",transId:"",useStatus:"1",version:""},caseNodeNums:[{num:1,status:!0,show:!0,name:"boundGroup1",display:!1,addNodeForm:{actioncasecode:"",actioncode:"",autId:"",checkpoint:"",datarequest:"",executeMethod:"2",expectresult:"",note:"",prerequisites:"",scriptMode:"1",scriptModeFlag:"",steporder:"",testdesign:"",testpoint:"",teststep:"",transId:""}}],changeForm:{autId:"未选择",caseProperty:"未选择",caseType:"未选择",executeMethod:"未选择",executor:"未选择",missionId:"未选择",priority:"未选择",reviewer:"未选择",scriptMode:"未选择",scriptModeFlag:"未选择",transId:"未选择"},selectOptions:[{label:"用例组成类型",value:"caseCompositeType",compareType:"in"},{label:"用例编号",value:"casecode",compareType:"C"},{label:"测试任务",value:"missionId",compareType:"in"},{label:"被测系统",value:"autId"},{label:"测试意图",value:"testDesign"},{label:"前置条件",value:"preRequisites"},{label:"数据需求",value:"dataRequest"},{label:"测试步骤",value:"testStep"},{label:"预期结果",value:"expectResult"},{label:"附加检查点",value:"checkPoint"},{label:"用例性质",value:"caseProperty"},{label:"测试用例类型",value:"caseType"},{label:"优先级",value:"priority"},{label:"作者",value:"author"},{label:"评审者",value:"reviewer"},{label:"执行者",value:"executor"},{label:"执行方式",value:"executeMethod"},{label:"脚本管理方式",value:"scriptMode"}],casePropertyList:[{value:"1",label:"正常值"},{value:"2",label:"错误值"},{value:"3",label:"边界值"},{value:"4",label:"要素级"},{value:"5",label:"流程级"}],caseTypeList:[{value:"1",label:"联机"},{value:"2",label:"批量"},{value:"3",label:"接口"}],priorityList:[{value:"1",label:"1级"},{value:"2",label:"2级"},{value:"3",label:"3级"},{value:"4",label:"4级"},{value:"5",label:"5级"},{value:"6",label:"6级"},{value:"7",label:"级"},{value:"8",label:"8级"},{value:"9",label:"9级"}],useStatusList:[{value:"1",label:"新增"},{value:"2",label:"评审通过"}],executeMethodList:[{value:"1",label:"手工"},{value:"2",label:"自动化"},{value:"3",label:"配合"}],scriptModeList:[{value:"1",label:"模板"}],testCaseList:[],subCaseList:[],missionList:[],autList:[],transList:[],templateList:[],userList:[],multipleSelection:[],subMultipleSelection:[],addVisible:!1,addVisibleM:!1,changeFlag:!1,titleFlag:1,author:"",executor:"",reviewer:"",selectValue:"caseCompositeType",selectInfo:"",fileList:[],fileListM:[],idList:[],subIdList:[],selectList:[],hostId:"",caseNodeNum:1,failMSG:"操作失败啦",scriptMode:"模板",useStatus:"评审通过",executeMethod:"自动化",caseProperty:"正常值",caseType:"联机",priority:"1级",autValue:"",transValue:"",templateValue:"",missionValue:"",systemValue:"",radio:"1",tt:0,pageSize:5,currentPage:1,totalPage:1,listnum:5,totalCount:0,order:"id",sort:"asc",activeName:"first",dialogVisible:!1,dialogVisibleI:!1,dialogVisibleO:!1,dialogVisibleN:!1,dialogVisibleS:!0,dialogVisibleM:!0,dialogVisibleC:!1,dialogVisibleQ:!1,buttonM:!0,buttonS:!0,modelFlag:0,row:{},conditionList:[],timer:null,exportUrl:"http://140.143.16.21:8080/atfcloud2.0a/testcase/exportTestCase"}},computed:{params:function(){return{currentPage:this.currentPage,pageSize:this.pageSize,orderColumns:this.order,orderType:this.sort,caseLibId:sessionStorage.getItem("caselibId")}},title:function(){return{1:"查看测试用例信息",2:"修改测试用例信息"}[this.titleFlag]}},created:function(){this.getCase(),this.getMission(),this.getAutSystem(),this.getUsers()},mounted:function(){},methods:{searchCase:function(e){this.testCaseList=e,this.currentPage=1},searchCase2:function(e){this.totalCount=e,this.totalPage=Math.ceil(this.totalCount/this.pageSize)},showInfo:function(e,t){for(var a in this.dialogVisibleQ=!this.dialogVisibleQ,"1"==t?(this.titleFlag=1,this.changeFlag=!1):(this.titleFlag=2,this.changeFlag=!0,this.row=e),this.addForm={autId:e.autId,author:e.authorName,casecode:e.casecode,caseproperty:e.caseProperty.toString(),casetype:e.caseType.toString(),checkpoint:e.checkPoint,datarequest:e.dataRequest,executeMethod:e.executeMethod.toString(),executor:e.executorName,expectresult:e.expectResult,functionModule:e.functionModule,note:e.note,prerequisites:e.preRequisites,priority:e.priority.toString(),reviewer:e.reviewerName,scriptMode:e.scriptMode.toString(),scriptModeFlag:e.scriptModeFlag,submissionId:e.missionId,tags:e.tags,testdesign:e.testDesign,testpoint:e.testPoint,teststep:e.testStep,transId:e.transName,useStatus:e.useStatus.toString(),version:e.version},this.addForm)this.addForm[a]?this.addForm[a]=this.addForm[a].toString():this.addForm[a]=""},changeCaseInfo:function(){var e=this,t=this;d({url:"/testcase/modifySingleTestCaseInfo",method:"post",params:qt({},this.addForm,{transId:t.row.transName==t.addForm.transId?t.row.transId.toString():t.addForm.transId.toString(),id:t.row.id.toString(),author:t.row.authorId.toString(),reviewer:t.row.reviewerId.toString(),executor:t.row.executorId.toString()})}).then((function(a){t.getCase(1),t.dialogVisibleQ=!t.dialogVisibleQ,e.$alert("修改用例成功","成功",{confirmButtonText:"确定"})}),(function(t){e.$alert("修改用例失败","失败",{confirmButtonText:"确定"})})).catch((function(t){e.$alert("修改用例失败","失败",{confirmButtonText:"确定"})}))},addCase:function(){this.dialogVisible=!0},insert:function(e){var t=this,a=this;if(a.addForm.actionList=[],a.addForm.caseCompositeType=e,2==e)for(var s=0;s<a.caseNodeNum-1;s++)a.addForm.actionList.push(a.caseNodeNums[s].addNodeForm);d({url:"/testcase/addTestcase",method:"post",params:qt({},a.addForm,{caseLibId:sessionStorage.getItem("caselibId")})}).then((function(e){a.getCase(1),a.dialogVisible=!a.dialogVisible,t.$alert("添加用例成功","成功",{confirmButtonText:"确定"})}),(function(e){t.$alert("添加用例失败","失败",{confirmButtonText:"确定"})})).catch((function(e){t.$alert("添加用例失败","失败",{confirmButtonText:"确定"})}))},showElement:function(e){this.caseNodeNum++;var t={num:this.caseNodeNum,status:!0,show:!0,name:"boundGroup"+this.caseNodeNum,display:!1,addNodeForm:{actioncasecode:"",actioncode:"",autId:this.autList[0].id,checkpoint:"",datarequest:"",executeMethod:"2",expectresult:"",note:"",prerequisites:"",scriptMode:"1",scriptModeFlag:0==this.templateList.length?"":this.templateList[0].id,steporder:"",testdesign:"",testpoint:"",teststep:"",transId:this.transList[0].id}};this.caseNodeNums.push(t),1==e?this.caseNodeNums[this.caseNodeNum-2].display=!0:this.caseNodeNums[this.caseNodeNum-1].display=!0},insertNode:function(){var e=this,t=this;d({url:"/testcase/addFlowNode",method:"post",params:{addTestCaseActionDTO:t.caseNodeNums[0].addNodeForm,caseLibId:t.idList[0]}}).then((function(a){t.getCase(1),t.dialogVisibleN=!t.dialogVisibleN,e.$alert("添加节点成功","成功",{confirmButtonText:"确定"})}),(function(t){e.$alert("添加节点失败","失败",{confirmButtonText:"确定"})})).catch((function(t){e.$alert("添加节点失败","失败",{confirmButtonText:"确定"})}))},deleteNode:function(){var e=this,t=this;d({url:"/testcase/deleteFlowNode",method:"post",params:{testCaseActionIds:t.subIdList,caseLibId:t.hostId}}).then((function(a){t.getCase(1),e.$alert("删除节点成功","成功",{confirmButtonText:"确定"})}),(function(t){e.$alert("删除节点失败","失败",{confirmButtonText:"确定"})})).catch((function(t){e.$alert("删除节点失败","失败",{confirmButtonText:"确定"})}))},changeInf:function(){this.dialogVisibleC=!this.dialogVisibleC},convertExecMe:function(e){switch(e){case 1:return"手工";case 2:return"自动化";case 3:return"配合";default:return""}},convertPri:function(e){switch(e){case 1:return"1级";case 2:return"2级";case 3:return"3级";case 4:return"4级";case 5:return"5级";case 6:return"6级";case 7:return"7级";case 8:return"8级";case 9:return"9级";default:return""}},convertCaseType:function(e){switch(e){case 1:return"联机";case 2:return"批量";case 3:return"接口";default:return""}},convertCasePro:function(e){switch(e){case 1:return"正常值";case 2:return"错误值";case 3:return"边界值";case 4:return"要素级";case 5:return"流程级";default:return""}},getCase:function(e){var t=this;1===e&&(this.currentPage=1),d({url:"/testcase/pagedBatchQueryTestCase",method:"post",params:this.params}).then((function(e){t.testCaseList=e.testcaseViewRespDTOList,t.totalCount=e.totalCount,t.totalPage=Math.ceil(t.totalCount/t.pageSize),t.pageSize=t.pageSize}),(function(e){console.log(e)})).catch((function(e){console.log(e)}))},getMission:function(){var e=this;d({url:"/missionController/pagedBatchQueryTestMission",method:"post",params:{currentPage:1,pageSize:1e4,orderColumns:"modified_time",orderType:"desc",nameMedium:"",descMedium:"",codeLong:""}}).then((function(t){e.missionList=t.list,e.addForm.submissionId=t.list[0].id}),(function(e){console.log(e)})).catch((function(e){console.log(e)}))},getUsers:function(){var e=this;d({url:"/userController/selectAllUsername",method:"post",params:{}}).then((function(t){e.userList=t.list,e.addForm.author=t.list[0].id,e.addForm.executor=t.list[0].id,e.addForm.reviewer=t.list[0].id}),(function(e){console.log(e)})).catch((function(e){console.log(e)}))},getAutSystem:function(){var e=this;d({url:"/aut/queryListAut",method:"post"}).then((function(t){e.autList=t.autRespDTOList,e.addForm.autId=e.autList[0].id,e.caseNodeNums[0].addNodeForm.autId=e.autList[0].id,e.getTrans(e.autList[0].id)}),(function(e){console.log(e)})).catch((function(e){console.log(e)}))},getTrans:function(e){var t=this;d({url:"/transactController/pagedBatchQueryTransact",method:"post",params:{autId:e,currentPage:1,orderColumns:"id",orderType:"asc",pageSize:1e5}}).then((function(e){t.transList=e.list,t.addForm.transId=t.transList[0].id,t.caseNodeNums[0].addNodeForm.transId=t.transList[0].id,t.getTemplate(t.transList[0].id)}),(function(e){console.log(e)})).catch((function(e){console.log(e)}))},getTemplate:function(e){var t=this;d({url:"/scriptTemplate/queryTemplateByTransId",method:"post",params:{id:e}}).then((function(e){t.templateList=e.scriptTemplateList,0==t.templateList.length?(t.addForm.scriptModeFlag="",t.caseNodeNums[0].addNodeForm.scriptModeFlag=""):(t.addForm.scriptModeFlag=t.templateList[0].id,t.caseNodeNums[0].addNodeForm.scriptModeFlag=t.templateList[0].id)}),(function(e){console.log(e)})).catch((function(e){console.log(e)}))},transChange:function(e){this.getTrans(e)},templateChange:function(e){this.getTemplate(e)},showVisibleS:function(){this.dialogVisibleS=!this.dialogVisibleS,this.dialogVisibleS?this.buttonS=!0:this.buttonS=!1},showVisibleM:function(){this.dialogVisibleM=!this.dialogVisibleM,this.dialogVisibleM?this.buttonM=!0:this.buttonM=!1},noChangeIm:function(){this.dialogVisibleC=!this.dialogVisibleC},toOrigin:function(){this.changeForm={autId:"未选择",caseProperty:"未选择",caseType:"未选择",executeMethod:"未选择",executor:"未选择",missionId:"未选择",priority:"未选择",reviewer:"未选择",scriptMode:"未选择",scriptModeFlag:"未选择",transId:"未选择"}},changeIm:function(){var e=this,t={};"未选择"==this.changeForm.autId||(t.autId=this.changeForm.autId),"未选择"==this.changeForm.caseProperty||(t.caseProperty=this.changeForm.caseProperty),"未选择"==this.changeForm.caseType||(t.caseType=this.changeForm.caseType),"未选择"==this.changeForm.executeMethod||(t.executeMethod=this.changeForm.executeMethod),"未选择"==this.changeForm.executor||(t.executor=this.changeForm.executor),"未选择"==this.changeForm.missionId||(t.missionId=this.changeForm.missionId),"未选择"==this.changeForm.priority||(t.priority=this.changeForm.priority),"未选择"==this.changeForm.reviewer||(t.reviewer=this.changeForm.reviewer),"未选择"==this.changeForm.scriptMode||(t.scriptMode=this.changeForm.scriptMode),"未选择"==this.changeForm.scriptModeFlag||(t.scriptModeFlag=this.changeForm.scriptModeFlag),"未选择"==this.changeForm.transId||(t.transId=this.changeForm.transId);var a=this;d({url:"/testcase/batchModifyMultiProperty",method:"post",params:{testcaseIds:a.selectList,testcaseActionIds:a.subIdList,propertyValueMap:t}}).then((function(t){a.getCase(0),a.dialogVisibleC=!a.dialogVisibleC,e.$alert("修改用例信息成功","成功",{confirmButtonText:"确定"})}),(function(t){e.$alert("修改用例信息失败","失败",{confirmButtonText:"确定"})})).catch((function(t){e.$alert("修改用例信息失败","失败",{confirmButtonText:"确定"})}))},handleSizeChange:function(e){this.pageSize=e,this.getCase()},handleCurrentChange:function(e){this.currentPage=e,this.getCase()},uploadCase:function(){this.dialogVisibleI=!0},changeFile:function(e,t){this.fileListM.push(t)},handleRemove:function(e,t){for(var a=0,s=0;s<t.length;s++)if(e.name==t[s].name){a=s;break}this.fileListM.splice(a,1)},handlePreview:function(e){console.log(e)},uploadTemp:function(){var e=this,t=this.fileListM[0],a=new FormData,s=sessionStorage.getItem("caselibId");a.append("file",t.raw),a.append("caseLibId",s),a.append("uploadUserId",3),"t"==t.name.charAt(1)?a.append("templateType",1):a.append("templateType",0);var l=this;d({url:"/testcase/batchImportTestcase",method:"post",params:a}).then((function(t){"0000"==t.respCode?(e.dialogVisibleI=!1,l.getCase(),e.$alert("导入成功","导入情况",{confirmButtonText:"确定",callback:function(t){e.$message({type:"info",message:"action: ".concat(t)})}})):(e.dialogVisibleI=!1,e.$alert("导入失败","导入情况",{confirmButtonText:"确定",callback:function(t){e.$message({type:"info",message:"action: ".concat(t)})}}))})).catch((function(e){console.log(e)}))},outputCase:function(){this.dialogVisibleO=!0},addNodeShow:function(){1==this.idList.length?this.dialogVisibleN=!0:this.$alert("请仅选中一个用例且必须是流程用例","警告",{confirmButtonText:"确定"})},downloadTemplate:function(e){if(0==e){window.location.href="http://140.143.16.21:8080/atfcloud2.0a/testcase/batchImport/file/template/simple"}else{window.location.href="http://140.143.16.21:8080/atfcloud2.0a/testcase/getStandardExcelTemporary"}},handleSelectionChange:function(e){this.multipleSelection=e,this.idList=[],this.selectList=[];for(var t=0;t<this.multipleSelection.length;t++)2==this.multipleSelection[t].caseCompositeType&&this.idList.push(this.multipleSelection[t].id);for(t=0;t<this.multipleSelection.length;t++)this.selectList.push(this.multipleSelection[t].id)},exportURL:function(){this.selectList=this.selectList.toString();var e=a("Qyje");console.log(this.selectList),d({url:"/testcase/exportTestCase",method:"POST",params:e.stringify({testCaseIdList:this.selectList}),responseType:"arraybuffer"}).then((function(e){!function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"导出用例.xls",a=arguments.length>2?arguments[2]:void 0,s=new Blob([e],{type:a||"application/vnd.openxmlformats-officedocument.spreadsheetml.sheet;charset=utf-8"}),l=document.createElement("a");l.style.display="none";var n=window.URL.createObjectURL(s);l.href=n,l.download=t,document.body.appendChild(l),l.click(),document.body.removeChild(l),window.URL.revokeObjectURL(n)}(e,"批量用例导出.xls")})).catch((function(e){console.log(e)}))},subHandleSelectionChange:function(e){this.subMultipleSelection=e,this.subIdList=[];for(var t=0;t<this.subMultipleSelection.length;t++)this.subIdList.push(this.subMultipleSelection[t].id);this.hostId=this.subMultipleSelection[0].caseId},rowDrop:function(){var e=document.querySelector(".el-table__expanded-cell tbody"),t=this;We.default.create(e,{filter:".el-input__inner",preventOnFilter:!1,animation:180,delay:0,dropOnEmpty:!0,onEnd:function(e){var a=e.newIndex,s=e.oldIndex,l=t.subCaseList.splice(s,1)[0];t.subCaseList.splice(a,0,l),t.subCaseList.push(t.subCaseList.pop());for(var n=[],o=0;o<t.subCaseList.length;o++)n.push(t.subCaseList[o].id);d({url:"/testcase/changeFlowNodeOrder",method:"post",params:{caseLibId:t.subCaseList[0].caseId,testCaseActionIds:n}}).then((function(e){console.log("拖拽成功")})).catch((function(e){console.log(e)}))}})},subShow:function(e,t){var a=this;if(1!=e.caseCompositeType){var s=this;d({url:"/testcase/queryTestcaseActionList",method:"post",params:{id:e.id}}).then((function(e){s.subCaseList=e.testcaseActionViewList})).catch((function(e){console.log(e)})),clearTimeout(this.timer),this.timer=setTimeout((function(){a.rowDrop()}),1e3)}},tableRowClassName:function(e){var t=e.row,a=e.rowIndex;t.index=a},toUploadRecord:function(){this.$router.push({path:"uploadRecord"})}}},"components",{search:Vt});var Ut=function(e){a("mYcJ")},Qt=Object(m.a)(Bt,(function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"page-inner"},[a("el-container",[a("el-main",[a("el-row",[a("el-button",{attrs:{type:"primary",size:"small",icon:"el-icon-plus"},on:{click:e.addCase}},[e._v("\n\t\t\t\t\t\t添加\n\t\t\t\t\t")]),e._v(" "),a("el-button",{attrs:{type:"primary",size:"small",icon:"el-icon-upload2"},on:{click:e.uploadCase}},[e._v("\n\t\t\t\t\t\t导入\n\t\t\t\t\t")]),e._v(" "),a("el-button",{attrs:{type:"primary",size:"small",icon:"el-icon-upload2"},on:{click:e.toUploadRecord}},[e._v("\n\t\t\t\t\t\t导入记录\n\t\t\t\t\t")]),e._v(" "),a("el-button",{attrs:{type:"primary",size:"small",icon:"el-icon-download"},on:{click:e.outputCase}},[e._v("\n\t\t\t\t\t\t导出\n\t\t\t\t\t")]),e._v(" "),a("el-button",{attrs:{type:"primary",size:"small",icon:"el-icon-plus"},on:{click:e.addNodeShow}},[e._v("\n\t\t\t\t\t\t添加流程节点\n\t\t\t\t\t")]),e._v(" "),a("el-button",{attrs:{type:"primary",size:"small",icon:"el-icon-delete"},on:{click:e.deleteNode}},[e._v("\n\t\t\t\t\t\t删除流程节点\n\t\t\t\t\t")]),e._v(" "),a("el-button",{attrs:{type:"primary",size:"small",icon:"el-icon-delete"},on:{click:e.changeInf}},[e._v("\n\t\t\t\t\t\t更改多种用例信息\n\t\t\t\t\t")])],1),e._v(" "),a("el-row",{staticStyle:{"padding-top":"20px","padding-bottom":"10px"}},[a("search",{on:{getComponentData:e.searchCase,getTotalCount:e.searchCase2}})],1),e._v(" "),a("el-scrollbar",{staticStyle:{width:"100%"}},[a("el-table",{staticClass:"table",attrs:{stripe:"",data:e.testCaseList,border:"","row-class-name":e.tableRowClassName},on:{"expand-change":e.subShow,"selection-change":e.handleSelectionChange}},[a("el-table-column",{attrs:{type:"expand"},scopedSlots:e._u([{key:"default",fn:function(t){return["2"==t.row.caseCompositeType?a("div",{staticClass:"scrollbar"},[a("el-table",{staticClass:"tabPosition",attrs:{data:e.subCaseList,"row-key":"id"},on:{"selection-change":e.subHandleSelectionChange}},[a("el-table-column",{attrs:{width:"48"}},[a("i",{staticClass:"el-icon-rank",staticStyle:{color:"#F56C6C","font-size":"16px",cursor:"pointer"}})]),e._v(" "),a("el-table-column",{attrs:{type:"selection"}}),e._v(" "),a("el-table-column",{attrs:{label:"流程节点编号",property:"actioncode"}}),e._v(" "),a("el-table-column",{attrs:{label:"被测系统",property:"autName"}}),e._v(" "),a("el-table-column",{attrs:{label:"功能点",property:"transName"}}),e._v(" "),a("el-table-column",{attrs:{label:"用例组成类型"},scopedSlots:e._u([{key:"default",fn:function(t){return[e._v("\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t"+e._s("流程节点")+"\n\t\t\t\t\t\t\t\t\t\t\t\t\t")]}}],null,!0)}),e._v(" "),a("el-table-column",{attrs:{label:"状态"},scopedSlots:e._u([{key:"default",fn:function(t){return[e._v("\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t"+e._s("0"==t.row.useStatus?"新增":"评审通过")+"\n\t\t\t\t\t\t\t\t\t\t\t\t\t")]}}],null,!0)}),e._v(" "),a("el-table-column",{attrs:{label:"关联脚本名称",property:"scriptTemplateName"}}),e._v(" "),a("el-table-column",{attrs:{label:"作者",property:"authorName"}}),e._v(" "),a("el-table-column",{attrs:{label:"执行者",property:"executorName",width:"120"}}),e._v(" "),a("el-table-column",{attrs:{label:"评审者",property:"reviewerName"}}),e._v(" "),a("el-table-column",{attrs:{label:"执行方式"},scopedSlots:e._u([{key:"default",fn:function(t){return[e._v("\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t"+e._s(e.convertExecMe(t.row.executeMethod))+"\n\t\t\t\t\t\t\t\t\t\t\t\t\t")]}}],null,!0)}),e._v(" "),a("el-table-column",{attrs:{label:"测试任务",property:"missionName"}}),e._v(" "),a("el-table-column",{attrs:{label:"优先级"},scopedSlots:e._u([{key:"default",fn:function(t){return[e._v("\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t"+e._s(e.convertPri(t.row.priority))+"\n\t\t\t\t\t\t\t\t\t\t\t\t\t")]}}],null,!0)}),e._v(" "),a("el-table-column",{attrs:{label:"用例类型"},scopedSlots:e._u([{key:"default",fn:function(t){return[e._v("\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t"+e._s(e.convertCaseType(t.row.caseType))+"\n\t\t\t\t\t\t\t\t\t\t\t\t\t")]}}],null,!0)}),e._v(" "),a("el-table-column",{attrs:{label:"用例性质"},scopedSlots:e._u([{key:"default",fn:function(t){return[e._v("\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t"+e._s(e.convertCasePro(t.row.caseProperty))+"\n\t\t\t\t\t\t\t\t\t\t\t\t\t")]}}],null,!0)}),e._v(" "),a("el-table-column",{attrs:{label:"操作",width:"300"}})],1)],1):e._e()]}}])}),e._v(" "),a("el-table-column",{attrs:{type:"selection"}}),e._v(" "),a("el-table-column",{attrs:{label:"用例编号",property:"casecode"}}),e._v(" "),a("el-table-column",{attrs:{label:"被测系统",property:"autName"}}),e._v(" "),a("el-table-column",{attrs:{label:"功能点",property:"transName"}}),e._v(" "),a("el-table-column",{attrs:{label:"用例组成类型"},scopedSlots:e._u([{key:"default",fn:function(t){return[e._v("\n\t\t\t\t\t\t\t\t\t"+e._s("1"==t.row.caseCompositeType?"单用例":"流程用例")+"\n\t\t\t\t\t\t\t\t")]}}])}),e._v(" "),a("el-table-column",{attrs:{label:"状态"},scopedSlots:e._u([{key:"default",fn:function(t){return[e._v("\n\t\t\t\t\t\t\t\t\t"+e._s("0"==t.row.useStatus?"新增":"评审通过")+"\n\t\t\t\t\t\t\t\t")]}}])}),e._v(" "),a("el-table-column",{attrs:{label:"关联脚本名称",property:"scriptTemplateName"}}),e._v(" "),a("el-table-column",{attrs:{label:"作者",property:"authorName"}}),e._v(" "),a("el-table-column",{attrs:{label:"执行者",property:"executorName",width:"120"}}),e._v(" "),a("el-table-column",{attrs:{label:"评审者",property:"reviewerName"}}),e._v(" "),a("el-table-column",{attrs:{label:"执行方式"},scopedSlots:e._u([{key:"default",fn:function(t){return[e._v("\n\t\t\t\t\t\t\t\t\t"+e._s(e.convertExecMe(t.row.executeMethod))+"\n\t\t\t\t\t\t\t\t")]}}])}),e._v(" "),a("el-table-column",{attrs:{label:"测试任务",property:"missionName"}}),e._v(" "),a("el-table-column",{attrs:{label:"优先级"},scopedSlots:e._u([{key:"default",fn:function(t){return[e._v("\n\t\t\t\t\t\t\t\t\t"+e._s(e.convertPri(t.row.priority))+"\n\t\t\t\t\t\t\t\t")]}}])}),e._v(" "),a("el-table-column",{attrs:{label:"用例类型"},scopedSlots:e._u([{key:"default",fn:function(t){return[e._v("\n\t\t\t\t\t\t\t\t\t"+e._s(e.convertCaseType(t.row.caseType))+"\n\t\t\t\t\t\t\t\t")]}}])}),e._v(" "),a("el-table-column",{attrs:{label:"用例性质"},scopedSlots:e._u([{key:"default",fn:function(t){return[e._v("\n\t\t\t\t\t\t\t\t\t"+e._s(e.convertCasePro(t.row.caseProperty))+"\n\t\t\t\t\t\t\t\t")]}}])}),e._v(" "),a("el-table-column",{attrs:{label:"测试点",property:"testPoint"}}),e._v(" "),a("el-table-column",{attrs:{label:"操作",width:"200"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("el-button",{attrs:{size:"mini"},on:{click:function(a){return e.showInfo(t.row,"1")}}},[e._v("查看\n\t\t\t\t\t\t\t\t\t")]),e._v(" "),a("el-button",{attrs:{size:"mini",type:"info"},on:{click:function(a){return e.showInfo(t.row,"2")}}},[e._v("修改\n\t\t\t\t\t\t\t\t\t")])]}}])})],1)],1),e._v(" "),a("div",{staticClass:"block"},[a("el-col",{attrs:{span:10,offset:4}},[a("el-pagination",{attrs:{"current-page":e.currentPage,"page-sizes":[5,10,20,50],"page-size":e.pageSize,layout:"total, sizes, prev, pager, next, jumper",total:e.totalCount},on:{"size-change":e.handleSizeChange,"current-change":e.handleCurrentChange}})],1)],1),e._v(" "),a("el-dialog",{attrs:{title:"添加用例",visible:e.dialogVisible,width:"65%"},on:{"update:visible":function(t){e.dialogVisible=t}}},[a("el-tabs",{attrs:{type:"card"},model:{value:e.activeName,callback:function(t){e.activeName=t},expression:"activeName"}},[a("el-tab-pane",{attrs:{label:"单用例",name:"first"}},[a("div",[a("el-form",{ref:"addForm",attrs:{model:e.addForm}},[a("el-row",[a("el-col",{attrs:{span:18,offset:4}},[a("el-form-item",{attrs:{label:"用例编号",prop:"casecode","label-width":"35%",required:""}},[a("el-col",{attrs:{span:8}},[a("el-input",{model:{value:e.addForm.casecode,callback:function(t){e.$set(e.addForm,"casecode",t)},expression:"\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\taddForm.casecode\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t"}})],1),e._v(" "),a("el-col",{attrs:{span:8,offset:1}},[e.buttonS?a("el-button",{attrs:{type:"primary",size:"small",icon:"el-icon-arrow-down"},on:{click:e.showVisibleS}},[e._v("\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t隐藏详情\n\t\t\t\t\t\t\t\t\t\t\t\t\t")]):a("el-button",{attrs:{type:"primary",size:"small",icon:"el-icon-arrow-down"},on:{click:e.showVisibleS}},[e._v("\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t显示详情\n\t\t\t\t\t\t\t\t\t\t\t\t\t")])],1)],1)],1)],1),e._v(" "),e.dialogVisibleS?a("div",[a("el-divider",{attrs:{"content-position":"center"}},[e._v("后缀有*为必填项目")]),e._v(" "),a("el-row",[a("el-col",{attrs:{span:7}},[a("el-form-item",{attrs:{label:"测试点",prop:"testpoint","label-width":"40%",required:""}},[a("el-input",{attrs:{size:"small"},model:{value:e.addForm.testpoint,callback:function(t){e.$set(e.addForm,"testpoint",t)},expression:"\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\taddForm.testpoint\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t"}})],1)],1),e._v(" "),a("el-col",{attrs:{span:7,offset:1}},[a("el-form-item",{attrs:{label:"测试任务",prop:"submissionId","label-width":"40%"}},[a("el-select",{staticClass:"selectWidth",attrs:{size:"small"},model:{value:e.addForm.submissionId,callback:function(t){e.$set(e.addForm,"submissionId",t)},expression:"\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\taddForm.submissionId\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t"}},e._l(e.missionList,(function(e){return a("el-option",{key:e.id,attrs:{label:e.nameMedium,value:e.id}})})),1)],1)],1),e._v(" "),a("el-col",{attrs:{span:7,offset:1}},[a("el-form-item",{attrs:{label:"版本号",prop:"version","label-width":"40%"}},[a("el-input",{attrs:{size:"small"},model:{value:e.addForm.version,callback:function(t){e.$set(e.addForm,"version",t)},expression:"\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\taddForm.version\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t"}})],1)],1)],1),e._v(" "),a("el-row",[a("el-col",{attrs:{span:7}},[a("el-form-item",{attrs:{label:"被测系统",prop:"autName","label-width":"40%"}},[a("el-select",{staticClass:"selectWidth",attrs:{size:"small"},on:{change:function(t){return e.transChange(t)}},model:{value:e.addForm.autId,callback:function(t){e.$set(e.addForm,"autId",t)},expression:"addForm.autId"}},e._l(e.autList,(function(e){return a("el-option",{key:e.id,attrs:{label:e.nameMedium,value:e.id}})})),1)],1)],1),e._v(" "),a("el-col",{attrs:{span:7,offset:1}},[a("el-form-item",{attrs:{label:"功能点",prop:"transName","label-width":"40%"}},[a("el-select",{staticClass:"selectWidth",attrs:{size:"small"},on:{change:function(t){return e.templateChange(t)}},model:{value:e.addForm.transId,callback:function(t){e.$set(e.addForm,"transId",t)},expression:"\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\taddForm.transId\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t"}},e._l(e.transList,(function(e){return a("el-option",{key:e.id,attrs:{label:e.nameMedium,value:e.id}})})),1)],1)],1),e._v(" "),a("el-col",{attrs:{span:7,offset:1}},[a("el-form-item",{attrs:{label:"基础脚本",prop:"scriptModeFlag","label-width":"40%"}},[a("el-select",{staticClass:"selectWidth",attrs:{size:"small"},model:{value:e.addForm.scriptModeFlag,callback:function(t){e.$set(e.addForm,"scriptModeFlag",t)},expression:"\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\taddForm.scriptModeFlag\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t"}},e._l(e.templateList,(function(e){return a("el-option",{key:e.id,attrs:{label:e.name,value:e.id}})})),1)],1)],1)],1),e._v(" "),a("el-row",[a("el-col",{attrs:{span:7}},[a("el-form-item",{attrs:{label:"用例性质",prop:"caseproperty","label-width":"40%"}},[a("el-select",{staticClass:"selectWidth",attrs:{size:"small"},model:{value:e.addForm.caseproperty,callback:function(t){e.$set(e.addForm,"caseproperty",t)},expression:"\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\taddForm.caseproperty\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t"}},e._l(e.casePropertyList,(function(e){return a("el-option",{key:e.id,attrs:{label:e.label,value:e.value}})})),1)],1)],1),e._v(" "),a("el-col",{attrs:{span:7,offset:1}},[a("el-form-item",{attrs:{label:"测试用例类型",prop:"casetype","label-width":"40%"}},[a("el-select",{staticClass:"selectWidth",attrs:{size:"small"},model:{value:e.addForm.casetype,callback:function(t){e.$set(e.addForm,"casetype",t)},expression:"\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\taddForm.casetype\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t"}},e._l(e.caseTypeList,(function(e){return a("el-option",{key:e.id,attrs:{label:e.label,value:e.value}})})),1)],1)],1),e._v(" "),a("el-col",{attrs:{span:7,offset:1}},[a("el-form-item",{attrs:{label:"优先级",prop:"priority","label-width":"40%"}},[a("el-select",{staticClass:"selectWidth",attrs:{size:"small"},model:{value:e.addForm.priority,callback:function(t){e.$set(e.addForm,"priority",t)},expression:"\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\taddForm.priority\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t"}},e._l(e.priorityList,(function(e){return a("el-option",{key:e.id,attrs:{label:e.label,value:e.value}})})),1)],1)],1)],1),e._v(" "),a("el-row",[a("el-col",{attrs:{span:7}},[a("el-form-item",{attrs:{label:"作者",prop:"author","label-width":"40%"}},[a("el-select",{staticClass:"selectWidth",attrs:{size:"small"},model:{value:e.addForm.author,callback:function(t){e.$set(e.addForm,"author",t)},expression:"addForm.author"}},e._l(e.userList,(function(e){return a("el-option",{key:e.id,attrs:{label:e.username,value:e.id}})})),1)],1)],1),e._v(" "),a("el-col",{attrs:{span:7,offset:1}},[a("el-form-item",{attrs:{label:"评审者",prop:"executor","label-width":"40%"}},[a("el-select",{staticClass:"selectWidth",attrs:{size:"small"},model:{value:e.addForm.executor,callback:function(t){e.$set(e.addForm,"executor",t)},expression:"\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\taddForm.executor\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t"}},e._l(e.userList,(function(e){return a("el-option",{key:e.id,attrs:{label:e.username,value:e.id}})})),1)],1)],1),e._v(" "),a("el-col",{attrs:{span:7,offset:1}},[a("el-form-item",{attrs:{label:"执行者",prop:"reviewer","label-width":"40%"}},[a("el-select",{staticClass:"selectWidth",attrs:{size:"small"},model:{value:e.addForm.reviewer,callback:function(t){e.$set(e.addForm,"reviewer",t)},expression:"\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\taddForm.reviewer\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t"}},e._l(e.userList,(function(e){return a("el-option",{key:e.id,attrs:{label:e.username,value:e.id}})})),1)],1)],1)],1),e._v(" "),a("el-row",[a("el-col",{attrs:{span:7}},[a("el-form-item",{attrs:{label:"用例使用状态",prop:"useStatus","label-width":"40%"}},[a("el-select",{staticClass:"selectWidth",attrs:{size:"small"},model:{value:e.addForm.useStatus,callback:function(t){e.$set(e.addForm,"useStatus",t)},expression:"\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\taddForm.useStatus\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t"}},e._l(e.useStatusList,(function(e){return a("el-option",{key:e.id,attrs:{label:e.label,value:e.value}})})),1)],1)],1),e._v(" "),a("el-col",{attrs:{span:7,offset:1}},[a("el-form-item",{attrs:{label:"执行方式",prop:"executeMethod","label-width":"40%"}},[a("el-select",{staticClass:"selectWidth",attrs:{size:"small"},model:{value:e.addForm.executeMethod,callback:function(t){e.$set(e.addForm,"executeMethod",t)},expression:"\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\taddForm.executeMethod\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t"}},e._l(e.executeMethodList,(function(e){return a("el-option",{key:e.id,attrs:{label:e.label,value:e.value}})})),1)],1)],1),e._v(" "),a("el-col",{attrs:{span:7,offset:1}},[a("el-form-item",{attrs:{label:"脚本管理方式",prop:"scriptMode","label-width":"40%"}},[a("el-select",{staticClass:"selectWidth",attrs:{size:"small"},model:{value:e.addForm.scriptMode,callback:function(t){e.$set(e.addForm,"scriptMode",t)},expression:"\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\taddForm.scriptMode\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t"}},e._l(e.scriptModeList,(function(e){return a("el-option",{key:e.id,attrs:{label:e.label,value:e.value}})})),1)],1)],1)],1),e._v(" "),a("el-row",[a("el-col",{attrs:{span:11}},[a("el-form-item",{attrs:{label:"测试意图",prop:"testdesign","label-width":"25%",required:""}},[a("el-input",{model:{value:e.addForm.testdesign,callback:function(t){e.$set(e.addForm,"testdesign",t)},expression:"\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\taddForm.testdesign\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t"}})],1)],1),e._v(" "),a("el-col",{attrs:{span:11,offset:1}},[a("el-form-item",{attrs:{label:"前置条件",prop:"prerequisites","label-width":"25%",required:""}},[a("el-input",{model:{value:e.addForm.prerequisites,callback:function(t){e.$set(e.addForm,"prerequisites",t)},expression:"\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\taddForm.prerequisites\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t"}})],1)],1)],1),e._v(" "),a("el-row",[a("el-col",{attrs:{span:11}},[a("el-form-item",{attrs:{label:"测试步骤",prop:"teststep","label-width":"25%",required:""}},[a("el-input",{model:{value:e.addForm.teststep,callback:function(t){e.$set(e.addForm,"teststep",t)},expression:"\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\taddForm.teststep\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t"}})],1)],1),e._v(" "),a("el-col",{attrs:{span:11,offset:1}},[a("el-form-item",{attrs:{label:"数据需求",prop:"datarequest","label-width":"25%"}},[a("el-input",{model:{value:e.addForm.datarequest,callback:function(t){e.$set(e.addForm,"datarequest",t)},expression:"\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\taddForm.datarequest\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t"}})],1)],1)],1),e._v(" "),a("el-row",[a("el-col",{attrs:{span:11}},[a("el-form-item",{attrs:{label:"预期结果",prop:"expectresult","label-width":"25%",required:""}},[a("el-input",{model:{value:e.addForm.expectresult,callback:function(t){e.$set(e.addForm,"expectresult",t)},expression:"\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\taddForm.expectresult\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t"}})],1)],1),e._v(" "),a("el-col",{attrs:{span:11,offset:1}},[a("el-form-item",{attrs:{label:"附加检查点",prop:"checkpoint","label-width":"25%",required:""}},[a("el-input",{model:{value:e.addForm.checkpoint,callback:function(t){e.$set(e.addForm,"checkpoint",t)},expression:"\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\taddForm.checkpoint\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t"}})],1)],1)],1),e._v(" "),a("el-row",[a("el-col",{attrs:{span:24}},[a("el-form-item",{attrs:{label:"备注",prop:"note","label-width":"11.5%"}},[a("el-col",{attrs:{span:23}},[a("el-input",{attrs:{type:"textarea",placeholder:"请输入内容"},model:{value:e.addForm.note,callback:function(t){e.$set(e.addForm,"note",t)},expression:"\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\taddForm.note\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t"}})],1)],1)],1)],1),e._v(" "),a("el-row",[a("el-col",{attrs:{span:6,offset:18}},[a("el-button",{attrs:{type:"primary",size:"small"},on:{click:function(t){return e.insert(1)}}},[e._v("添加")]),e._v(" "),a("el-button",{attrs:{type:"primary",size:"small"},on:{click:function(t){e.dialogVisible=!e.dialogVisible}}},[e._v("取消")])],1)],1)],1):e._e()],1)],1)]),e._v(" "),a("el-tab-pane",{attrs:{label:"流程用例",name:"second"}},[a("div",[a("el-form",{ref:"addForm",attrs:{model:e.addForm}},[a("el-row",[a("el-col",{attrs:{span:18,offset:4}},[a("el-form-item",{attrs:{label:"用例编号",prop:"casecode","label-width":"35%",required:""}},[a("el-col",{attrs:{span:8}},[a("el-input",{model:{value:e.addForm.casecode,callback:function(t){e.$set(e.addForm,"casecode",t)},expression:"\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\taddForm.casecode\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t"}})],1),e._v(" "),a("el-col",{attrs:{span:8,offset:1}},[e.buttonM?a("el-button",{attrs:{type:"primary",size:"small",icon:"el-icon-arrow-down"},on:{click:e.showVisibleM}},[e._v("\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t隐藏详情\n\t\t\t\t\t\t\t\t\t\t\t\t\t")]):a("el-button",{attrs:{type:"primary",size:"small",icon:"el-icon-arrow-down"},on:{click:e.showVisibleM}},[e._v("\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t显示详情\n\t\t\t\t\t\t\t\t\t\t\t\t\t")])],1)],1)],1)],1),e._v(" "),e.dialogVisibleM?a("div",[a("el-divider",{attrs:{"content-position":"center"}},[e._v("后缀有*为必填项目")]),e._v(" "),a("el-row",[a("el-col",{attrs:{span:7}},[a("el-form-item",{attrs:{label:"测试点",prop:"testpoint","label-width":"40%",required:""}},[a("el-input",{attrs:{size:"small"},model:{value:e.addForm.testpoint,callback:function(t){e.$set(e.addForm,"testpoint",t)},expression:"\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\taddForm.testpoint\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t"}})],1)],1),e._v(" "),a("el-col",{attrs:{span:7,offset:1}},[a("el-form-item",{attrs:{label:"测试任务",prop:"submissionId","label-width":"40%"}},[a("el-select",{staticClass:"selectWidth",attrs:{size:"small"},model:{value:e.addForm.submissionId,callback:function(t){e.$set(e.addForm,"submissionId",t)},expression:"\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\taddForm.submissionId\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t"}},e._l(e.missionList,(function(e){return a("el-option",{key:e.id,attrs:{label:e.nameMedium,value:e.id}})})),1)],1)],1),e._v(" "),a("el-col",{attrs:{span:7,offset:1}},[a("el-form-item",{attrs:{label:"版本号",prop:"version","label-width":"40%"}},[a("el-input",{attrs:{size:"small"},model:{value:e.addForm.version,callback:function(t){e.$set(e.addForm,"version",t)},expression:"\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\taddForm.version\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t"}})],1)],1)],1),e._v(" "),a("el-row",[a("el-col",{attrs:{span:7}},[a("el-form-item",{attrs:{label:"被测系统",prop:"autName","label-width":"40%"}},[a("el-select",{staticClass:"selectWidth",attrs:{size:"small"},on:{change:function(t){return e.transChange(t)}},model:{value:e.addForm.autId,callback:function(t){e.$set(e.addForm,"autId",t)},expression:"addForm.autId"}},e._l(e.autList,(function(e){return a("el-option",{key:e.id,attrs:{label:e.nameMedium,value:e.id}})})),1)],1)],1),e._v(" "),a("el-col",{attrs:{span:7,offset:1}},[a("el-form-item",{attrs:{label:"功能点",prop:"transName","label-width":"40%"}},[a("el-select",{staticClass:"selectWidth",attrs:{size:"small"},on:{change:function(t){return e.templateChange(t)}},model:{value:e.addForm.transId,callback:function(t){e.$set(e.addForm,"transId",t)},expression:"\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\taddForm.transId\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t"}},e._l(e.transList,(function(e){return a("el-option",{key:e.id,attrs:{label:e.nameMedium,value:e.id}})})),1)],1)],1),e._v(" "),a("el-col",{attrs:{span:7,offset:1}},[a("el-form-item",{attrs:{label:"基础脚本",prop:"scriptModeFlag","label-width":"40%"}},[a("el-select",{staticClass:"selectWidth",attrs:{size:"small"},model:{value:e.addForm.scriptModeFlag,callback:function(t){e.$set(e.addForm,"scriptModeFlag",t)},expression:"\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\taddForm.scriptModeFlag\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t"}},e._l(e.templateList,(function(e){return a("el-option",{key:e.id,attrs:{label:e.name,value:e.id}})})),1)],1)],1)],1),e._v(" "),a("el-row",[a("el-col",{attrs:{span:7}},[a("el-form-item",{attrs:{label:"用例性质",prop:"caseproperty","label-width":"40%"}},[a("el-select",{staticClass:"selectWidth",attrs:{size:"small"},model:{value:e.addForm.caseproperty,callback:function(t){e.$set(e.addForm,"caseproperty",t)},expression:"\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\taddForm.caseproperty\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t"}},e._l(e.casePropertyList,(function(e){return a("el-option",{key:e.id,attrs:{label:e.label,value:e.value}})})),1)],1)],1),e._v(" "),a("el-col",{attrs:{span:7,offset:1}},[a("el-form-item",{attrs:{label:"测试用例类型",prop:"casetype","label-width":"40%"}},[a("el-select",{staticClass:"selectWidth",attrs:{size:"small"},model:{value:e.addForm.casetype,callback:function(t){e.$set(e.addForm,"casetype",t)},expression:"\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\taddForm.casetype\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t"}},e._l(e.caseTypeList,(function(e){return a("el-option",{key:e.id,attrs:{label:e.label,value:e.value}})})),1)],1)],1),e._v(" "),a("el-col",{attrs:{span:7,offset:1}},[a("el-form-item",{attrs:{label:"优先级",prop:"priority","label-width":"40%"}},[a("el-select",{staticClass:"selectWidth",attrs:{size:"small"},model:{value:e.addForm.priority,callback:function(t){e.$set(e.addForm,"priority",t)},expression:"\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\taddForm.priority\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t"}},e._l(e.priorityList,(function(e){return a("el-option",{key:e.id,attrs:{label:e.label,value:e.value}})})),1)],1)],1)],1),e._v(" "),a("el-row",[a("el-col",{attrs:{span:7}},[a("el-form-item",{attrs:{label:"作者",prop:"author","label-width":"40%"}},[a("el-select",{staticClass:"selectWidth",attrs:{size:"small"},model:{value:e.addForm.author,callback:function(t){e.$set(e.addForm,"author",t)},expression:"addForm.author"}},e._l(e.userList,(function(e){return a("el-option",{key:e.id,attrs:{label:e.username,value:e.id}})})),1)],1)],1),e._v(" "),a("el-col",{attrs:{span:7,offset:1}},[a("el-form-item",{attrs:{label:"评审者",prop:"executor","label-width":"40%"}},[a("el-select",{staticClass:"selectWidth",attrs:{size:"small"},model:{value:e.addForm.executor,callback:function(t){e.$set(e.addForm,"executor",t)},expression:"\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\taddForm.executor\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t"}},e._l(e.userList,(function(e){return a("el-option",{key:e.id,attrs:{label:e.username,value:e.id}})})),1)],1)],1),e._v(" "),a("el-col",{attrs:{span:7,offset:1}},[a("el-form-item",{attrs:{label:"执行者",prop:"reviewer","label-width":"40%"}},[a("el-select",{staticClass:"selectWidth",attrs:{size:"small"},model:{value:e.addForm.reviewer,callback:function(t){e.$set(e.addForm,"reviewer",t)},expression:"\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\taddForm.reviewer\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t"}},e._l(e.userList,(function(e){return a("el-option",{key:e.id,attrs:{label:e.username,value:e.id}})})),1)],1)],1)],1),e._v(" "),a("el-row",[a("el-col",{attrs:{span:7}},[a("el-form-item",{attrs:{label:"用例使用状态",prop:"useStatus","label-width":"40%"}},[a("el-select",{staticClass:"selectWidth",attrs:{size:"small"},model:{value:e.addForm.useStatus,callback:function(t){e.$set(e.addForm,"useStatus",t)},expression:"\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\taddForm.useStatus\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t"}},e._l(e.useStatusList,(function(e){return a("el-option",{key:e.id,attrs:{label:e.label,value:e.value}})})),1)],1)],1),e._v(" "),a("el-col",{attrs:{span:7,offset:1}},[a("el-form-item",{attrs:{label:"执行方式",prop:"executeMethod","label-width":"40%"}},[a("el-select",{staticClass:"selectWidth",attrs:{size:"small"},model:{value:e.addForm.executeMethod,callback:function(t){e.$set(e.addForm,"executeMethod",t)},expression:"\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\taddForm.executeMethod\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t"}},e._l(e.executeMethodList,(function(e){return a("el-option",{key:e.id,attrs:{label:e.label,value:e.value}})})),1)],1)],1),e._v(" "),a("el-col",{attrs:{span:7,offset:1}},[a("el-form-item",{attrs:{label:"脚本管理方式",prop:"scriptMode","label-width":"40%"}},[a("el-select",{staticClass:"selectWidth",attrs:{size:"small"},model:{value:e.addForm.scriptMode,callback:function(t){e.$set(e.addForm,"scriptMode",t)},expression:"\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\taddForm.scriptMode\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t"}},e._l(e.scriptModeList,(function(e){return a("el-option",{key:e.id,attrs:{label:e.label,value:e.value}})})),1)],1)],1)],1),e._v(" "),a("el-row",[a("el-col",{attrs:{span:11}},[a("el-form-item",{attrs:{label:"测试意图",prop:"testdesign","label-width":"25%",required:""}},[a("el-input",{model:{value:e.addForm.testdesign,callback:function(t){e.$set(e.addForm,"testdesign",t)},expression:"\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\taddForm.testdesign\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t"}})],1)],1),e._v(" "),a("el-col",{attrs:{span:11,offset:1}},[a("el-form-item",{attrs:{label:"前置条件",prop:"prerequisites","label-width":"25%",required:""}},[a("el-input",{model:{value:e.addForm.prerequisites,callback:function(t){e.$set(e.addForm,"prerequisites",t)},expression:"\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\taddForm.prerequisites\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t"}})],1)],1)],1),e._v(" "),a("el-row",[a("el-col",{attrs:{span:11}},[a("el-form-item",{attrs:{label:"测试步骤",prop:"teststep","label-width":"25%",required:""}},[a("el-input",{model:{value:e.addForm.teststep,callback:function(t){e.$set(e.addForm,"teststep",t)},expression:"\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\taddForm.teststep\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t"}})],1)],1),e._v(" "),a("el-col",{attrs:{span:11,offset:1}},[a("el-form-item",{attrs:{label:"数据需求",prop:"datarequest","label-width":"25%"}},[a("el-input",{model:{value:e.addForm.datarequest,callback:function(t){e.$set(e.addForm,"datarequest",t)},expression:"\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\taddForm.datarequest\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t"}})],1)],1)],1),e._v(" "),a("el-row",[a("el-col",{attrs:{span:11}},[a("el-form-item",{attrs:{label:"预期结果",prop:"expectresult","label-width":"25%",required:""}},[a("el-input",{model:{value:e.addForm.expectresult,callback:function(t){e.$set(e.addForm,"expectresult",t)},expression:"\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\taddForm.expectresult\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t"}})],1)],1),e._v(" "),a("el-col",{attrs:{span:11,offset:1}},[a("el-form-item",{attrs:{label:"附加检查点",prop:"checkpoint","label-width":"25%",required:""}},[a("el-input",{model:{value:e.addForm.checkpoint,callback:function(t){e.$set(e.addForm,"checkpoint",t)},expression:"\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\taddForm.checkpoint\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t"}})],1)],1)],1),e._v(" "),a("el-row",[a("el-col",{attrs:{span:24}},[a("el-form-item",{attrs:{label:"备注",prop:"note","label-width":"11.5%"}},[a("el-col",{attrs:{span:23}},[a("el-input",{attrs:{type:"textarea",placeholder:"请输入内容"},model:{value:e.addForm.note,callback:function(t){e.$set(e.addForm,"note",t)},expression:"\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\taddForm.note\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t"}})],1)],1)],1)],1),e._v(" "),e._l(e.caseNodeNums,(function(t){return a("div",{key:t.id},[t.display?a("el-form",{ref:"addNodeForm",refInFor:!0,attrs:{model:t.addNodeForm}},[a("el-row",{staticStyle:{"font-size":"20px","padding-top":"20px"}},[a("el-col",{attrs:{span:4,offset:1}},[e._v("\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t流程节点用例\n\t\t\t\t\t\t\t\t\t\t\t\t\t")])],1),e._v(" "),a("el-row",[a("el-col",{attrs:{span:18,offset:2}},[a("el-form-item",{attrs:{label:"流程节点编号",prop:"actioncasecode","label-width":"35%",required:""}},[a("el-col",{attrs:{span:6}},[a("el-input",{attrs:{size:"small"},model:{value:t.addNodeForm.actioncasecode,callback:function(a){e.$set(t.addNodeForm,"actioncasecode",a)},expression:"\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\titem\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t.addNodeForm\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t.actioncasecode\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t"}})],1),e._v(" "),a("el-col",{attrs:{span:5,offset:1}},[t.show?a("el-button",{attrs:{type:"primary",size:"small",icon:"el-icon-arrow-down"},on:{click:function(e){t.show=!t.show}}},[e._v("\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t隐藏详情\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t")]):a("el-button",{attrs:{type:"primary",size:"small",icon:"el-icon-arrow-down"},on:{click:function(e){t.show=!t.show}}},[e._v("\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t显示详情\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t")])],1),e._v(" "),a("el-col",{attrs:{span:5,offset:1}},[a("el-button",{attrs:{type:"primary",size:"small",icon:"el-icon-arrow-down"},on:{click:function(a){e.caseNodeNums.splice(t.num-1,1)}}},[e._v("\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t删除节点\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t")])],1)],1)],1)],1),e._v(" "),a("el-divider",{attrs:{"content-position":"center"}},[e._v("后缀有*为必填项目")]),e._v(" "),a("div",{directives:[{name:"show",rawName:"v-show",value:t.show,expression:"item.show"}]},[a("el-row",[a("el-col",{attrs:{span:7}},[a("el-form-item",{attrs:{label:"被测系统",prop:"autName","label-width":"40%"}},[a("el-select",{staticClass:"selectWidth",attrs:{size:"small"},on:{change:function(t){return e.transChange(t)}},model:{value:t.addNodeForm.autId,callback:function(a){e.$set(t.addNodeForm,"autId",a)},expression:"\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\titem\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t.addNodeForm\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t.autId\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t"}},e._l(e.autList,(function(e){return a("el-option",{key:e.id,attrs:{label:e.nameMedium,value:e.id}})})),1)],1)],1),e._v(" "),a("el-col",{attrs:{span:7,offset:1}},[a("el-form-item",{attrs:{label:"功能点",prop:"transName","label-width":"40%"}},[a("el-select",{staticClass:"selectWidth",attrs:{size:"small"},on:{change:function(t){return e.templateChange(t)}},model:{value:t.addNodeForm.transId,callback:function(a){e.$set(t.addNodeForm,"transId",a)},expression:"\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\titem\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t.addNodeForm\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t.transId\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t"}},e._l(e.transList,(function(e){return a("el-option",{key:e.id,attrs:{label:e.nameMedium,value:e.id}})})),1)],1)],1),e._v(" "),a("el-col",{attrs:{span:7,offset:1}},[a("el-form-item",{attrs:{label:"基础脚本",prop:"scriptModeFlag","label-width":"40%"}},[a("el-select",{staticClass:"selectWidth",attrs:{size:"small"},model:{value:t.addNodeForm.scriptModeFlag,callback:function(a){e.$set(t.addNodeForm,"scriptModeFlag",a)},expression:"\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\titem\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t.addNodeForm\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t.scriptModeFlag\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t"}},e._l(e.templateList,(function(e){return a("el-option",{key:e.id,attrs:{label:e.name,value:e.id}})})),1)],1)],1)],1),e._v(" "),a("el-row",[a("el-col",{attrs:{span:7}},[a("el-form-item",{attrs:{label:"动作标识",prop:"actioncode","label-width":"40%",required:""}},[a("el-input",{attrs:{size:"small"},model:{value:t.addNodeForm.actioncode,callback:function(a){e.$set(t.addNodeForm,"actioncode",a)},expression:"\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\titem\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t.addNodeForm\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t.actioncode\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t"}})],1)],1),e._v(" "),a("el-col",{attrs:{span:7,offset:1}},[a("el-form-item",{attrs:{label:"步骤顺序号",prop:"steporder","label-width":"40%",required:""}},[a("el-input",{attrs:{size:"small"},model:{value:t.addNodeForm.steporder,callback:function(a){e.$set(t.addNodeForm,"steporder",a)},expression:"\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\titem\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t.addNodeForm\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t.steporder\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t"}})],1)],1),e._v(" "),a("el-col",{attrs:{span:7,offset:1}},[a("el-form-item",{attrs:{label:"测试点",prop:"testpoint","label-width":"40%",required:""}},[a("el-input",{attrs:{size:"small"},model:{value:t.addNodeForm.testpoint,callback:function(a){e.$set(t.addNodeForm,"testpoint",a)},expression:"\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\titem\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t.addNodeForm\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t.testpoint\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t"}})],1)],1)],1),e._v(" "),a("el-row",[a("el-col",{attrs:{span:7}},[a("el-form-item",{attrs:{label:"执行方式",prop:"executeMethod","label-width":"40%"}},[a("el-select",{staticClass:"selectWidth",attrs:{size:"small"},model:{value:t.addNodeForm.executeMethod,callback:function(a){e.$set(t.addNodeForm,"executeMethod",a)},expression:"\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\titem\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t.addNodeForm\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t.executeMethod\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t"}},e._l(e.executeMethodList,(function(e){return a("el-option",{key:e.id,attrs:{label:e.label,value:e.value}})})),1)],1)],1),e._v(" "),a("el-col",{attrs:{span:7,offset:1}},[a("el-form-item",{attrs:{label:"脚本管理方式",prop:"scriptMode","label-width":"40%"}},[a("el-select",{staticClass:"selectWidth",attrs:{size:"small"},model:{value:t.addNodeForm.scriptMode,callback:function(a){e.$set(t.addNodeForm,"scriptMode",a)},expression:"\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\titem\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t.addNodeForm\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t.scriptMode\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t"}},e._l(e.scriptModeList,(function(e){return a("el-option",{key:e.id,attrs:{label:e.label,value:e.value}})})),1)],1)],1)],1),e._v(" "),a("el-row",[a("el-col",{attrs:{span:11}},[a("el-form-item",{attrs:{label:"测试意图",prop:"testdesign","label-width":"25%",required:""}},[a("el-input",{model:{value:t.addNodeForm.testdesign,callback:function(a){e.$set(t.addNodeForm,"testdesign",a)},expression:"\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\titem\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t.addNodeForm\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t.testdesign\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t"}})],1)],1),e._v(" "),a("el-col",{attrs:{span:11,offset:1}},[a("el-form-item",{attrs:{label:"前置条件",prop:"prerequisites","label-width":"25%",required:""}},[a("el-input",{model:{value:t.addNodeForm.prerequisites,callback:function(a){e.$set(t.addNodeForm,"prerequisites",a)},expression:"\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\titem\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t.addNodeForm\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t.prerequisites\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t"}})],1)],1)],1),e._v(" "),a("el-row",[a("el-col",{attrs:{span:11}},[a("el-form-item",{attrs:{label:"测试步骤",prop:"teststep","label-width":"25%",required:""}},[a("el-input",{model:{value:t.addNodeForm.teststep,callback:function(a){e.$set(t.addNodeForm,"teststep",a)},expression:"\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\titem\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t.addNodeForm\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t.teststep\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t"}})],1)],1),e._v(" "),a("el-col",{attrs:{span:11,offset:1}},[a("el-form-item",{attrs:{label:"数据需求",prop:"datarequest","label-width":"25%"}},[a("el-input",{model:{value:t.addNodeForm.datarequest,callback:function(a){e.$set(t.addNodeForm,"datarequest",a)},expression:"\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\titem\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t.addNodeForm\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t.datarequest\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t"}})],1)],1)],1),e._v(" "),a("el-row",[a("el-col",{attrs:{span:11}},[a("el-form-item",{attrs:{label:"预期结果",prop:"expectresult","label-width":"25%",required:""}},[a("el-input",{model:{value:t.addNodeForm.expectresult,callback:function(a){e.$set(t.addNodeForm,"expectresult",a)},expression:"\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\titem\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t.addNodeForm\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t.expectresult\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t"}})],1)],1),e._v(" "),a("el-col",{attrs:{span:11,offset:1}},[a("el-form-item",{attrs:{label:"附加检查点",prop:"checkpoint","label-width":"25%",required:""}},[a("el-input",{model:{value:t.addNodeForm.checkpoint,callback:function(a){e.$set(t.addNodeForm,"checkpoint",a)},expression:"\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\titem\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t.addNodeForm\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t.checkpoint\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t"}})],1)],1)],1),e._v(" "),a("el-row",[a("el-col",{attrs:{span:24}},[a("el-form-item",{attrs:{label:"备注",prop:"note","label-width":"11.5%"}},[a("el-col",{attrs:{span:23}},[a("el-input",{attrs:{type:"textarea",placeholder:"请输入内容"},model:{value:t.addNodeForm.note,callback:function(a){e.$set(t.addNodeForm,"note",a)},expression:"\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\titem\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t.addNodeForm\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t.note\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t"}})],1)],1)],1)],1)],1)],1):e._e()],1)})),e._v(" "),a("el-row",{staticStyle:{height:"50px"}}),e._v(" "),a("el-row",[a("el-col",{attrs:{span:6,offset:1}},[a("el-button",{attrs:{type:"primary",size:"mini",plain:""},on:{click:function(t){return e.showElement(1)}}},[e._v("添加流程节点")])],1)],1),e._v(" "),a("el-divider"),e._v(" "),a("el-row",[a("el-col",{attrs:{span:6,offset:18}},[a("el-button",{attrs:{type:"primary",size:"small"},on:{click:function(t){return e.insert(2)}}},[e._v("添加")]),e._v(" "),a("el-button",{attrs:{type:"primary",size:"small"},on:{click:function(t){e.dialogVisible=!e.dialogVisible}}},[e._v("取消")])],1)],1)],2):e._e()],1)],1)])],1)],1),e._v(" "),a("el-dialog",{attrs:{title:"添加一个流程节点",visible:e.dialogVisibleN,width:"65%"},on:{"update:visible":function(t){e.dialogVisibleN=t}}},[a("el-tabs",{attrs:{type:"card"},model:{value:e.activeName,callback:function(t){e.activeName=t},expression:"activeName"}},[e._l(e.caseNodeNums,(function(t){return a("div",{key:t.id},[a("el-form",{ref:"addNodeForm",refInFor:!0,attrs:{model:t.addNodeForm}},[a("el-row",[a("el-col",{attrs:{span:18,offset:2}},[a("el-form-item",{attrs:{label:"流程节点编号",prop:"actioncasecode","label-width":"35%",required:""}},[a("el-col",{attrs:{span:6}},[a("el-input",{attrs:{size:"small"},model:{value:t.addNodeForm.actioncasecode,callback:function(a){e.$set(t.addNodeForm,"actioncasecode",a)},expression:"\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\titem\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t.addNodeForm\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t.actioncasecode\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t"}})],1),e._v(" "),a("el-col",{attrs:{span:5,offset:1}},[t.show?a("el-button",{attrs:{type:"primary",size:"small",icon:"el-icon-arrow-down"},on:{click:function(e){t.show=!t.show}}},[e._v("\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t隐藏详情\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t")]):a("el-button",{attrs:{type:"primary",size:"small",icon:"el-icon-arrow-down"},on:{click:function(e){t.show=!t.show}}},[e._v("\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t显示详情\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t")])],1)],1)],1)],1),e._v(" "),a("el-divider",{attrs:{"content-position":"center"}},[e._v("后缀有*为必填项目")]),e._v(" "),a("div",{directives:[{name:"show",rawName:"v-show",value:t.show,expression:"item.show"}]},[a("el-row",[a("el-col",{attrs:{span:7}},[a("el-form-item",{attrs:{label:"被测系统",prop:"autName","label-width":"40%"}},[a("el-select",{staticClass:"selectWidth",attrs:{size:"small"},on:{change:function(t){return e.transChange(t)}},model:{value:t.addNodeForm.autId,callback:function(a){e.$set(t.addNodeForm,"autId",a)},expression:"\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\titem\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t.addNodeForm\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t.autId\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t"}},e._l(e.autList,(function(e){return a("el-option",{key:e.id,attrs:{label:e.nameMedium,value:e.id}})})),1)],1)],1),e._v(" "),a("el-col",{attrs:{span:7,offset:1}},[a("el-form-item",{attrs:{label:"功能点",prop:"transName","label-width":"40%"}},[a("el-select",{staticClass:"selectWidth",attrs:{size:"small"},on:{change:function(t){return e.templateChange(t)}},model:{value:t.addNodeForm.transId,callback:function(a){e.$set(t.addNodeForm,"transId",a)},expression:"\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\titem\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t.addNodeForm\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t.transId\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t"}},e._l(e.transList,(function(e){return a("el-option",{key:e.id,attrs:{label:e.nameMedium,value:e.id}})})),1)],1)],1),e._v(" "),a("el-col",{attrs:{span:7,offset:1}},[a("el-form-item",{attrs:{label:"基础脚本",prop:"scriptModeFlag","label-width":"40%"}},[a("el-select",{staticClass:"selectWidth",attrs:{size:"small"},model:{value:t.addNodeForm.scriptModeFlag,callback:function(a){e.$set(t.addNodeForm,"scriptModeFlag",a)},expression:"\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\titem\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t.addNodeForm\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t.scriptModeFlag\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t"}},e._l(e.templateList,(function(e){return a("el-option",{key:e.id,attrs:{label:e.name,value:e.id}})})),1)],1)],1)],1),e._v(" "),a("el-row",[a("el-col",{attrs:{span:7}},[a("el-form-item",{attrs:{label:"动作标识",prop:"actioncode","label-width":"40%",required:""}},[a("el-input",{attrs:{size:"small"},model:{value:t.addNodeForm.actioncode,callback:function(a){e.$set(t.addNodeForm,"actioncode",a)},expression:"\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\titem\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t.addNodeForm\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t.actioncode\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t"}})],1)],1),e._v(" "),a("el-col",{attrs:{span:7,offset:1}},[a("el-form-item",{attrs:{label:"步骤顺序号",prop:"steporder","label-width":"40%",required:""}},[a("el-input",{attrs:{size:"small"},model:{value:t.addNodeForm.steporder,callback:function(a){e.$set(t.addNodeForm,"steporder",a)},expression:"\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\titem\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t.addNodeForm\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t.steporder\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t"}})],1)],1),e._v(" "),a("el-col",{attrs:{span:7,offset:1}},[a("el-form-item",{attrs:{label:"测试点",prop:"testpoint","label-width":"40%",required:""}},[a("el-input",{attrs:{size:"small"},model:{value:t.addNodeForm.testpoint,callback:function(a){e.$set(t.addNodeForm,"testpoint",a)},expression:"\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\titem\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t.addNodeForm\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t.testpoint\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t"}})],1)],1)],1),e._v(" "),a("el-row",[a("el-col",{attrs:{span:7}},[a("el-form-item",{attrs:{label:"执行方式",prop:"executeMethod","label-width":"40%"}},[a("el-select",{staticClass:"selectWidth",attrs:{size:"small"},model:{value:t.addNodeForm.executeMethod,callback:function(a){e.$set(t.addNodeForm,"executeMethod",a)},expression:"\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\titem\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t.addNodeForm\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t.executeMethod\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t"}},e._l(e.executeMethodList,(function(e){return a("el-option",{key:e.id,attrs:{label:e.label,value:e.value}})})),1)],1)],1),e._v(" "),a("el-col",{attrs:{span:7,offset:1}},[a("el-form-item",{attrs:{label:"脚本管理方式",prop:"scriptMode","label-width":"40%"}},[a("el-select",{staticClass:"selectWidth",attrs:{size:"small"},model:{value:t.addNodeForm.scriptMode,callback:function(a){e.$set(t.addNodeForm,"scriptMode",a)},expression:"\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\titem\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t.addNodeForm\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t.scriptMode\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t"}},e._l(e.scriptModeList,(function(e){return a("el-option",{key:e.id,attrs:{label:e.label,value:e.value}})})),1)],1)],1)],1),e._v(" "),a("el-row",[a("el-col",{attrs:{span:11}},[a("el-form-item",{attrs:{label:"测试意图",prop:"testdesign","label-width":"25%",required:""}},[a("el-input",{model:{value:t.addNodeForm.testdesign,callback:function(a){e.$set(t.addNodeForm,"testdesign",a)},expression:"\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\titem\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t.addNodeForm\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t.testdesign\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t"}})],1)],1),e._v(" "),a("el-col",{attrs:{span:11,offset:1}},[a("el-form-item",{attrs:{label:"前置条件",prop:"prerequisites","label-width":"25%",required:""}},[a("el-input",{model:{value:t.addNodeForm.prerequisites,callback:function(a){e.$set(t.addNodeForm,"prerequisites",a)},expression:"\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\titem\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t.addNodeForm\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t.prerequisites\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t"}})],1)],1)],1),e._v(" "),a("el-row",[a("el-col",{attrs:{span:11}},[a("el-form-item",{attrs:{label:"测试步骤",prop:"teststep","label-width":"25%",required:""}},[a("el-input",{model:{value:t.addNodeForm.teststep,callback:function(a){e.$set(t.addNodeForm,"teststep",a)},expression:"\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\titem\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t.addNodeForm\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t.teststep\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t"}})],1)],1),e._v(" "),a("el-col",{attrs:{span:11,offset:1}},[a("el-form-item",{attrs:{label:"数据需求",prop:"datarequest","label-width":"25%"}},[a("el-input",{model:{value:t.addNodeForm.datarequest,callback:function(a){e.$set(t.addNodeForm,"datarequest",a)},expression:"\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\titem\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t.addNodeForm\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t.datarequest\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t"}})],1)],1)],1),e._v(" "),a("el-row",[a("el-col",{attrs:{span:11}},[a("el-form-item",{attrs:{label:"预期结果",prop:"expectresult","label-width":"25%",required:""}},[a("el-input",{model:{value:t.addNodeForm.expectresult,callback:function(a){e.$set(t.addNodeForm,"expectresult",a)},expression:"\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\titem\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t.addNodeForm\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t.expectresult\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t"}})],1)],1),e._v(" "),a("el-col",{attrs:{span:11,offset:1}},[a("el-form-item",{attrs:{label:"附加检查点",prop:"checkpoint","label-width":"25%",required:""}},[a("el-input",{model:{value:t.addNodeForm.checkpoint,callback:function(a){e.$set(t.addNodeForm,"checkpoint",a)},expression:"\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\titem\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t.addNodeForm\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t.checkpoint\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t"}})],1)],1)],1),e._v(" "),a("el-row",[a("el-col",{attrs:{span:24}},[a("el-form-item",{attrs:{label:"备注",prop:"note","label-width":"11.5%"}},[a("el-col",{attrs:{span:23}},[a("el-input",{attrs:{type:"textarea",placeholder:"请输入内容"},model:{value:t.addNodeForm.note,callback:function(a){e.$set(t.addNodeForm,"note",a)},expression:"\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\titem\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t.addNodeForm\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t.note\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t"}})],1)],1)],1)],1)],1)],1)],1)})),e._v(" "),a("el-row",{staticStyle:{height:"50px"}}),e._v(" "),a("el-row",[a("el-col",{attrs:{span:6,offset:18}},[a("el-button",{attrs:{type:"primary",size:"small"},on:{click:e.insertNode}},[e._v("添加")]),e._v(" "),a("el-button",{attrs:{type:"primary",size:"small"}},[e._v("取消")])],1)],1)],2)],1),e._v(" "),a("el-dialog",{attrs:{title:"更改多种用例信息",visible:e.dialogVisibleC,width:"65%"},on:{"update:visible":function(t){e.dialogVisibleC=t}}},[a("el-tabs",{attrs:{type:"card"},model:{value:e.activeName,callback:function(t){e.activeName=t},expression:"activeName"}},[a("el-form",{ref:"changeForm",attrs:{model:e.changeForm}},[a("el-row",[a("el-col",{attrs:{span:7}},[a("el-form-item",{attrs:{label:"测试任务",prop:"missionId","label-width":"40%"}},[a("el-select",{staticClass:"selectWidth",attrs:{size:"small"},model:{value:e.changeForm.missionId,callback:function(t){e.$set(e.changeForm,"missionId",t)},expression:"\n\t\t\t\t\t\t\t\t\t\t\t\t\tchangeForm.missionId\n\t\t\t\t\t\t\t\t\t\t\t\t"}},e._l(e.missionList,(function(e){return a("el-option",{key:e.id,attrs:{label:e.nameMedium,value:e.id}})})),1)],1)],1)],1),e._v(" "),a("el-row",[a("el-col",{attrs:{span:7}},[a("el-form-item",{attrs:{label:"被测系统",prop:"autName","label-width":"40%"}},[a("el-select",{staticClass:"selectWidth",attrs:{size:"small"},on:{change:function(t){return e.transChange(t)}},model:{value:e.changeForm.autId,callback:function(t){e.$set(e.changeForm,"autId",t)},expression:"\n\t\t\t\t\t\t\t\t\t\t\t\t\tchangeForm\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t.autId\n\t\t\t\t\t\t\t\t\t\t\t\t"}},e._l(e.autList,(function(e){return a("el-option",{key:e.id,attrs:{label:e.nameMedium,value:e.id}})})),1)],1)],1),e._v(" "),a("el-col",{attrs:{span:7,offset:1}},[a("el-form-item",{attrs:{label:"功能点",prop:"transName","label-width":"40%"}},[a("el-select",{staticClass:"selectWidth",attrs:{size:"small"},on:{change:function(t){return e.templateChange(t)}},model:{value:e.changeForm.transId,callback:function(t){e.$set(e.changeForm,"transId",t)},expression:"\n\t\t\t\t\t\t\t\t\t\t\t\t\tchangeForm\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t.transId\n\t\t\t\t\t\t\t\t\t\t\t\t"}},e._l(e.transList,(function(e){return a("el-option",{key:e.id,attrs:{label:e.nameMedium,value:e.id}})})),1)],1)],1),e._v(" "),a("el-col",{attrs:{span:7,offset:1}},[a("el-form-item",{attrs:{label:"基础脚本",prop:"scriptModeFlag","label-width":"40%"}},[a("el-select",{staticClass:"selectWidth",attrs:{size:"small"},model:{value:e.changeForm.scriptModeFlag,callback:function(t){e.$set(e.changeForm,"scriptModeFlag",t)},expression:"\n\t\t\t\t\t\t\t\t\t\t\t\t\tchangeForm\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t.scriptModeFlag\n\t\t\t\t\t\t\t\t\t\t\t\t"}},e._l(e.templateList,(function(e){return a("el-option",{key:e.id,attrs:{label:e.name,value:e.id}})})),1)],1)],1)],1),e._v(" "),a("el-row",[a("el-col",{attrs:{span:7}},[a("el-form-item",{attrs:{label:"用例性质",prop:"caseproperty","label-width":"40%"}},[a("el-select",{staticClass:"selectWidth",attrs:{size:"small"},model:{value:e.changeForm.caseProperty,callback:function(t){e.$set(e.changeForm,"caseProperty",t)},expression:"\n\t\t\t\t\t\t\t\t\t\t\t\t\tchangeForm.caseProperty\n\t\t\t\t\t\t\t\t\t\t\t\t"}},e._l(e.casePropertyList,(function(e){return a("el-option",{key:e.id,attrs:{label:e.label,value:e.value}})})),1)],1)],1),e._v(" "),a("el-col",{attrs:{span:7,offset:1}},[a("el-form-item",{attrs:{label:"测试用例类型",prop:"casetype","label-width":"40%"}},[a("el-select",{staticClass:"selectWidth",attrs:{size:"small"},model:{value:e.changeForm.caseType,callback:function(t){e.$set(e.changeForm,"caseType",t)},expression:"\n\t\t\t\t\t\t\t\t\t\t\t\t\tchangeForm.caseType\n\t\t\t\t\t\t\t\t\t\t\t\t"}},e._l(e.caseTypeList,(function(e){return a("el-option",{key:e.id,attrs:{label:e.label,value:e.value}})})),1)],1)],1),e._v(" "),a("el-col",{attrs:{span:7,offset:1}},[a("el-form-item",{attrs:{label:"优先级",prop:"priority","label-width":"40%"}},[a("el-select",{staticClass:"selectWidth",attrs:{size:"small"},model:{value:e.changeForm.priority,callback:function(t){e.$set(e.changeForm,"priority",t)},expression:"\n\t\t\t\t\t\t\t\t\t\t\t\t\tchangeForm.priority\n\t\t\t\t\t\t\t\t\t\t\t\t"}},e._l(e.priorityList,(function(e){return a("el-option",{key:e.id,attrs:{label:e.label,value:e.value}})})),1)],1)],1)],1),e._v(" "),a("el-row",[a("el-col",{attrs:{span:11}},[a("el-form-item",{attrs:{label:"评审者",prop:"executor","label-width":"25%"}},[a("el-select",{staticClass:"selectWidth",attrs:{size:"small"},model:{value:e.changeForm.executor,callback:function(t){e.$set(e.changeForm,"executor",t)},expression:"\n\t\t\t\t\t\t\t\t\t\t\t\t\tchangeForm.executor\n\t\t\t\t\t\t\t\t\t\t\t\t"}},e._l(e.userList,(function(e){return a("el-option",{key:e.id,attrs:{label:e.username,value:e.id}})})),1)],1)],1),e._v(" "),a("el-col",{attrs:{span:11,offset:1}},[a("el-form-item",{attrs:{label:"执行者",prop:"reviewer","label-width":"40%"}},[a("el-select",{staticClass:"selectWidth",attrs:{size:"small"},model:{value:e.changeForm.reviewer,callback:function(t){e.$set(e.changeForm,"reviewer",t)},expression:"\n\t\t\t\t\t\t\t\t\t\t\t\t\tchangeForm.reviewer\n\t\t\t\t\t\t\t\t\t\t\t\t"}},e._l(e.userList,(function(e){return a("el-option",{key:e.id,attrs:{label:e.username,value:e.id}})})),1)],1)],1)],1),e._v(" "),a("el-row",[a("el-col",{attrs:{span:11}},[a("el-form-item",{attrs:{label:"执行方式",prop:"executeMethod","label-width":"25%"}},[a("el-select",{staticClass:"selectWidth",attrs:{size:"small"},model:{value:e.changeForm.executeMethod,callback:function(t){e.$set(e.changeForm,"executeMethod",t)},expression:"\n\t\t\t\t\t\t\t\t\t\t\t\t\tchangeForm.executeMethod\n\t\t\t\t\t\t\t\t\t\t\t\t"}},e._l(e.executeMethodList,(function(e){return a("el-option",{key:e.id,attrs:{label:e.label,value:e.value}})})),1)],1)],1),e._v(" "),a("el-col",{attrs:{span:11,offset:1}},[a("el-form-item",{attrs:{label:"脚本管理方式",prop:"scriptMode","label-width":"40%"}},[a("el-select",{staticClass:"selectWidth",attrs:{size:"small"},model:{value:e.changeForm.scriptMode,callback:function(t){e.$set(e.changeForm,"scriptMode",t)},expression:"\n\t\t\t\t\t\t\t\t\t\t\t\t\tchangeForm.scriptMode\n\t\t\t\t\t\t\t\t\t\t\t\t"}},e._l(e.scriptModeList,(function(e){return a("el-option",{key:e.id,attrs:{label:e.label,value:e.value}})})),1)],1)],1)],1)],1),e._v(" "),a("el-row",{staticStyle:{height:"50px"}}),e._v(" "),a("el-row",[a("el-col",{attrs:{span:9,offset:15}},[a("el-button",{attrs:{type:"primary",size:"small"},on:{click:e.changeIm}},[e._v("更改")]),e._v(" "),a("el-button",{attrs:{type:"primary",size:"small"},on:{click:e.toOrigin}},[e._v("重置")]),e._v(" "),a("el-button",{attrs:{type:"primary",size:"small"},on:{click:e.noChangeIm}},[e._v("取消")])],1)],1)],1)],1),e._v(" "),a("el-dialog",{attrs:{title:"导入",visible:e.dialogVisibleI,width:"30%"},on:{"update:visible":function(t){e.dialogVisibleI=t}}},[a("el-upload",{staticClass:"upload-demo in-file",attrs:{action:"","on-success":e.changeFile,"on-remove":e.handleRemove,"file-list":e.fileList}},[a("el-button",{attrs:{size:"small",type:"primary"}},[e._v("选择文件")]),e._v(" "),a("i",{staticClass:"el-upload__tip text",attrs:{slot:"tip"},slot:"tip"},[e._v("只能选择xlsx文件")])],1),e._v(" "),a("el-divider"),e._v(" "),a("div",[e._v("\n\t\t\t\t\t\t上传方式：\n\t\t\t\t\t\t"),a("el-radio",{attrs:{label:"1"},model:{value:e.radio,callback:function(t){e.radio=t},expression:"radio"}},[e._v("简单版")]),e._v(" "),a("el-button",{attrs:{size:"small",type:"success"},on:{click:function(t){return e.downloadTemplate(0)}}},[e._v("模板下载")])],1),e._v(" "),a("div",[a("el-radio",{staticClass:"radio",attrs:{label:"2"},model:{value:e.radio,callback:function(t){e.radio=t},expression:"radio"}},[e._v("标准版")]),e._v(" "),a("el-button",{attrs:{size:"small",type:"success"},on:{click:function(t){return e.downloadTemplate(1)}}},[e._v("模板下载")])],1),e._v(" "),a("el-divider"),e._v(" "),a("div",{staticClass:"in-file"},[a("el-button",{attrs:{size:"small",type:"primary"},on:{click:e.uploadTemp}},[e._v("导入")]),e._v(" "),a("el-button",{attrs:{size:"small",type:"primary"},on:{click:function(t){e.dialogVisibleI=!e.dialogVisibleI}}},[e._v("取消")])],1)],1),e._v(" "),a("el-dialog",{attrs:{title:"导出",visible:e.dialogVisibleO,width:"30%"},on:{"update:visible":function(t){e.dialogVisibleO=t}}},[a("el-form",{ref:"outputForm",attrs:{prop:"outputForm","label-width":"80px",method:"POST",action:e.exportUrl}},[a("div",{attrs:{hidden:""}},e._l(e.selectList,(function(e,t){return a("el-input",{key:t,attrs:{type:"text",name:"testCaseIdList",value:e}})})),1),e._v(" "),a("el-form-item",{attrs:{label:"导出范围",prop:"output"}},[a("el-input",{attrs:{disabled:!0,placeholder:"部分"}})],1),e._v(" "),a("div",{staticClass:"in-file"},[a("el-button",{attrs:{size:"small",type:"primary","native-type":"submit"}},[e._v("导出")]),e._v(" "),a("el-button",{attrs:{size:"small",type:"primary"},on:{click:function(t){e.dialogVisibleO=!e.dialogVisibleO}}},[e._v("取消")])],1)],1)],1),e._v(" "),a("el-dialog",{attrs:{title:e.title,visible:e.dialogVisibleQ,width:"50%"},on:{"update:visible":function(t){e.dialogVisibleQ=t}}},[a("el-form",{ref:"addForm",attrs:{disabled:!e.changeFlag,model:e.addForm}},[a("el-row",[a("el-col",{attrs:{span:11}},[a("el-form-item",{attrs:{label:"用例编号",prop:"casecode","label-width":"40%",required:""}},[a("el-input",{attrs:{size:"small"},model:{value:e.addForm.casecode,callback:function(t){e.$set(e.addForm,"casecode",t)},expression:"\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\taddForm.casecode\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t"}})],1)],1),e._v(" "),a("el-col",{attrs:{span:11,offset:1}},[a("el-form-item",{attrs:{label:"测试任务",prop:"submissionId","label-width":"40%"}},[a("el-select",{staticClass:"selectWidth",attrs:{size:"small"},model:{value:e.addForm.submissionId,callback:function(t){e.$set(e.addForm,"submissionId",t)},expression:"\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\taddForm.submissionId\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t"}},e._l(e.missionList,(function(e){return a("el-option",{key:e.id,attrs:{label:e.nameMedium,value:e.id}})})),1)],1)],1)],1),e._v(" "),a("el-row",[a("el-col",{attrs:{span:11}},[a("el-form-item",{attrs:{label:"测试点",prop:"testpoint","label-width":"40%",required:""}},[a("el-input",{attrs:{size:"small"},model:{value:e.addForm.testpoint,callback:function(t){e.$set(e.addForm,"testpoint",t)},expression:"\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\taddForm.testpoint\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t"}})],1)],1),e._v(" "),a("el-col",{attrs:{span:11,offset:1}},[a("el-form-item",{attrs:{label:"版本号",prop:"version","label-width":"40%"}},[a("el-input",{attrs:{size:"small"},model:{value:e.addForm.version,callback:function(t){e.$set(e.addForm,"version",t)},expression:"\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\taddForm.version\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t"}})],1)],1)],1),e._v(" "),a("el-row",[a("el-col",{attrs:{span:11}},[a("el-form-item",{attrs:{label:"被测系统",prop:"autName","label-width":"40%"}},[a("el-select",{staticClass:"selectWidth",attrs:{size:"small"},on:{change:function(t){return e.transChange(t)}},model:{value:e.addForm.autId,callback:function(t){e.$set(e.addForm,"autId",t)},expression:"addForm.autId"}},e._l(e.autList,(function(e){return a("el-option",{key:e.id,attrs:{label:e.nameMedium,value:e.id}})})),1)],1)],1),e._v(" "),a("el-col",{attrs:{span:11,offset:1}},[a("el-form-item",{attrs:{label:"功能点",prop:"transName","label-width":"40%"}},[a("el-select",{staticClass:"selectWidth",attrs:{size:"small"},on:{change:function(t){return e.templateChange(t)}},model:{value:e.addForm.transId,callback:function(t){e.$set(e.addForm,"transId",t)},expression:"\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\taddForm.transId\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t"}},e._l(e.transList,(function(e){return a("el-option",{key:e.id,attrs:{label:e.nameMedium,value:e.id}})})),1)],1)],1)],1),e._v(" "),a("el-row",[a("el-col",{attrs:{span:11}},[a("el-form-item",{attrs:{label:"基础脚本",prop:"scriptModeFlag","label-width":"40%"}},[a("el-select",{staticClass:"selectWidth",attrs:{size:"small"},model:{value:e.addForm.scriptModeFlag,callback:function(t){e.$set(e.addForm,"scriptModeFlag",t)},expression:"\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\taddForm.scriptModeFlag\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t"}},e._l(e.templateList,(function(e){return a("el-option",{key:e.id,attrs:{label:e.name,value:e.id}})})),1)],1)],1),e._v(" "),a("el-col",{attrs:{span:11,offset:1}},[a("el-form-item",{attrs:{label:"用例性质",prop:"caseproperty","label-width":"40%"}},[a("el-select",{staticClass:"selectWidth",attrs:{size:"small"},model:{value:e.addForm.caseproperty,callback:function(t){e.$set(e.addForm,"caseproperty",t)},expression:"\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\taddForm.caseproperty\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t"}},e._l(e.casePropertyList,(function(e){return a("el-option",{key:e.id,attrs:{label:e.label,value:e.value}})})),1)],1)],1)],1),e._v(" "),a("el-row",[a("el-col",{attrs:{span:11}},[a("el-form-item",{attrs:{label:"测试用例类型",prop:"casetype","label-width":"40%"}},[a("el-select",{staticClass:"selectWidth",attrs:{size:"small"},model:{value:e.addForm.casetype,callback:function(t){e.$set(e.addForm,"casetype",t)},expression:"\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\taddForm.casetype\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t"}},e._l(e.caseTypeList,(function(e){return a("el-option",{key:e.id,attrs:{label:e.label,value:e.value}})})),1)],1)],1),e._v(" "),a("el-col",{attrs:{span:11,offset:1}},[a("el-form-item",{attrs:{label:"优先级",prop:"priority","label-width":"40%"}},[a("el-select",{staticClass:"selectWidth",attrs:{size:"small"},model:{value:e.addForm.priority,callback:function(t){e.$set(e.addForm,"priority",t)},expression:"\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\taddForm.priority\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t"}},e._l(e.priorityList,(function(e){return a("el-option",{key:e.id,attrs:{label:e.label,value:e.value}})})),1)],1)],1)],1),e._v(" "),a("el-row",[a("el-col",{attrs:{span:11}},[a("el-form-item",{attrs:{label:"作者",prop:"author","label-width":"40%"}},[a("el-select",{staticClass:"selectWidth",attrs:{size:"small"},model:{value:e.addForm.author,callback:function(t){e.$set(e.addForm,"author",t)},expression:"addForm.author"}},e._l(e.userList,(function(e){return a("el-option",{key:e.id,attrs:{label:e.username,value:e.id}})})),1)],1)],1),e._v(" "),a("el-col",{attrs:{span:11,offset:1}},[a("el-form-item",{attrs:{label:"评审者",prop:"executor","label-width":"40%"}},[a("el-select",{staticClass:"selectWidth",attrs:{size:"small"},model:{value:e.addForm.executor,callback:function(t){e.$set(e.addForm,"executor",t)},expression:"\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\taddForm.executor\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t"}},e._l(e.userList,(function(e){return a("el-option",{key:e.id,attrs:{label:e.username,value:e.id}})})),1)],1)],1)],1),e._v(" "),a("el-row",[a("el-col",{attrs:{span:11}},[a("el-form-item",{attrs:{label:"执行者",prop:"reviewer","label-width":"40%"}},[a("el-select",{staticClass:"selectWidth",attrs:{size:"small"},model:{value:e.addForm.reviewer,callback:function(t){e.$set(e.addForm,"reviewer",t)},expression:"\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\taddForm.reviewer\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t"}},e._l(e.userList,(function(e){return a("el-option",{key:e.id,attrs:{label:e.username,value:e.id}})})),1)],1)],1),e._v(" "),a("el-col",{attrs:{span:11,offset:1}},[a("el-form-item",{attrs:{label:"执行方式",prop:"executeMethod","label-width":"40%"}},[a("el-select",{staticClass:"selectWidth",attrs:{size:"small"},model:{value:e.addForm.executeMethod,callback:function(t){e.$set(e.addForm,"executeMethod",t)},expression:"\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\taddForm.executeMethod\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t"}},e._l(e.executeMethodList,(function(e){return a("el-option",{key:e.id,attrs:{label:e.label,value:e.value}})})),1)],1)],1)],1),e._v(" "),a("el-row",[a("el-col",{attrs:{span:11}},[a("el-form-item",{attrs:{label:"用例使用状态",prop:"useStatus","label-width":"40%"}},[a("el-select",{staticClass:"selectWidth",attrs:{size:"small"},model:{value:e.addForm.useStatus,callback:function(t){e.$set(e.addForm,"useStatus",t)},expression:"\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\taddForm.useStatus\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t"}},e._l(e.useStatusList,(function(e){return a("el-option",{key:e.id,attrs:{label:e.label,value:e.value}})})),1)],1)],1),e._v(" "),a("el-col",{attrs:{span:11,offset:1}},[a("el-form-item",{attrs:{label:"脚本管理方式",prop:"scriptMode","label-width":"40%"}},[a("el-select",{staticClass:"selectWidth",attrs:{size:"small"},model:{value:e.addForm.scriptMode,callback:function(t){e.$set(e.addForm,"scriptMode",t)},expression:"\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\taddForm.scriptMode\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t"}},e._l(e.scriptModeList,(function(e){return a("el-option",{key:e.id,attrs:{label:e.label,value:e.value}})})),1)],1)],1)],1),e._v(" "),a("el-row",[a("el-col",{attrs:{span:22}},[a("el-form-item",{attrs:{label:"测试意图",prop:"testdesign","label-width":"20%",required:""}},[a("el-input",{attrs:{type:"textarea"},model:{value:e.addForm.testdesign,callback:function(t){e.$set(e.addForm,"testdesign",t)},expression:"\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\taddForm.testdesign\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t"}})],1)],1)],1),e._v(" "),a("el-row",[a("el-col",{attrs:{span:22}},[a("el-form-item",{attrs:{label:"前置条件",prop:"prerequisites","label-width":"20%",required:""}},[a("el-input",{attrs:{type:"textarea"},model:{value:e.addForm.prerequisites,callback:function(t){e.$set(e.addForm,"prerequisites",t)},expression:"\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\taddForm.prerequisites\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t"}})],1)],1)],1),e._v(" "),a("el-row",[a("el-col",{attrs:{span:22}},[a("el-form-item",{attrs:{label:"测试步骤",prop:"teststep","label-width":"20%",required:""}},[a("el-input",{attrs:{type:"textarea"},model:{value:e.addForm.teststep,callback:function(t){e.$set(e.addForm,"teststep",t)},expression:"\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\taddForm.teststep\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t"}})],1)],1)],1),e._v(" "),a("el-row",[a("el-col",{attrs:{span:22}},[a("el-form-item",{attrs:{label:"预期结果",prop:"expectresult","label-width":"20%",required:""}},[a("el-input",{attrs:{type:"textarea"},model:{value:e.addForm.expectresult,callback:function(t){e.$set(e.addForm,"expectresult",t)},expression:"\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\taddForm.expectresult\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t"}})],1)],1)],1),e._v(" "),a("el-row",[a("el-col",{attrs:{span:22}},[a("el-form-item",{attrs:{label:"附加检查点",prop:"checkpoint","label-width":"20%",required:""}},[a("el-input",{attrs:{type:"textarea"},model:{value:e.addForm.checkpoint,callback:function(t){e.$set(e.addForm,"checkpoint",t)},expression:"\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\taddForm.checkpoint\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t"}})],1)],1)],1),e._v(" "),a("el-row",[a("el-col",{attrs:{span:22}},[a("el-form-item",{attrs:{label:"备注",prop:"note","label-width":"20%"}},[a("el-input",{attrs:{type:"textarea",placeholder:"请输入内容"},model:{value:e.addForm.note,callback:function(t){e.$set(e.addForm,"note",t)},expression:"\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\taddForm.note\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t"}})],1)],1)],1),e._v(" "),a("el-row",[a("el-col",{attrs:{span:6,offset:18}},[a("el-button",{directives:[{name:"show",rawName:"v-show",value:e.changeFlag,expression:"changeFlag"}],attrs:{type:"primary",size:"small"},on:{click:e.changeCaseInfo}},[e._v("修改")]),e._v(" "),a("el-button",{attrs:{type:"primary",size:"small"},on:{click:function(t){e.dialogVisibleQ=!e.dialogVisibleQ}}},[e._v("退出")])],1)],1)],1)],1)],1),e._v(" "),a("el-footer")],1)],1)}),[],!1,Ut,null,null).exports;function Ht(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);t&&(s=s.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,s)}return a}function Wt(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?Ht(a,!0).forEach((function(t){re()(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):Ht(a).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}var Jt={mixins:[L.a],data:function(){return{testProjectList:[],tt:0,pageSize:5,currentPage:1,totalPage:1,listnum:5,codeLongAndName:"codeLongAndName",addForm:{codeLong:"",nameMedium:"",descMedium:""},rules:{nameMedium:[{required:!0,message:"请输入项目名称",trigger:"blur"},{min:1,max:10,message:"长度在 1 到 10 个字符",trigger:"blur"}]},dialogVisible:!1,selectedId:-1,searchInput:"",totalCount:0,modelFlag:0}},computed:{params:function(){var e={currentPage:this.currentPage,pageSize:this.pageSize,codeLongAndName:"",orderColumns:"modified_time",orderType:"DESC"};return""!==this.searchInput&&(e[this.codeLongAndName]=this.searchInput),e},modelName:function(){return{1:"添加测试项目",2:"修改测试项目信息"}[this.modelFlag]},buttonName:function(){return{1:"添加",2:"确认"}[this.modelFlag]}},created:function(){this.getTestProject()},mounted:function(){},methods:{handleClose:function(e){return 1==this.modelFlag?(e(),!0):(this.$refs.addForm.resetFields(),e(),!0)},submitForm:function(e){var t=this;this.$refs[e].validate((function(e){if(!e)return t.$message("信息格式有误，请检查"),!1;console.log(t.modelFlag),2===t.modelFlag?t.updateProject():t.addProject()}))},resetForm:function(){this.$refs.addForm.resetFields()},addProjectButton:function(){this.modelFlag=1,this.dialogVisible=!0},updateProjectButton:function(e,t){this.modelFlag=2,this.selectedId=t.id;var a=t.codeLong,s=t.nameMedium,l=t.descMedium;this.addForm={codeLong:a,nameMedium:s,descMedium:l},this.dialogVisible=!0},addProject:function(){var e=this;this.addForm.codeLong=""==this.addForm.codeLong?"测试项目"+(new Date).valueOf():this.addForm.codeLong,this.addForm.descMedium=""==this.addForm.descMedium?"空":this.addForm.descMedium,d({url:"/testProjectController/addSingleTestProject",method:"post",params:this.addForm}).then((function(t){e.dialogVisible=!1,e.getTestProject()}),(function(t){e.dialogVisible=!1,console.log(t)})).catch((function(e){console.log(e)}))},updateProject:function(){var e=this;d({url:"/testProjectController/modifySingleTestProject",method:"post",params:Wt({id:this.selectedId},this.addForm)}).then((function(t){e.dialogVisible=!1,e.getTestProject()}),(function(t){e.$message(res.respMsg),e.dialogVisible=!1,console.log(t)})).catch((function(e){console.log(e)}))},toCase:function(e,t,a){sessionStorage.setItem("caselibId",t),sessionStorage.setItem("projectNameStorage","("+a+")"),sessionStorage.setItem("selectId",e),console.log("toCase",e,t),this.$router.push({path:"testCase"})},handleSizeChange:function(e){this.pageSize=e,this.getTestProject()},handleCurrentChange:function(e){this.currentPage=e,this.getTestProject()},getTestProject:function(e){var t=this;1===e&&(this.currentPage=1),d({url:"/testProjectController/pagedBatchQueryTestProject",method:"post",params:this.params}).then((function(e){t.testProjectList=e.list,t.totalCount=e.totalCount,console.log(t.testProjectList)}),(function(e){console.log(e)})).catch((function(e){console.log(e)}))}}},Kt=Object(m.a)(Jt,(function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"page-inner"},[a("el-container",[a("el-main",[a("el-row",[a("el-col",{attrs:{span:5}},[a("el-input",{attrs:{placeholder:"请输入项目编号或名称"},model:{value:e.searchInput,callback:function(t){e.searchInput=t},expression:"searchInput"}})],1),e._v(" "),a("el-col",{attrs:{span:8,offset:1}},[a("el-button",{attrs:{icon:"el-icon-setting",size:"small",type:"primary"},on:{click:function(t){return e.getTestProject(1)}}},[e._v("\n\t\t\t\t\t\t\t搜索\n\t\t\t\t\t\t")]),e._v(" "),a("el-button",{attrs:{type:"primary",size:"small",icon:"el-icon-plus"},on:{click:e.addProjectButton}},[e._v("\n\t\t\t\t\t\t\t添加\n\t\t\t\t\t\t")])],1)],1),e._v(" "),a("el-row",{staticStyle:{height:"15px"}}),e._v(" "),a("el-table",{staticClass:"table",attrs:{stripe:"",data:e.testProjectList,border:""}},[a("el-table-column",{attrs:{label:"测试项目编号",property:"codeLong"}}),e._v(" "),a("el-table-column",{attrs:{label:"测试项目名称",property:"nameMedium"}}),e._v("np\n\t\t\t\t\t\t"),a("el-table-column",{attrs:{label:"测试项目描述",property:"descMedium"}}),e._v(" "),a("el-table-column",{attrs:{label:"创建时间",property:"createTime",formatter:e.transTime}}),e._v(" "),a("el-table-column",{attrs:{label:"修改时间",property:"modifiedTime",formatter:e.transTime}}),e._v(" "),a("el-table-column",{attrs:{label:"操作",width:"200"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("el-button",{attrs:{size:"mini"},on:{click:function(a){return e.toCase(t.row.id,t.row.caseLibId,t.row.nameMedium)}}},[e._v("进入")]),e._v(" "),a("el-button",{attrs:{size:"mini",type:"info"},on:{click:function(a){return e.updateProjectButton(t.$index,t.row)}}},[e._v("修改")])]}}])})],1),e._v(" "),a("div",{staticClass:"block"},[a("el-col",{attrs:{span:10,offset:4}},[a("el-pagination",{attrs:{"current-page":e.currentPage,"page-sizes":[5,10,20,50],"page-size":e.pageSize,layout:"total, sizes, prev, pager, next, jumper",total:e.totalCount},on:{"size-change":e.handleSizeChange,"current-change":e.handleCurrentChange}})],1)],1),e._v(" "),a("el-dialog",{attrs:{title:e.modelName,visible:e.dialogVisible,"before-close":e.handleClose,width:"30%"},on:{"update:visible":function(t){e.dialogVisible=t}}},[a("el-form",{ref:"addForm",attrs:{model:e.addForm,rules:e.rules,"label-width":"30%"}},[a("el-form-item",{attrs:{label:"测试项目编号",prop:"codeLong"}},[a("el-input",{attrs:{placeholder:"选填"},model:{value:e.addForm.codeLong,callback:function(t){e.$set(e.addForm,"codeLong",t)},expression:"addForm.codeLong"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"测试项目名称",prop:"nameMedium",required:""}},[a("el-input",{model:{value:e.addForm.nameMedium,callback:function(t){e.$set(e.addForm,"nameMedium",t)},expression:"addForm.nameMedium"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"描述",prop:"projectDesc"}},[a("el-input",{attrs:{placeholder:"选填"},model:{value:e.addForm.descMedium,callback:function(t){e.$set(e.addForm,"descMedium",t)},expression:"addForm.descMedium"}})],1),e._v(" "),a("el-form-item",[a("el-button",{attrs:{type:"primary"},on:{click:function(t){return e.submitForm("addForm")}}},[e._v(e._s(e.buttonName))]),e._v(" "),a("el-button",{on:{click:function(t){return e.resetForm()}}},[e._v("重置")])],1)],1)],1)],1),e._v(" "),a("el-footer")],1)],1)}),[],!1,null,null,null).exports,Yt={mixins:[L.a],components:{uiEleFunTree:Ye,searchtestcase:Vt},computed:{searchInfo:function(){return this.searchFlag?"收起筛选":"显示筛选"},actionUrl:function(){return this.publishActionUrl+"?caseLibId="+this.caseLibId+"&uploadUserId=3"}},data:function(){var e=sessionStorage.getItem("caselibId");return{publishActionUrl:"http://140.143.16.21:8080/atfcloud2.0a/dataCenter/importDataFromFile",columnHidden:[],selectedTemplate:-1,editedData:{},rowIndex:-1,columnIndex:-1,dbeditFlag:!1,executorId:3,caseLibId:e,menuVisible:!1,templateInfoFlag:!1,editDataFlag:!1,selectOptions:[{label:"测试点",value:"0"},{label:"测试意图",value:"1"},{label:"测试步骤",value:"2"},{label:"预期结果",value:"3"},{label:"检查点",value:"4"}],searchFlag:!1,filterTree:[],defaultProps:{children:"children",label:"label"},tableData:[],tableHead:[],templateInfoData:[],conditionList:[{propertyName:"executor",compareType:"=",propertyValueList:["3"]},{propertyName:"executeMethod",compareType:"=",propertyValueList:["2"]},{propertyName:"scriptMode",compareType:"=",propertyValueList:["1"]},{propertyName:"caseLibId",compareType:"=",propertyValueList:[e]}],rowdata:{},rowColumn:"",beforeOperationRows:[],afterOperationRows:[],dataType:"1",addItemShow:!1,input4:"",input1:"",saidBarShow:!0,searchTemplateDailog:!1,exportDialog:!1}},mounted:function(){var e=this;if(!sessionStorage.getItem("caselibId"))return console.log("123"),this.$message({type:"warning",message:"请选择测试项目！"}),void setTimeout((function(t){e.$router.push({name:"testProject"})}),0);this.getFilterTree()},methods:{submitUpload:function(){this.$refs.upload.submit()},tempError:function(e,t,a){this.$message.error(e.respMsg)},tempSuccess:function(e,t,a){"0000"===e.respCode?(this.exportDialog=!1,this.$message.success("上传成功")):this.$message.error(e.respMsg)},addTreeInfo:function(e){var t,a,s,l,n,o;return Ue.a.async((function(i){for(;;)switch(i.prev=i.next){case 0:console.log("treeInfo",e),t=0;case 2:if(!(t<e.length)){i.next=17;break}return i.next=5,Ue.a.awrap(this.getMethods(e[t].elementWidget));case 5:for(a=i.sent,console.log("this.methods[treeInfo[i].elementWidget]",this.methods[e[t].elementWidget]),console.log("this.methods[treeInfo[i].elementWidget]",a),s=this.methods[e[t].elementWidget][0].arguments,l=JSON.parse(s),n=[],o=0;o<l.length;o++)n.push({index:0,name:l[o].name,newvalue:"",value:""});console.log("list[i].arguments",e[t].arguments),this.templateInfo.push({sortid:this.sortidNum++,name:"UI:"+e[t].uiname+" 元素:"+e[t].elementName,uiname:e[t].uiname,elementName:e[t].elementName,elementWidget:e[t].elementWidget,methodName:this.methods[e[t].elementWidget][0].name,arguments:n,arguShow:!0});case 14:t++,i.next=2;break;case 17:case"end":return i.stop()}}),null,this)},addItemShowFunction:function(e){this.addItemShow=!0},eleUp:function(e){for(var t=this,a=!1,s=function(e){if(t.multipleSelection.some((function(a){return a.sortid===t.templateInfo[e].sortid}))){if(a){var s=t.templateInfo.splice(e,1)[0];t.templateInfo.splice(e-1,0,s)}}else a=!0},l=0;l<this.templateInfo.length;l++)s(l)},eleDown:function(e){for(var t=this,a=!1,s=function(e){if(t.multipleSelection.some((function(a){return a.sortid===t.templateInfo[e].sortid}))){if(a){var s=t.templateInfo.splice(e,1)[0];t.templateInfo.splice(e+1,0,s)}}else a=!0},l=this.templateInfo.length-1;l>-1;l--)s(l)},handleSelectionChange:function(e){this.multipleSelection=e,console.log("multipleSelection",this.multipleSelection)},editData:function(){this.editDataFlag=!0,console.log(this.rowdata["data_"+this.rowColumn]);var e,t=this.rowdata["data_"+this.rowColumn];if(this.beforeOperationRows=[],this.afterOperationRows=[],t.includes("@before")){var a=t.slice(t.indexOf("@before\n")+7,t.indexOf("@value"));console.log("beforeSte:"+a);var s=a.split(";\n");console.log("beforeArr:"+s),this.parseScript(s,this.beforeOperationRows,1)}if(t.includes("@after")){var l=t.slice(t.indexOf("@after\n")+6).split(";\n");this.parseScript(l,this.afterOperationRows,2)}if(t.includes("@value")){var n=t.includes("@after")?t.indexOf("@after"):t.length;e=t.slice(t.indexOf("@value")+6,n).replace(/^\s$/g,"")}else e=t;if(""==e.replace(/^\s$/g,""))this.dataType=3;else if("nil"==e.replace(/^\s$/g,""))this.dataType=2;else if(e.includes("{expr=")){this.dataType=4;var o=e.split("{expr=")[1];o.slice(0,o.indexOf("}"));this.input4=e}else this.dataType=1,this.input1=e},parseScript:function(e,t,a){var s=1===a?e.length-1:e.length;if(e.length)for(var l=0;l<s;l++){var n=e[l].trim();if(!n.length)return;if(n.includes("UI(")){var o=n.split(")."),i={},r=o[1].split("(");i.ui=o[0].slice(o[0].indexOf("UI(")+4,-1),i.classType=r[0],i.element=r[1].slice(1,-1),(p=[]).push({name:o[2].slice(0,o[2].indexOf("(")),parameterlist:""});for(var c=o[2].slice(o[2].indexOf("(")+1,-1).split(","),d=[],u=0;u<c.length;u++){(f={}).Name="para"+(u+1),f.Value=c[u].slice(1,-1),d.push(f)}}else{i={ui:"",classType:"",element:""};for(var m=n.indexOf("("),p=[{name:n.slice(0,m),parameterlist:""}],h=(d=[],c=n.slice(m+1,-1).split(","),0);h<c.length;h++){var f;(f={}).Name="para"+(h+1),f.Value=c[h].slice(1,-1),d.push(f)}}t.push({id:Symbol(),operation:i,functions:p,parameters:d})}},handlechange:function(e,t){console.log(t);var a=t.label.split("-")[0],s=t.label.split("-")[1];this.editedData[e.id]?this.editedData[e.id].dataList.push({widgetName:a,colName:s,data:e["data_"+s]}):this.editedData[e.id]={testcaseId:e.id,caseCompositeType:e.caseCompositeType,dataList:[{widgetName:a,colName:s,data:e["data_"+s]}]}},loseblur:function(){this.dbeditFlag=!1},cellClassName:function(e){var t=e.row,a=e.column,s=e.rowIndex,l=e.columnIndex;if(t.index=s,a.index=l,s===this.rowIndex&&l===this.columnIndex)return"choosed"},tdedit:function(e,t,a,s){console.log("dbclick"),this.dbeditFlag=!0;var l=this;console.log(e.index+"_"+t.index);var n="_"+e.index+"_"+t.index;setTimeout((function(){l.$refs[n][0].focus()}),1)},tdchoose:function(e,t,a,s){console.log(e),console.log(t),console.log(a),console.log(s),this.rowIndex=e.index,this.columnIndex=t.index},save:function(){var e=this;console.log("object.values(editedData)",Object.values(this.editedData)),this.editedData.length,d({url:"/dataCenter/saveTableData",method:"post",params:{data:Object.values(this.editedData)}}).then((function(t){console.log("nimalegebasihdlia;jksjdfhhakfhj"),console.log(t),e.$message(t.respMsg),e.editedData=[]}),(function(e){console.log(e)}))},dataTemplate:function(){console.log("this.selectedTemplate.id",this.selectedTemplate.id),console.log(this.selectedTemplate);a("Qyje");console.log(this.conditionList),d({url:"/dataCenter/newDownloadDataFile",method:"post",params:{conditionList:this.conditionList,autId:this.selectedTemplate.autId,transId:this.selectedTemplate.transId,scriptId:this.selectedTemplate.id}}).then((function(e){var t="http://140.143.16.21:8080/"+e.filePath.split("/webapps/")[1];window.location.href=t}))},exportData:function(){this.exportDialog=!0},searchTemplate:function(){this.searchTemplateDailog=!0},showScript:function(e,t){var a=this;this.templateInfoFlag=!0,d({url:"/dataCenter/getTestcaseScript",method:"post",params:{caseCompositeType:t,testcaseId:e}}).then((function(e){a.templateInfoData=[];for(var t=0;t<e.scriptList.length;t++){var s=e.scriptList[t],l={};l.operationItem="UI: "+s.ui+"  元素: "+s.element,l.classType=s.classType,l.method=s.method,l.parameters="";for(var n=0;n<s.parameters.length;n++)l.parameters+="参数"+n+": "+s.parameters[n]+";";a.templateInfoData.push(l)}}),(function(e){console.log(e)}))},search:function(){this.getFilterTree()},checkout:function(){this.$router.push({name:"DatatableFlowcase"})},handleNodeClick:function(e){e.flag&&(this.selectedTemplate=e,this.getTestcaseInfo())},getFilterTree:function(){var e=this;d({url:"/dataCenter/queryFilterTree",method:"post",params:{conditionList:this.conditionList}}).then((function(t){e.filterTree=[];for(var a=t.filterTree,s=0;s<a.length;s++){for(var l={label:a[s].autName,id:a[s].autId,children:[]},n=a[s].transactList,o=0;o<n.length;o++){for(var i={label:n[o].transName,id:n[o].transId,children:[]},r=n[o].scriptTemplateList,c=0;c<r.length;c++){var d={label:r[c].scriptName,id:r[c].scriptId,transId:i.id,autId:l.id,flag:!0};i.children.push(d)}l.children.push(i)}console.log(l),e.filterTree.push(l)}}),(function(e){console.log(e)}))},getTestcaseInfo:function(){var e=this;console.log(this.selectedTemplate),d({url:"/dataCenter/queryTestcaseInfo",method:"post",params:{conditionList:this.conditionList,executorId:this.executorId,caseLibId:this.caseLibId,autId:this.selectedTemplate.autId,transId:this.selectedTemplate.transId,scriptId:this.selectedTemplate.id}}).then((function(t){e.tableData=[],e.tableHead=[],e.rowIndex=-1,e.columnIndex=-1;for(var a=0;a<t.tableData.length;a++)t.tableData[a].flag=!1;e.tableData=t.tableData,e.tableHead=t.tableHead}),(function(e){console.log(e)}))},rightMenu:function(e,t,a){this.rowdata=e,this.rowColumn=t.label.split("-")[1],this.rowIndex=e.index,this.columnIndex=t.index,this.menuVisible=!1,this.menuVisible=!0;var s=document.querySelector("#menu");return this.styleMenu(s),!1},styleMenu:function(e){e.style.left=event.clientX+1+"px",e.style.top=event.clientY-10+"px",document.addEventListener("click",this.noclick)},noclick:function(){this.menuVisible=!1,document.removeEventListener("click",this.noclick)},changeCondition:function(e){console.log(e),this.conditionList.splice(4),this.conditionList=this.conditionList.concat(e)}}};var Xt=function(e){a("tLXC"),a("gfBH")},Gt=Object(m.a)(Yt,(function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"page-inner"},[a("el-row",{staticClass:"border"},[a("el-col",{attrs:{span:4}},[a("el-button",{directives:[{name:"popover",rawName:"v-popover:showSearch",arg:"showSearch"}]},[e._v("筛选用例")]),e._v(" "),a("el-popover",{ref:"showSearch",attrs:{placement:"right",width:"800",trigger:"click"}},[a("searchtestcase",{on:{"condition-list":e.changeCondition}})],1),e._v(" "),a("el-button",{attrs:{type:"primary"},on:{click:e.search}},[e._v("\n                查询\n            ")])],1),e._v(" "),a("el-col",{attrs:{span:4}},[a("el-button",{attrs:{type:"primary"},on:{click:e.checkout}},[e._v("\n                切换流程用例展示\n            ")])],1)],1),e._v(" "),a("div",{staticClass:"ele-container"},[a("div",{class:"ele-left "+(e.saidBarShow?"":"narrow-ele-left")},[a("div",{directives:[{name:"show",rawName:"v-show",value:e.saidBarShow,expression:"saidBarShow"}],staticClass:"treeDiv"},[a("el-tree",{attrs:{accordion:"",data:e.filterTree,props:e.defaultProps},on:{"node-click":e.handleNodeClick}})],1),e._v(" "),e.saidBarShow?a("div",{staticClass:"treeHideIcon"},[a("el-button",{attrs:{size:"mini"},on:{click:function(t){e.saidBarShow=!e.saidBarShow}}},[a("i",{staticClass:"el-icon-d-arrow-left"})])],1):a("div",{staticClass:"treeShowIcon"},[a("el-button",{attrs:{size:"mini"},on:{click:function(t){e.saidBarShow=!e.saidBarShow}}},[a("i",{staticClass:"el-icon-d-arrow-right"})])],1)]),e._v(" "),a("div",{class:"ele-right "+(e.saidBarShow?"":"wide-ele-right")},[a("el-row",{staticClass:"itemCenter",attrs:{gutter:20}},[a("el-col",{attrs:{span:8}},[a("el-button",{attrs:{size:"small",type:"primary",icon:"el-icon-document"},on:{click:e.save}},[e._v("\n                        保存\n                    ")]),e._v(" "),-1!==e.selectedTemplate?a("el-button",{attrs:{size:"small",type:"primary"},on:{click:e.dataTemplate}},[e._v("\n                        下载数据模板\n                    ")]):e._e(),e._v(" "),-1!==e.selectedTemplate?a("el-button",{attrs:{size:"small",type:"primary"},on:{click:e.exportData}},[e._v("\n                        导入数据\n                    ")]):e._e()],1),e._v(" "),-1!==e.selectedTemplate?a("el-col",{attrs:{span:8}},[a("el-select",{attrs:{multiple:"",placeholder:"请选择隐藏列"},model:{value:e.columnHidden,callback:function(t){e.columnHidden=t},expression:"columnHidden"}},e._l(e.selectOptions,(function(e){return a("el-option",{key:e.value,attrs:{label:e.label,value:e.label}})})),1),e._v(" "),a("el-button",{attrs:{size:"small",type:"primary"},on:{click:e.searchTemplate}},[e._v("\n                        用例筛选\n                    ")])],1):e._e()],1),e._v(" "),a("div",{on:{contextmenu:function(e){e.preventDefault()}}},[a("el-table",{staticStyle:{width:"100%"},attrs:{height:"80vh",border:"","highlight-current-row":"",data:e.tableData,"cell-class-name":e.cellClassName},on:{"row-contextmenu":e.rightMenu,"cell-dblclick":e.tdedit,"cell-click":e.tdchoose}},[a("el-table-column",{attrs:{type:"index",width:"50"}}),e._v(" "),a("el-table-column",{attrs:{label:"查看脚本",width:"100"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("el-button",{attrs:{size:"small",type:"primary"},on:{click:function(a){return e.showScript(t.row.id,t.row.caseCompositeType)}}},[e._v("\n                                查看脚本\n                            ")])]}}])}),e._v(" "),a("el-table-column",{attrs:{prop:"caseCode",label:"用例编号",width:"100"}}),e._v(" "),e.columnHidden.includes("测试点")?e._e():a("el-table-column",{attrs:{prop:"testPoint",label:"测试点"}}),e._v(" "),e.columnHidden.includes("测试意图")?e._e():a("el-table-column",{attrs:{prop:"testDesign",label:"测试意图"}}),e._v(" "),e.columnHidden.includes("测试步骤")?e._e():a("el-table-column",{attrs:{prop:"testStep",label:"测试步骤",width:"200"}}),e._v(" "),e.columnHidden.includes("预期结果")?e._e():a("el-table-column",{attrs:{prop:"expectResult",label:"预期结果",width:"150"}}),e._v(" "),e.columnHidden.includes("检查点")?e._e():a("el-table-column",{attrs:{width:"150",prop:"checkPoint",label:"检查点"}}),e._v(" "),e._l(e.tableHead,(function(t,s){return a("el-table-column",{key:s,attrs:{label:t[0]+"-"+t[1],width:"180"},scopedSlots:e._u([{key:"default",fn:function(s){return[s.row.index===e.rowIndex&&s.column.index===e.columnIndex&&e.dbeditFlag?a("div",[a("el-input",{ref:"_"+s.row.index+"_"+s.column.index,refInFor:!0,staticClass:"editArea",attrs:{type:"textarea",autosize:{minRows:2,maxRows:5}},on:{blur:function(t){return e.loseblur(s.row,s.column)},click:function(e){return e.stopPropagation(),e.preventDefault(),!1},change:function(t){return e.handlechange(s.row,s.column)}},model:{value:s.row["data_"+t[1]],callback:function(a){e.$set(s.row,"data_"+t[1],a)},expression:"scope.row['data_'+item[1]]"}})],1):a("div",[e._v(e._s(s.row["data_"+t[1]]))])]}}],null,!0)})}))],2)],1),e._v(" "),a("div",{directives:[{name:"show",rawName:"v-show",value:e.menuVisible,expression:"menuVisible"}]},[a("ul",{staticClass:"menu",attrs:{id:"menu"}},[a("li",{staticClass:"menu__item"},[e._v("复制")]),e._v(" "),a("li",{staticClass:"menu__item"},[e._v("剪切")]),e._v(" "),a("li",{staticClass:"menu__item"},[e._v("粘贴")]),e._v(" "),a("li",{staticClass:"menu__item"},[e._v("清除")]),e._v(" "),a("li",{staticClass:"menu__item"},[e._v("查找与替换")]),e._v(" "),a("li",{staticClass:"menu__item",on:{click:e.editData}},[e._v("编辑数据")])])])],1)]),e._v(" "),a("el-dialog",{attrs:{title:"查看脚本",visible:e.templateInfoFlag,width:"50%"},on:{"update:visible":function(t){e.templateInfoFlag=t}}},[a("el-table",{staticStyle:{width:"100%"},attrs:{border:"",data:e.templateInfoData}},[a("el-table-column",{attrs:{type:"index",width:"50"}}),e._v(" "),a("el-table-column",{attrs:{prop:"operationItem",label:"操作项",width:"180"}}),e._v(" "),a("el-table-column",{attrs:{prop:"classType",label:"控件名",width:"180"}}),e._v(" "),a("el-table-column",{attrs:{prop:"method",label:"方法名"}}),e._v(" "),a("el-table-column",{attrs:{prop:"parameters",label:"参数"}})],1)],1),e._v(" "),a("el-dialog",{attrs:{title:"编辑数据",visible:e.editDataFlag,width:"50%"},on:{"update:visible":function(t){e.editDataFlag=t}}},[a("el-row",{staticClass:"itemCenter"},[a("el-radio",{attrs:{label:"1"},model:{value:e.dataType,callback:function(t){e.dataType=t},expression:"dataType"}},[e._v("文本")]),e._v(" "),a("el-radio",{attrs:{label:"2"},model:{value:e.dataType,callback:function(t){e.dataType=t},expression:"dataType"}},[e._v("空文本")]),e._v(" "),a("el-radio",{attrs:{label:"3"},model:{value:e.dataType,callback:function(t){e.dataType=t},expression:"dataType"}},[e._v("去除语句")]),e._v(" "),a("el-radio",{attrs:{label:"4"},model:{value:e.dataType,callback:function(t){e.dataType=t},expression:"dataType"}},[e._v("表达式")])],1),e._v(" "),a("el-row",{directives:[{name:"show",rawName:"v-show",value:1==e.dataType,expression:"dataType==1"}]},[a("el-input",{attrs:{placeholder:"请输入内容"},model:{value:e.input1,callback:function(t){e.input1=t},expression:"input1"}})],1),e._v(" "),a("el-row",{directives:[{name:"show",rawName:"v-show",value:2==e.dataType,expression:"dataType==2"}]},[a("el-input",{attrs:{placeholder:"nil",disabled:""}})],1),e._v(" "),a("el-row",{directives:[{name:"show",rawName:"v-show",value:3==e.dataType,expression:"dataType==3"}]},[a("el-input",{attrs:{placeholder:"",disabled:""}})],1),e._v(" "),a("el-row",{directives:[{name:"show",rawName:"v-show",value:4==e.dataType,expression:"dataType==4"}]},[a("el-col",{attrs:{span:14}},[a("el-input",{attrs:{placeholder:"请输入内容"},model:{value:e.input4,callback:function(t){e.input4=t},expression:"input4"}},[a("template",{slot:"prepend"},[e._v("{expr=")]),e._v(" "),a("template",{slot:"append"},[e._v("}")])],2)],1),e._v(" "),a("el-col",{attrs:{span:8,offset:1}},[a("el-button",{attrs:{size:"small",type:"primary"},on:{click:function(t){e.插入数据}}},[e._v("\n                        插入数据\n                    ")]),e._v(" "),a("el-button",{attrs:{size:"small",type:"primary"},on:{click:function(t){e.插入函数}}},[e._v("\n                        插入函数\n                    ")])],1)],1),e._v(" "),a("div",[a("el-row",[a("h4",[e._v(" 前置操作")])]),e._v(" "),a("el-row",[a("el-button",{attrs:{size:"small",type:"primary",icon:"el-icon-plus"},on:{click:function(t){return e.addItemShowFunction(1)}}},[e._v("\n                        添加多项\n                    ")]),e._v(" "),a("el-button",{attrs:{icon:"el-icon-delete",size:"small",type:"primary"},on:{click:function(t){return e.deleteTemplateInfo(1)}}},[e._v("\n                        删除\n                    ")]),e._v(" "),a("el-button",{attrs:{icon:"el-icon-arrow-up",size:"small",type:"primary"},on:{click:function(t){return e.eleUp(1)}}},[e._v("\n                        上移\n                    ")]),e._v(" "),a("el-button",{attrs:{icon:"el-icon-arrow-down",size:"small",type:"primary"},on:{click:function(t){return e.eleDown(1)}}},[e._v("\n                        下移\n                    ")])],1),e._v(" "),a("el-table",{ref:"multipleTable",staticClass:"sortable",staticStyle:{width:"100%"},attrs:{border:"",data:e.beforeOperationRows,"tooltip-effect":"dark","row-key":"name"},on:{"selection-change":e.handleSelectionChange}},[a("el-table-column",{attrs:{label:"排序",width:"55"},scopedSlots:e._u([{key:"default",fn:function(e){return[a("i",{staticClass:"el-icon-sort",attrs:{id:e.row.date}})]}}])}),e._v(" "),a("el-table-column",{attrs:{label:"选择",type:"selection",width:"55"}}),e._v(" "),a("el-table-column",{attrs:{label:"操作项",width:"200",prop:"name"}}),e._v(" "),a("el-table-column",{attrs:{label:"方法",width:"180"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("el-select",{attrs:{placeholder:"请选择"},on:{change:function(a){return e.changeMethod(t.row)}},model:{value:t.row.methodName,callback:function(a){e.$set(t.row,"methodName",a)},expression:"scope.row.methodName"}},e._l(e.methods[t.row.elementWidget],(function(e){return a("el-option",{key:e.id,attrs:{label:e.name,value:e.name}})})),1)]}}])}),e._v(" "),a("el-table-column",{attrs:{prop:"arguments",label:"参数"},scopedSlots:e._u([{key:"default",fn:function(t){return[t.row.arguShow?a("div",[e._l(t.row.arguments,(function(t){return a("el-row",{key:t.index},[a("el-col",{attrs:{span:5}},[a("span",[e._v("\n                                            名称\n                                        ")])]),e._v(" "),a("el-col",{attrs:{span:10}},[a("span",[e._v("\n                                            参数值\n                                        ")])])],1)})),e._v(" "),e._l(t.row.arguments,(function(t){return a("el-row",{key:t.name},[a("el-col",{staticClass:"fixedHeight",attrs:{span:5}},[a("span",[e._v("\n                                             "+e._s(t.name)+" \n                                        ")])]),e._v(" "),a("el-col",{attrs:{span:10}},[a("span",[e._v("\n                                             "+e._s(t.value)+" \n                                        ")])])],1)})),e._v(" "),a("el-row",[a("el-button",{attrs:{size:"mini",type:"primary",icon:"el-icon-edit"},on:{click:function(e){t.row.arguShow=!1}}},[e._v("\n                                        编辑\n                                    ")])],1)],2):a("div",[e._l(t.row.arguments,(function(t){return a("el-row",{key:t.index},[a("el-col",{attrs:{span:5}},[a("span",[e._v("\n                                            名称\n                                        ")])]),e._v(" "),a("el-col",{attrs:{span:10}},[a("span",[e._v("\n                                            参数值\n                                        ")])])],1)})),e._v(" "),e._l(t.row.arguments,(function(t){return a("el-row",{key:t.name},[a("el-col",{staticClass:"fixedHeight",attrs:{span:5}},[a("span",[e._v("\n                                             "+e._s(t.name)+" \n                                        ")])]),e._v(" "),a("el-col",{attrs:{span:10}},[a("el-input",{attrs:{size:"mini"},on:{dragenter:function(e){return e.stopPropagation(),e.preventDefault(),!1},dragover:function(e){return e.stopPropagation(),e.preventDefault(),!1}},model:{value:t.newvalue,callback:function(a){e.$set(t,"newvalue",a)},expression:"item.newvalue"}})],1)],1)})),e._v(" "),a("el-row",[a("el-col",{attrs:{span:5}},[a("el-button",{attrs:{size:"mini"},on:{click:function(e){t.row.arguments.forEach((function(e){e.newvalue=e.value})),t.row.arguShow=!0}}},[e._v("\n                                             取消\n                                        ")])],1),e._v(" "),a("el-col",{attrs:{span:5}},[a("el-button",{attrs:{type:"primary",size:"mini"},on:{click:function(e){t.row.arguments.forEach((function(e){e.value=e.newvalue})),t.row.arguShow=!0}}},[e._v("\n                                            确认\n                                        ")])],1)],1)],2)]}}])}),e._v(" "),a("div",{attrs:{slot:"empty"},slot:"empty"},[e._v("\n                        暂无前置数据\n                    ")])],1)],1),e._v(" "),a("div",[a("el-row",[a("h4",[e._v(" 后置操作")])]),e._v(" "),a("el-row",[a("el-button",{attrs:{size:"small",type:"primary",icon:"el-icon-plus"},on:{click:function(t){return e.addItemShowFunction(2)}}},[e._v("\n                        添加多项\n                    ")]),e._v(" "),a("el-button",{attrs:{icon:"el-icon-delete",size:"small",type:"primary"},on:{click:function(t){return e.deleteTemplateInfo(2)}}},[e._v("\n                        删除\n                    ")]),e._v(" "),a("el-button",{attrs:{icon:"el-icon-arrow-up",size:"small",type:"primary"},on:{click:function(t){return e.eleUp(2)}}},[e._v("\n                        上移\n                    ")]),e._v(" "),a("el-button",{attrs:{icon:"el-icon-arrow-down",size:"small",type:"primary"},on:{click:function(t){return e.eleDown(2)}}},[e._v("\n                        下移\n                    ")])],1),e._v(" "),a("el-table",{ref:"multipleTable",staticClass:"sortable",staticStyle:{width:"100%"},attrs:{border:"",data:e.beforeOperationRows,"tooltip-effect":"dark","row-key":"name"},on:{"selection-change":e.handleSelectionChange}},[a("el-table-column",{attrs:{label:"排序",width:"55"},scopedSlots:e._u([{key:"default",fn:function(e){return[a("i",{staticClass:"el-icon-sort",attrs:{id:e.row.date}})]}}])}),e._v(" "),a("el-table-column",{attrs:{label:"选择",type:"selection",width:"55"}}),e._v(" "),a("el-table-column",{attrs:{label:"操作项",width:"200",prop:"name"}}),e._v(" "),a("el-table-column",{attrs:{label:"方法",width:"180"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("el-select",{attrs:{placeholder:"请选择"},on:{change:function(a){return e.changeMethod(t.row)}},model:{value:t.row.methodName,callback:function(a){e.$set(t.row,"methodName",a)},expression:"scope.row.methodName"}},e._l(e.methods[t.row.elementWidget],(function(e){return a("el-option",{key:e.id,attrs:{label:e.name,value:e.name}})})),1)]}}])}),e._v(" "),a("el-table-column",{attrs:{prop:"arguments",label:"参数"},scopedSlots:e._u([{key:"default",fn:function(t){return[t.row.arguShow?a("div",[e._l(t.row.arguments,(function(t){return a("el-row",{key:t.index},[a("el-col",{attrs:{span:5}},[a("span",[e._v("\n                                            名称\n                                        ")])]),e._v(" "),a("el-col",{attrs:{span:10}},[a("span",[e._v("\n                                            参数值\n                                        ")])])],1)})),e._v(" "),e._l(t.row.arguments,(function(t){return a("el-row",{key:t.name},[a("el-col",{staticClass:"fixedHeight",attrs:{span:5}},[a("span",[e._v("\n                                             "+e._s(t.name)+" \n                                        ")])]),e._v(" "),a("el-col",{attrs:{span:10}},[a("span",[e._v("\n                                             "+e._s(t.value)+" \n                                        ")])])],1)})),e._v(" "),a("el-row",[a("el-button",{attrs:{size:"mini",type:"primary",icon:"el-icon-edit"},on:{click:function(e){t.row.arguShow=!1}}},[e._v("\n                                        编辑\n                                    ")])],1)],2):a("div",[e._l(t.row.arguments,(function(t){return a("el-row",{key:t.index},[a("el-col",{attrs:{span:5}},[a("span",[e._v("\n                                            名称\n                                        ")])]),e._v(" "),a("el-col",{attrs:{span:10}},[a("span",[e._v("\n                                            参数值\n                                        ")])])],1)})),e._v(" "),e._l(t.row.arguments,(function(t){return a("el-row",{key:t.name},[a("el-col",{staticClass:"fixedHeight",attrs:{span:5}},[a("span",[e._v("\n                                             "+e._s(t.name)+" \n                                        ")])]),e._v(" "),a("el-col",{attrs:{span:10}},[a("el-input",{attrs:{size:"mini"},on:{dragenter:function(e){return e.stopPropagation(),e.preventDefault(),!1},dragover:function(e){return e.stopPropagation(),e.preventDefault(),!1}},model:{value:t.newvalue,callback:function(a){e.$set(t,"newvalue",a)},expression:"item.newvalue"}})],1)],1)})),e._v(" "),a("el-row",[a("el-col",{attrs:{span:5}},[a("el-button",{attrs:{size:"mini"},on:{click:function(e){t.row.arguments.forEach((function(e){e.newvalue=e.value})),t.row.arguShow=!0}}},[e._v("\n                                             取消\n                                        ")])],1),e._v(" "),a("el-col",{attrs:{span:5}},[a("el-button",{attrs:{type:"primary",size:"mini"},on:{click:function(e){t.row.arguments.forEach((function(e){e.value=e.newvalue})),t.row.arguShow=!0}}},[e._v("\n                                            确认\n                                        ")])],1)],1)],2)]}}])}),e._v(" "),a("div",{attrs:{slot:"empty"},slot:"empty"},[e._v("\n                        暂无后置数据\n                    ")])],1)],1),e._v(" "),a("div",[a("el-row",[a("h4",[e._v(" 数据校验")])]),e._v(" "),a("el-row",[a("el-button",{attrs:{size:"small",type:"primary",icon:"el-icon-plus"},on:{click:function(t){return e.addItemShowFunction(3)}}},[e._v("\n                        添加多项\n                    ")]),e._v(" "),a("el-button",{attrs:{icon:"el-icon-delete",size:"small",type:"primary"},on:{click:function(t){return e.deleteTemplateInfo(3)}}},[e._v("\n                        删除\n                    ")]),e._v(" "),a("el-button",{attrs:{icon:"el-icon-arrow-up",size:"small",type:"primary"},on:{click:function(t){return e.eleUp(3)}}},[e._v("\n                        上移\n                    ")]),e._v(" "),a("el-button",{attrs:{icon:"el-icon-arrow-down",size:"small",type:"primary"},on:{click:function(t){return e.eleDown(3)}}},[e._v("\n                        下移\n                    ")])],1),e._v(" "),a("el-table",{ref:"multipleTable",staticClass:"sortable",staticStyle:{width:"100%"},attrs:{border:"",data:e.beforeOperationRows,"tooltip-effect":"dark","row-key":"name"},on:{"selection-change":e.handleSelectionChange}},[a("el-table-column",{attrs:{label:"排序",width:"55"},scopedSlots:e._u([{key:"default",fn:function(e){return[a("i",{staticClass:"el-icon-sort",attrs:{id:e.row.date}})]}}])}),e._v(" "),a("el-table-column",{attrs:{label:"选择",type:"selection",width:"55"}}),e._v(" "),a("el-table-column",{attrs:{label:"操作项",width:"200",prop:"name"}}),e._v(" "),a("el-table-column",{attrs:{label:"方法",width:"180"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("el-select",{attrs:{placeholder:"请选择"},on:{change:function(a){return e.changeMethod(t.row)}},model:{value:t.row.methodName,callback:function(a){e.$set(t.row,"methodName",a)},expression:"scope.row.methodName"}},e._l(e.methods[t.row.elementWidget],(function(e){return a("el-option",{key:e.id,attrs:{label:e.name,value:e.name}})})),1)]}}])}),e._v(" "),a("el-table-column",{attrs:{prop:"arguments",label:"参数"},scopedSlots:e._u([{key:"default",fn:function(t){return[t.row.arguShow?a("div",[e._l(t.row.arguments,(function(t){return a("el-row",{key:t.index},[a("el-col",{attrs:{span:5}},[a("span",[e._v("\n                                            名称\n                                        ")])]),e._v(" "),a("el-col",{attrs:{span:10}},[a("span",[e._v("\n                                            参数值\n                                        ")])])],1)})),e._v(" "),e._l(t.row.arguments,(function(t){return a("el-row",{key:t.name},[a("el-col",{staticClass:"fixedHeight",attrs:{span:5}},[a("span",[e._v("\n                                             "+e._s(t.name)+" \n                                        ")])]),e._v(" "),a("el-col",{attrs:{span:10}},[a("span",[e._v("\n                                             "+e._s(t.value)+" \n                                        ")])])],1)})),e._v(" "),a("el-row",[a("el-button",{attrs:{size:"mini",type:"primary",icon:"el-icon-edit"},on:{click:function(e){t.row.arguShow=!1}}},[e._v("\n                                        编辑\n                                    ")])],1)],2):a("div",[e._l(t.row.arguments,(function(t){return a("el-row",{key:t.index},[a("el-col",{attrs:{span:5}},[a("span",[e._v("\n                                            名称\n                                        ")])]),e._v(" "),a("el-col",{attrs:{span:10}},[a("span",[e._v("\n                                            参数值\n                                        ")])])],1)})),e._v(" "),e._l(t.row.arguments,(function(t){return a("el-row",{key:t.name},[a("el-col",{staticClass:"fixedHeight",attrs:{span:5}},[a("span",[e._v("\n                                             "+e._s(t.name)+" \n                                        ")])]),e._v(" "),a("el-col",{attrs:{span:10}},[a("el-input",{attrs:{size:"mini"},on:{dragenter:function(e){return e.stopPropagation(),e.preventDefault(),!1},dragover:function(e){return e.stopPropagation(),e.preventDefault(),!1}},model:{value:t.newvalue,callback:function(a){e.$set(t,"newvalue",a)},expression:"item.newvalue"}})],1)],1)})),e._v(" "),a("el-row",[a("el-col",{attrs:{span:5}},[a("el-button",{attrs:{size:"mini"},on:{click:function(e){t.row.arguments.forEach((function(e){e.newvalue=e.value})),t.row.arguShow=!0}}},[e._v("\n                                             取消\n                                        ")])],1),e._v(" "),a("el-col",{attrs:{span:5}},[a("el-button",{attrs:{type:"primary",size:"mini"},on:{click:function(e){t.row.arguments.forEach((function(e){e.value=e.newvalue})),t.row.arguShow=!0}}},[e._v("\n                                            确认\n                                        ")])],1)],1)],2)]}}])}),e._v(" "),a("div",{attrs:{slot:"empty"},slot:"empty"},[e._v("\n                        暂无数据校验\n                    ")])],1)],1)],1),e._v(" "),a("el-dialog",{attrs:{title:"添加多项",visible:e.addItemShow,width:"30%"},on:{"update:visible":function(t){e.addItemShow=t}}},[a("uiEleFunTree",{attrs:{multiselection:!0},on:{closeDialog:function(t){e.addItemShow=!1},throwTreeInfo:e.addTreeInfo}})],1),e._v(" "),a("el-dialog",{attrs:{title:"用例筛选",visible:e.searchTemplateDailog,width:"30%"},on:{"update:visible":function(t){e.searchTemplateDailog=t}}},[a("searchtestcase",{on:{"condition-list":e.changeCondition}})],1),e._v(" "),a("el-dialog",{attrs:{title:"批量添加元素",visible:e.exportDialog,width:"30%"},on:{"update:visible":function(t){e.exportDialog=t}}},[a("el-upload",{ref:"upload",staticClass:"upload-demo",attrs:{action:e.actionUrl,"on-success":e.tempSuccess,"on-error":e.tempError,limit:1,"auto-upload":!1}},[a("el-button",{attrs:{slot:"trigger",size:"small",type:"primary"},slot:"trigger"},[e._v("选取文件")]),e._v(" "),a("el-button",{staticStyle:{"margin-left":"10px"},attrs:{size:"small",type:"success"},on:{click:e.submitUpload}},[e._v("上传到服务器")])],1),e._v(" "),a("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{on:{click:function(t){e.exportDialog=!1}}},[e._v("关闭")])],1)],1)],1)}),[],!1,Xt,"data-v-40206a2e",null).exports,Zt={name:"datatableFlowcase",mixins:[L.a],data:function(){var e;return{tableData:[],mainForm:(e={checkPoint:"",expectResult:"",missionId:"",testDesign:"",testPoint:"",testStep:"",nodeInfoList:[]},re()(e,"missionId",""),re()(e,"casecode",""),re()(e,"executorId",""),e),id:"",flag:!0,autRespDTOList:[],queryFlowTestCaseParams:{executorId:"3",caseLibId:""},flowTestcaseInfos:[],pagedBatchQueryTestMissionParams:{codeLong:"",currentPage:1,descMedium:"",nameMedium:"",orderColumns:"modified_time",orderType:"desc",pageSize:1e4},missionList:[],testCaseInfoId:"",dialogTitle:"查看脚本",dialogVisible:!1,dialogTableData:[],currentRow:null}},created:function(){this.id=sessionStorage.getItem("selectId"),this.queryFlowTestCaseParams.caseLibId=sessionStorage.getItem("caselibId"),console.log("toCase",this.id,this.queryFlowTestCaseParams.caseLibId),this.queryListAut(),this.queryFlowTestcase(),this.pagedBatchQueryTestMission(),this.queryTransactsByAutId(),this.setTableData()},methods:{setTableData:function(){for(var e=1;e<=20;e++)this.tableData.push({id:"000".concat(e)})},queryListAut:function(){var e=this;d({url:"/aut/queryListAut",method:"POST",params:{}}).then((function(t){"0000"===t.respCode?(console.log("获取成功",t),e.autRespDTOList=t.autRespDTOList):e.$message.warning(t.respMsg)})).catch((function(t){e.$message.error(t)}))},queryFlowTestcase:function(){var e=this;d({url:"/dataCenter/queryFlowTestcase",method:"POST",params:{caseLibId:this.queryFlowTestCaseParams.caseLibId,executorId:"3"}}).then((function(t){"0000"===t.respCode?(console.log("获取成功",t),e.flowTestcaseInfos=t.flowTestcaseInfos,e.testCaseInfoId=e.flowTestcaseInfos[0].id,e.queryFlowTestcaseInfo()):e.$message.warning(t.respMsg)})).catch((function(t){e.$message.error(t)}))},pagedBatchQueryTestMission:function(){var e=this;d({url:"/missionController/pagedBatchQueryTestMission",method:"POST",params:this.pagedBatchQueryTestMissionParams}).then((function(t){"0000"===t.respCode?(console.log("pagedBatchQueryTestMissionParams获取成功",t),e.missionList=t.list):e.$message.warning(t.respMsg)})).catch((function(t){e.$message.error(t)}))},queryTransactsByAutId:function(){var e=this;d({url:"/transactController/queryTransactsByAutId",method:"POST",params:{id:this.id}}).then((function(t){"0000"===t.respCode?console.log("获取成功",t):e.$message.warning(t.respMsg)})).catch((function(t){e.$message.error(t)}))},queryFlowTestcaseInfo:function(){var e=this;d({url:"/dataCenter/queryFlowTestcaseInfo",method:"POST",params:{id:this.testCaseInfoId}}).then((function(t){console.log("queryFlowTestcaseInfo",t),e.mainForm.checkPoint=t.checkPoint,e.mainForm.missionId=t.missionName,e.mainForm.testDesign=t.testDesign,e.mainForm.testPoint=t.testPoint,e.mainForm.expectResult=t.expectResult,e.mainForm.testStep=t.testStep,e.mainForm.nodeInfoList=t.nodeInfoList,e.mainForm.missionId=t.missionId,e.mainForm.casecode=t.casecode,e.mainForm.executorId=t.executorId})).catch((function(e){}))},toggleSingle:function(){this.$router.push({path:"/testProjectIndext/datatable"})},edit:function(){this.flag=!1},saveFlowTestcaseInfo:function(){var e=this;console.log(this.mainForm),d({url:"/dataCenter/saveFlowTestcaseInfo",method:"POST",params:this.mainForm}).then((function(t){"0000"===t.respCode?e.$message.success("提交成功"):e.$message.warning(t.respMsg)})).catch((function(t){e.$message.error(t)}))},showScriptDialog:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0;this.dialogVisible=!0;var t=this.mainForm.nodeInfoList[e].id;this.getTestcaseScript(t)},getTestcaseScript:function(e){var t=this;d({url:"/dataCenter/getTestcaseScript",method:"POST",params:{testcaseId:e,caseCompositeType:"3"}}).then((function(e){console.log("脚本获取",e),t.dialogTableData=e.scriptList})).catch((function(e){t.$message.error("脚本获取失败")}))},handleCancel:function(){this.dialogVisible=!1},handleSure:function(){this.dialogVisible=!1},handleCurrentChange:function(e){this.currentRow=e,console.log("handleCurrentChange",e),this.testCaseInfoId=e.id,this.queryFlowTestcaseInfo()}},filters:{getParameters:function(e){console.log(e);var t="";return e.forEach((function(e,a){t+="参数"+(a+1)+"："+e+";"})),t}}};var ea=function(e){a("mqrN")},ta=Object(m.a)(Zt,(function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"page-inner datatableFlowCaseStyle"},[a("el-container",[a("el-main",[a("el-row",[a("el-button",{staticClass:"leftButton",attrs:{type:"primary",size:"small",icon:"el-icon-refresh-right"},on:{click:e.toggleSingle}},[e._v("切换单用例显示\n\t\t\t\t\t")])],1),e._v(" "),a("el-card",{staticClass:"leftCard"},[a("el-table",{staticClass:"tableLeft",attrs:{data:e.flowTestcaseInfos,border:"",stripe:"","highlight-current-row":""},on:{"current-change":e.handleCurrentChange}},[a("el-table-column",{attrs:{align:"center",label:"流程用例列",prop:"casecode",width:"217px"}})],1)],1),e._v(" "),a("el-card",{staticClass:"rightCard"},[a("el-row",{staticClass:"titleRow"},[a("el-col",{attrs:{span:16}},[a("h3",[e._v("用例详情及节点数据")])]),e._v(" "),a("el-col",{staticClass:"rightButtons",attrs:{span:8}},[a("el-button",{attrs:{type:"primary",size:"small",icon:"el-icon-edit"},on:{click:e.edit}},[e._v("编辑\n\t\t\t\t\t\t\t")]),e._v(" "),a("el-button",{attrs:{type:"primary",size:"small",icon:"el-icon-edit"},on:{click:e.saveFlowTestcaseInfo}},[e._v("提交修改\n\t\t\t\t\t\t\t")])],1)],1),e._v(" "),a("el-form",{staticClass:"main",attrs:{model:e.mainForm,"label-width":"100px"}},[a("el-row",[a("span",{staticClass:"detailSpan"},[e._v("\n\t\t\t\t\t\t\t\t用例详情\n\t\t\t\t\t\t\t")])]),e._v(" "),a("el-form-item",{attrs:{label:"测试点"}},[a("el-input",{attrs:{disabled:e.flag},model:{value:e.mainForm.testPoint,callback:function(t){e.$set(e.mainForm,"testPoint",t)},expression:"mainForm.testPoint"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"测试任务"}},[a("el-select",{attrs:{disabled:e.flag},model:{value:e.mainForm.missionId,callback:function(t){e.$set(e.mainForm,"missionId",t)},expression:"mainForm.missionId"}},e._l(e.missionList,(function(e){return a("el-option",{key:e.id,attrs:{value:e.id,label:e.nameMedium}})})),1)],1),e._v(" "),a("el-form-item",{attrs:{label:"测试意图"}},[a("el-input",{attrs:{disabled:e.flag},model:{value:e.mainForm.testDesign,callback:function(t){e.$set(e.mainForm,"testDesign",t)},expression:"mainForm.testDesign"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"检查点"}},[a("el-input",{attrs:{disabled:e.flag},model:{value:e.mainForm.checkPoint,callback:function(t){e.$set(e.mainForm,"checkPoint",t)},expression:"mainForm.checkPoint"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"预计结果"}},[a("el-input",{attrs:{disabled:e.flag},model:{value:e.mainForm.expectResult,callback:function(t){e.$set(e.mainForm,"expectResult",t)},expression:"mainForm.expectResult"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"测试步骤"}},[a("el-input",{staticClass:"textarea",attrs:{type:"textarea",disabled:e.flag},model:{value:e.mainForm.testStep,callback:function(t){e.$set(e.mainForm,"testStep",t)},expression:"mainForm.testStep"}})],1)],1),e._v(" "),e._l(e.mainForm.nodeInfoList,(function(t,s){return a("div",{key:s,staticClass:"nodeInfoList"},[a("hr"),e._v(" "),a("el-row",[a("p",{staticClass:"nodeTitle"},[e._v("节点")])]),e._v(" "),a("el-form",{staticClass:"formInfo",attrs:{"label-width":"100px",inline:!0}},[a("el-form-item",{attrs:{label:"被测系统"}},[a("el-select",{attrs:{disabled:e.flag,filterable:"",placeholder:"被测系统名称"},model:{value:t.autName,callback:function(a){e.$set(t,"autName",a)},expression:"item.autName"}},e._l(e.autRespDTOList,(function(e){return a("el-option",{key:e.id,attrs:{value:e.nameMedium,label:e.nameMedium}})})),1)],1),e._v(" "),a("el-form-item",{attrs:{label:"功能点"}},[a("el-select",{attrs:{placeholder:"修改被测系统名称",filterable:"",disabled:e.flag},model:{value:t.transName,callback:function(a){e.$set(t,"transName",a)},expression:"item.transName"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"动作标识"}},[a("el-input",{attrs:{placeholder:"修改动作标识",disabled:e.flag},model:{value:t.casecode,callback:function(a){e.$set(t,"casecode",a)},expression:"item.casecode"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"步骤序号"}},[a("el-input",{attrs:{placeholder:"请输入关键序号",disabled:e.flag},model:{value:t.steporder,callback:function(a){e.$set(t,"steporder",a)},expression:"item.steporder"}})],1),e._v(" "),a("br"),e._v(" "),a("el-form-item",{attrs:{label:"关联脚本"}},[a("el-button",{attrs:{type:"primary",size:"small"},on:{click:function(t){return e.showScriptDialog(s)}}},[e._v("查看脚本\n\t\t\t\t\t\t\t\t")])],1)],1),e._v(" "),a("div",{staticClass:"nodeData"},[a("el-row",[a("p",[e._v("节点数据")])]),e._v(" "),a("el-form",{attrs:{inline:!0,"label-width":"140px"}},e._l(t.nodeData,(function(t,s){return a("el-form-item",{key:s,attrs:{label:t.widgetName+t.colName}},[a("p",[a("el-input",{attrs:{placeholder:"节点数据",disabled:e.flag},model:{value:t.data,callback:function(a){e.$set(t,"data",a)},expression:"it.data"}}),e._v(" "),a("el-button",{attrs:{icon:"el-icon-setting",size:"small",plain:""}})],1)])})),1)],1)],1)}))],2)],1)],1),e._v(" "),a("el-dialog",{staticClass:"dialog",attrs:{title:e.dialogTitle,visible:e.dialogVisible,width:"47%"},on:{"update:visible":function(t){e.dialogVisible=t}}},[a("el-table",{attrs:{data:e.dialogTableData,stripe:"",border:"","highlight-current-row":""}},[a("el-table-column",{attrs:{label:"#",width:"50px"},scopedSlots:e._u([{key:"default",fn:function(t){return[e._v("\n\t\t\t\t\t\t"+e._s(t.$index+1)+"\n\t\t\t\t\t")]}}])}),e._v(" "),a("el-table-column",{attrs:{label:"操作项","min-width":"40%"},scopedSlots:e._u([{key:"default",fn:function(t){return[e._v("\n\t\t\t\t\t\t"+e._s(t.row.ui?"UI: "+t.row.ui+" 元素: "+t.row.element:t.row.classType)+"\n\t\t\t\t\t")]}}])}),e._v(" "),a("el-table-column",{attrs:{label:"方法",width:"70px",prop:"method"}}),e._v(" "),a("el-table-column",{attrs:{label:"参数","min-width":"50%"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("p",[e._v(e._s(e._f("getParameters")(t.row.parameters)))])]}}])})],1),e._v(" "),a("el-row",{staticClass:"buttonsRow"},[a("el-button",{attrs:{type:"warning",size:"small",plain:""},on:{click:e.handleCancel}},[e._v("取消\n\t\t\t\t")]),e._v(" "),a("el-button",{attrs:{type:"primary",size:"small"},on:{click:e.handleSure}},[e._v("确定\n\t\t\t\t")])],1)],1)],1)}),[],!1,ea,"data-v-4bb3d40c",null).exports,aa={name:"batchExecutionQuery",mixins:[L.a],data:function(){return{selectedTime:"",startTime:"",endTime:"",timeSlot:"左侧日历表选择",dateDisabled:!1,params:{caseSourceChannel:"",currentPage:1,pageSize:20,queryEndTime:"",queryStartTime:"",runStatus:"",testPlanId:""},caseSources:["测试计划","场景","数据编写","模块调试"],selectedCaseSource:"",testPlans:[],selectedNameMedium:"",selectedExecutionStatus:"",executionStatuses:["初始","执行中","执行完毕","错误终止","人工终止"],tableData:[],total:0,cakePicVisable:!1,cakeTitle:"饼状图详情",chartData:{},useColor:["#22ee55","#e72210","#53becc"]}},created:function(){this.selectAllTestPlan(),this.params.queryEndTime=Date.now(),this.params.queryStartTime=this.params.queryEndTime-864e5,this.startTime=new Date(this.params.queryStartTime),this.endTime=new Date(this.params.queryEndTime),this.executeQuery()},mounted:function(){},methods:{selectAllTestPlan:function(){var e=this;d({url:"/testPlanController/selectAllTestPlan",method:"POST",params:{}}).then((function(t){console.log("获取成功",t),e.testPlans=t.testPlanEntityList})).catch((function(e){console.log("获取失败",e)}))},timeSlotSelect:function(){if(console.log("时间段",this.timeSlot),"左侧日历表选择"!=this.timeSlot){this.dateDisabled=!0;var e=Date.now();this.params.queryEndTime=e,"近一天"===this.timeSlot?this.params.queryStartTime=this.params.queryEndTime-864e5:"近一周"===this.timeSlot?this.params.queryStartTime=this.params.queryEndTime-6048e5:this.params.queryStartTime=this.params.queryEndTime-2592e6,console.log("今天",e),console.log("开始时间：",this.params.queryStartTime,"结束时间",this.params.queryEndTime);var t=new Date(this.params.queryStartTime),a=new Date(this.params.queryEndTime);console.log("开始时间：",t,"结束时间",a),this.startTime=t,this.endTime=a}else this.dateDisabled=!1,this.params.queryStartTime="",this.params.queryEndTime="",this.startTime="",this.endTime=""},executeQuery:function(){var e=this;this.params.queryStartTime=new Date(this.startTime).getTime(),this.params.queryEndTime=new Date(this.endTime).getTime(),d({url:"/batchRunCtrlController/pagedBatchQueryBatchRunCtrl",method:"POST",params:this.params}).then((function(t){console.log("查询成功",t),e.tableData=t.batchRunCtrlList,e.total=t.totalCount,console.log("total",e.total)})).catch((function(e){console.log("查询失败",e)}))},handleSizeChange:function(e){console.log("每页".concat(e,"条")),this.params.pageSize=e,this.executeQuery()},handleCurrentChange:function(e){console.log("当前".concat(e,"页")),this.params.currentPage=e,this.executeQuery()},handleRunStatusChange:function(){this.params.runStatus=this.executionStatuses.indexOf(this.selectedExecutionStatus),console.log("selectedExecutionStatus",this.params.runStatus)},handleTestPlanChange:function(){},queryRecord:function(e){this.$router.push({name:"TestRecord",query:{batchId:e.batchId,testPlan:e.testPlan}})},archive:function(e){var t=this,a=e.batchId;d({url:"/testRecordController/batchSaveTestRecord",method:"POST",params:{batchId:a}}).then((function(e){"0000"!==e.respCode&&t.$message.warning("归档失败"),t.$message.success("归档成功"),t.executeQuery()})).catch((function(e){t.$message.error("归档失败")}))},toTextPlan:function(e){this.$router.push({name:"testplanExecute",query:{textPlan:e}})},openCakePic:function(e){this.$message.success("查看饼状图"),console.log(e);document.getElementById("leftCake");var t=parseInt(e.successInsCount),a=parseInt(e.failedInsCount),s=parseInt(e.notRunInsCount);this.cakePicVisable=!0,this.chartData={columns:["name","number"],rows:[{name:"成功用例",number:t},{name:"失败用例",number:a},{name:"跳过用例",number:s}]}},handleBeforeClose:function(e){return e(),!0},cancelPicDialog:function(){this.cakePicVisable=!1}}};var sa=function(e){a("xWM8")},la=Object(m.a)(aa,(function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"page-inner"},[a("el-container",[a("el-main",[a("el-form",{attrs:{"label-width":"94px"}},[a("el-row",{attrs:{gutter:20}},[a("el-col",{attrs:{span:5,offset:0}},[a("el-form-item",{attrs:{label:"开始日期:"}},[a("el-date-picker",{attrs:{type:"datetime",placeholder:"开始日期",disabled:e.dateDisabled},model:{value:e.startTime,callback:function(t){e.startTime=t},expression:"startTime"}})],1)],1),e._v(" "),a("el-col",{attrs:{span:5,offset:0}},[a("el-form-item",{attrs:{label:"结束日期:"}},[a("el-date-picker",{attrs:{type:"datetime",placeholder:"结束日期",disabled:e.dateDisabled},model:{value:e.endTime,callback:function(t){e.endTime=t},expression:"endTime"}})],1)],1),e._v(" "),a("el-col",{attrs:{span:4.5,offset:0}},[a("el-form-item",{attrs:{"label-width":"88px",label:"时间段"}},[a("el-select",{attrs:{clearable:""},on:{change:e.timeSlotSelect},model:{value:e.timeSlot,callback:function(t){e.timeSlot=t},expression:"timeSlot"}},[a("el-option",{attrs:{value:"左侧日历表选择"}}),e._v(" "),a("el-option",{attrs:{value:"近一天"}}),e._v(" "),a("el-option",{attrs:{value:"近一周"}}),e._v(" "),a("el-option",{attrs:{value:"近一月"}})],1)],1)],1),e._v(" "),a("el-col",{attrs:{span:2}},[a("el-button",{staticStyle:{"margin-left":"30px"},attrs:{type:"primary",size:"small",icon:"el-icon-search"},on:{click:e.executeQuery}},[e._v("查询\n            ")])],1)],1),e._v(" "),a("el-row",{staticClass:"formRowTop"},[a("el-col",{attrs:{span:5,offset:0}},[a("el-form-item",{attrs:{label:"用例来源"}},[a("el-select",{attrs:{clearable:""},model:{value:e.selectedCaseSource,callback:function(t){e.selectedCaseSource=t},expression:"selectedCaseSource"}},e._l(e.caseSources,(function(e,t){return a("el-option",{key:t,attrs:{value:e}})})),1)],1)],1),e._v(" "),a("el-col",{attrs:{span:5,offset:0}},[a("el-form-item",{attrs:{label:"测试计划"}},[a("el-select",{attrs:{clearable:""},on:{change:e.handleTestPlanChange},model:{value:e.params.testPlanId,callback:function(t){e.$set(e.params,"testPlanId",t)},expression:"params.testPlanId"}},e._l(e.testPlans,(function(e,t){return a("el-option",{key:t,attrs:{label:e.nameMedium,value:e.id}})})),1)],1)],1),e._v(" "),a("el-col",{attrs:{span:5,offset:0}},[a("el-form-item",{attrs:{"label-width":"88px",label:"执行状态"}},[a("el-select",{attrs:{clearable:""},on:{change:e.handleRunStatusChange},model:{value:e.selectedExecutionStatus,callback:function(t){e.selectedExecutionStatus=t},expression:"selectedExecutionStatus"}},e._l(e.executionStatuses,(function(e,t){return a("el-option",{key:t,attrs:{value:e}})})),1)],1)],1)],1)],1),e._v(" "),a("el-table",{staticClass:"table tableStyle",attrs:{scripe:"",border:"",data:e.tableData}},[a("el-table-column",{attrs:{align:"center","min-width":"9.7%",label:"操作"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("el-button",{attrs:{type:"primary",size:"mini"},on:{click:function(a){return e.queryRecord(t.row)}}},[e._v("查看记录单\n            ")]),e._v(" "),a("el-button",{attrs:{type:"primary",size:"mini"},on:{click:function(a){return e.archive(t.row)}}},[e._v("归档\n            ")])]}}])}),e._v(" "),a("el-table-column",{attrs:{align:"center","min-width":"5.8%",label:"发起用户",prop:"startUser"}}),e._v(" "),a("el-table-column",{attrs:{"min-width":"5.8%",label:"用例来源",align:"center",prop:"instanceSource"}}),e._v(" "),a("el-table-column",{attrs:{"min-width":"9.1%",align:"center",label:"测试计划"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("el-button",{attrs:{type:"primary",size:"mini"},on:{click:function(a){return e.toTextPlan(t.row.textPlan)}}},[e._v(e._s(t.row.testPlanName)+"\n            ")])]}}])}),e._v(" "),a("el-table-column",{attrs:{"min-width":"5.8%",label:"执行轮次",align:"center",prop:"executionRound"}}),e._v(" "),a("el-table-column",{attrs:{"min-width":"5.8%",label:"用例总数",align:"center",prop:"totalInsCount"}}),e._v(" "),a("el-table-column",{attrs:{"min-width":"6.8%",label:"成功用例数",align:"center",prop:"successInsCount"}}),e._v(" "),a("el-table-column",{attrs:{"min-width":"6.8%",label:"失败用例数",align:"center"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("span",{staticClass:"failedStyle"},[e._v(e._s(t.row.failedInsCount)+"\n            ")])]}}])}),e._v(" "),a("el-table-column",{attrs:{"min-width":"6.8%",label:"跳过用例数",align:"center",prop:"notRunInsCount"}}),e._v(" "),a("el-table-column",{attrs:{"min-width":"6.8%",align:"center",label:"用例饼状图"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("el-button",{attrs:{type:"primary",size:"mini"},on:{click:function(a){return e.openCakePic(t.row)}}},[e._v("查看饼状图\n            ")])]}}])}),e._v(" "),a("el-table-column",{attrs:{"min-width":"5.8%",label:"执行状态",align:"center",prop:"executingStatus"}}),e._v(" "),a("el-table-column",{attrs:{"min-width":"5.8%",label:"执行结果",align:"center"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("span",{class:"全部失败"===t.row.executedResult?"failedStyle":""},[e._v(e._s(t.row.executedResult)+"\n            ")])]}}])}),e._v(" "),a("el-table-column",{attrs:{"min-width":"9.6%",label:"创建时间",align:"center",prop:"createTime",formatter:e.transTime}}),e._v(" "),a("el-table-column",{attrs:{"min-width":"9.6%",label:"完成时间",align:"center",prop:"finishTime",formatter:e.transTime}})],1),e._v(" "),a("div",{staticClass:"paginationStyle"},[a("el-pagination",{attrs:{"page-size":e.params.pageSize,"page-sizes":[5,10,20,50],"current-page":e.params.currentPage,total:e.total,layout:"total,sizes,prev,pager,next,jumper"},on:{"size-change":e.handleSizeChange,"current-change":e.handleCurrentChange}})],1),e._v(" "),a("el-dialog",{attrs:{width:"40%",title:e.cakeTitle,visible:e.cakePicVisable,"before-close":e.handleBeforeClose},on:{"update:visible":function(t){e.cakePicVisable=t}}},[a("div",{staticClass:"mainCakeDiv"},[a("div",{staticClass:"leftCakeDiv",attrs:{id:"leftCake"}},[a("ve-pie",{attrs:{data:e.chartData,colors:e.useColor}})],1),e._v(" "),a("div",{staticClass:"rightCakeDiv"},[a("table",[a("tr",[a("td",[a("div",{staticClass:"colorSuccess"})]),e._v(" "),a("td",{staticClass:"statusDes"},[e._v("成功用例数")])]),e._v(" "),a("tr",[a("td",[a("div",{staticClass:"colorFail"})]),e._v(" "),a("td",{staticClass:"statusDes"},[e._v("失败用例数")])]),e._v(" "),a("tr",[a("td",[a("div",{staticClass:"colorJump"})]),e._v(" "),a("td",{staticClass:"statusDes"},[e._v("跳过用例数")])])])])]),e._v(" "),a("hr",{staticClass:"hrDiv"}),e._v(" "),a("el-row",{staticClass:"cancelRowStyle"},[a("el-col",{attrs:{span:22,offset:0}}),e._v(" "),a("el-col",{attrs:{span:1,offset:0}},[a("el-button",{attrs:{type:"danger",size:"small"},on:{click:e.cancelPicDialog}},[e._v("取消")])],1)],1)],1)],1)],1)],1)}),[],!1,sa,"data-v-6e0a4249",null).exports,na={name:"testrecord",mixins:[L.a],data:function(){return{queryMethods:["按测试轮次","按批量执行"],selectedQueryMethod:"按测试轮次",testRounds:[],selectedTestRound:"",testPlans:[],selectedTestPlan:"",recordStatus:[{label:"全部",value:""},{label:"激活",value:"2"},{label:"未激活",value:"1"},{label:"已删除",value:"3"}],selectedStatus:"",inTestRound:"",executionStatus:[{label:"初始未执行",value:"10"},{label:"已分配等待执行",value:"12"},{label:"正在执行",value:"13"},{label:"成功",value:"2"},{label:"失败",value:"3"},{label:"跳过执行",value:"9"},{label:"部分成功",value:"4"}],selectedExecutionStatus:"",sceneList:[],selectedSceneList:"",tableData:[],casecode:"",pageSize:20,currentPage:1,totalCount:0,dialogVisible:!1,formByBatch:{},ids:[],runId:"",testPlanId:""}},created:function(){this.runId=this.$route.query.batchId,this.testPlanId=this.$route.query.testPlan,console.log("传递的参数",this.runId,this.testPlanId),this.selectAllScene(),this.selectAllTestPlan(),this.pagedBatchQueryScene(),this.checkTableData(),this.pagedBatchQueryTestRecordByRunId()},methods:{checkTableData:function(){this.dialogVisible=0===this.tableData.length},pagedBatchQueryTestRecordByRunId:function(){var e=this;d({url:"/testRecordController/pagedBatchQueryTestRecordByRunId",method:"POST",params:{currentPage:1,orderColumns:"casecode",orderType:"asc",pageSize:"20",runId:this.runId,testPlanId:this.testPlanId}}).then((function(t){"0000"===!t.respCode&&e.$message.warning("空记录！请尝试查询！"),e.tableData=t.list})).catch((function(t){e.$message.warning("空记录！请尝试查询！")}))},queryByTestRound:function(){var e=this;d({url:"/testRecordController/pagedBatchQueryTestRecordByTestRound",method:"POST",params:{casecode:this.casecode,currentPage:this.currentPage,executeStatus:this.selectedExecutionStatus,orderColumns:"casecode",orderType:"asc",pageSize:this.pageSize,recorderStatus:this.selectedStatus,sceneId:"",testRound:this.selectedTestRound}}).then((function(t){console.log("查询成功",t),0==t.totalCount?(e.tableData=[],e.totalCount=t.totalCount,e.$message.success(t.respMsg)):(e.tableData=t.list,e.totalCount=t.totalCount)})).catch((function(t){console.log("查询失败",t),e.$message.warning("无此类数据"),e.tableData=[],e.totalCount=0}))},queryByBatch:function(){var e=this;this.formByBatch={casecode:0,currentPage:this.currentPage,executeRound:this.inTestRound,executeStatus:this.selectedExecutionStatus,orderColumns:"casecode",orderType:"asc",pageSize:this.pageSize,sceneId:0,testPlanId:this.selectedTestPlan},console.log("参数",this.formByBatch),d({url:"/testRecordController/pagedBatchQueryTestRecordByTestPlan",method:"POST",params:this.formByBatch}).then((function(e){console.log("数据获取成功",e)})).catch((function(t){e.$message.error("数据获取失败")}))},throwAway:function(){var e=this;0===this.ids.length?this.$message.warning("请选择要丢弃的项"):d({url:"/testRecordController/batchDelete",method:"POST",params:{ids:this.ids}}).then((function(t){"0000"===t.respCode?(e.pagedBatchQueryTestRecordByRunId(),e.$message.success(t.respMsg)):e.queryByTestRound()})).catch((function(e){console.log("丢弃成功")}))},viewReport:function(e){window.open("http://140.143.16.21:8080/"+e.resourcePath)},showDetail:function(e){console.log("显示详情",e),this.$router.push({name:"CaseOperation",query:{batchId:e.runId,testPlanId:e.testPlanId,testcaseId:e.caseId,sceneId:e.sceneId}})},handleSizeChange:function(e){console.log("当前".concat(e,"条")),this.pageSize=e,this.queryByTestRound()},handleCurrentChange:function(e){this.currentPage=e,this.queryByTestRound()},selectAllTestround:function(){var e=this;d({url:"/testroundController/selectAllTestround",method:"GET"}).then((function(t){e.testRounds=t.testroundEntityList,e.selectedTestRound=t.testroundEntityList[0].name})).catch((function(e){}))},selectAllScene:function(){d({url:"/sceneController/selectAllScene",method:"GET"}).then((function(e){})).catch((function(e){}))},selectAllTestPlan:function(){var e=this;d({url:"/testPlanController/selectAllTestPlan",method:"POST",params:{}}).then((function(t){console.log("测试计划列表获取成功",t),e.testPlans=t.testPlanEntityList})).catch((function(e){}))},pagedBatchQueryScene:function(){d({url:"/sceneController/pagedBatchQueryScene",method:"POST",params:{caseLibId:"1241",currentPage:this.currentPage,orderColumns:"modified_time",orderType:"DESC",pageSize:this.pageSize}}).then((function(e){})).catch((function(e){}))},handleSelctionChange:function(e){var t=this;this.ids=[],e.forEach((function(e){t.ids.push(Number(e.id))})),console.log("handleSelctionChange",e,this.ids)}}};var oa=function(e){a("Yiy1")},ia=Object(m.a)(na,(function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"page-inner"},[a("el-container",[a("el-main",[a("el-form",{staticClass:"formTop",attrs:{"label-width":"94px"}},[a("el-row",{attrs:{gutter:20}},[a("el-col",{attrs:{span:5,offset:0}},[a("el-form-item",{attrs:{label:"查询方式"}},[a("el-select",{model:{value:e.selectedQueryMethod,callback:function(t){e.selectedQueryMethod=t},expression:"selectedQueryMethod"}},e._l(e.queryMethods,(function(e,t){return a("el-option",{key:t,attrs:{value:e}})})),1)],1)],1),e._v(" "),a("el-col",{attrs:{span:5}},[a("el-form-item",{attrs:{label:"按测试轮次"===e.selectedQueryMethod?"测试轮次":"测试计划"}},["按测试轮次"===e.selectedQueryMethod?a("el-select",{attrs:{clearable:""},model:{value:e.selectedTestRound,callback:function(t){e.selectedTestRound=t},expression:"selectedTestRound"}},e._l(e.testRounds,(function(e,t){return a("el-option",{key:t,attrs:{value:e.name}})})),1):a("el-select",{attrs:{clearable:""},model:{value:e.selectedTestPlan,callback:function(t){e.selectedTestPlan=t},expression:"selectedTestPlan"}},e._l(e.testPlans,(function(e,t){return a("el-option",{key:t,attrs:{label:e.nameMedium,value:e.id}})})),1)],1)],1),e._v(" "),a("el-col",{attrs:{span:5}},[a("el-form-item",{attrs:{"label-width":"90px",label:"按测试轮次"===e.selectedQueryMethod?"记录单状态":"执行轮次"}},["按测试轮次"===e.selectedQueryMethod?a("el-select",{attrs:{clearable:""},on:{clear:e.queryByTestRound},model:{value:e.selectedStatus,callback:function(t){e.selectedStatus=t},expression:"selectedStatus"}},e._l(e.recordStatus,(function(e,t){return a("el-option",{key:t,attrs:{value:e.value,label:e.label}})})),1):a("el-input",{attrs:{placeholder:"请输入测试轮次"},model:{value:e.inTestRound,callback:function(t){e.inTestRound=t},expression:"inTestRound"}})],1)],1),e._v(" "),a("el-col",{staticClass:"buttons",attrs:{span:9,offset:0}},["按测试轮次"===e.selectedQueryMethod?a("el-button",{attrs:{type:"primary",size:"small",icon:"el-icon-search"},on:{click:e.queryByTestRound}},[e._v("查询")]):a("el-button",{attrs:{type:"primary",size:"small",icon:"el-icon-search"},on:{click:e.queryByBatch}},[e._v("查询")]),e._v(" "),a("el-button",{attrs:{type:"danger",size:"small",icon:"el-icon-delete"},on:{click:e.throwAway}},[e._v("丢弃")])],1)],1),e._v(" "),a("el-row",{attrs:{gutter:20}},[a("el-col",{attrs:{span:5}},[a("el-form-item",{attrs:{label:"执行状态(选)"}},[a("el-select",{attrs:{clearable:""},on:{clear:e.queryByTestRound},model:{value:e.selectedExecutionStatus,callback:function(t){e.selectedExecutionStatus=t},expression:"selectedExecutionStatus"}},e._l(e.executionStatus,(function(e,t){return a("el-option",{key:t,attrs:{value:e.value,label:e.label}})})),1)],1)],1),e._v(" "),a("el-col",{attrs:{span:5}},[a("el-form-item",{attrs:{label:"场景列表(选)"}},[a("el-select",{model:{value:e.selectedSceneList,callback:function(t){e.selectedSceneList=t},expression:"selectedSceneList"}},e._l(e.sceneList,(function(e,t){return a("el-option",{key:t,attrs:{value:e}})})),1)],1)],1),e._v(" "),a("el-col",{attrs:{span:5}},[a("el-form-item",{attrs:{label:"用例编号(选)"}},[a("el-input",{attrs:{placeholder:"填写用例编号",clearable:""},model:{value:e.casecode,callback:function(t){e.casecode=t},expression:"casecode"}})],1)],1)],1)],1),e._v(" "),a("el-table",{staticClass:"table",staticStyle:{"margin-top":"15px"},attrs:{width:"100%",border:"",scrope:"","highlight-current-row":!0,data:e.tableData},on:{"selection-change":e.handleSelctionChange}},[a("el-table-column",{attrs:{"min-width":"4.95%",align:"center",type:"selection"}}),e._v(" "),a("el-table-column",{attrs:{"min-width":"12.95%",align:"center",prop:"sceneName",label:"场景名称"}}),e._v(" "),a("el-table-column",{attrs:{"min-width":"6.46%",align:"center",prop:"executeRound",label:"执行轮次"}}),e._v(" "),a("el-table-column",{attrs:{"min-width":"12.5%",align:"center",prop:"casecode",label:"用例编号",sortable:""}}),e._v(" "),a("el-table-column",{attrs:{"min-width":"8.46%",align:"center",prop:"flownodeName",label:"节点名称"}}),e._v(" "),a("el-table-column",{attrs:{"min-width":"10.06%",align:"center",prop:"recorderStatus",label:"记录单状态"}}),e._v(" "),a("el-table-column",{attrs:{"min-width":"7.51%",align:"center",label:"执行结果状态"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("el-tag",{attrs:{type:"成功"==t.row.executeStatus?"success":"部分成功"==t.row.executeStatus?"primary":"跳过执行"==t.row.executeStatus?"warning":"失败"==t.row.executeStatus||null==t.row.executeStatus?"danger":"info"},domProps:{textContent:e._s(t.row.executeStatus?t.row.executeStatus:"未知")}})]}}])}),e._v(" "),a("el-table-column",{attrs:{"min-width":"20.4%",align:"center",prop:"sourceChannel",label:"来源渠道"}}),e._v(" "),a("el-table-column",{attrs:{"min-width":"9.61%",align:"center",label:"执行报告"},scopedSlots:e._u([{key:"default",fn:function(t){return[null===t.row.recorderData?a("span",{staticClass:"noRecord"},[e._v("无记录")]):a("a",{staticClass:"showRecordA",attrs:{type:"primary",size:"mini"},on:{click:function(a){return a.preventDefault(),e.viewReport(t.row)}}},[e._v("点击查看")])]}}])}),e._v(" "),a("el-table-column",{attrs:{"min-width":"7.1%",align:"center",label:"操作"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("el-button",{attrs:{type:"primary",size:"mini"},on:{click:function(a){return e.showDetail(t.row)}}},[e._v("详情")])]}}])})],1),e._v(" "),a("el-pagination",{staticClass:"pagination",attrs:{"page-size":e.pageSize,"page-sizes":[5,10,20,50],"current-page":e.currentPage,total:e.totalCount,layout:"total,sizes,prev,pager,next,jumper"},on:{"size-change":e.handleSizeChange,"current-change":e.handleCurrentChange}}),e._v(" "),a("el-dialog",{attrs:{title:"提示",width:"30%","visible.sync":"false"}},[a("h2",{staticClass:"dialogText"},[e._v("空记录！请尝试查询！")]),e._v(" "),a("el-divider"),e._v(" "),a("div",{staticClass:"buttonBottom"},[a("el-button",{attrs:{type:"primary"},on:{click:function(t){e.dialogVisible=!1}}},[e._v("确定")])],1)],1)],1)],1)],1)}),[],!1,oa,"data-v-85b7fec6",null).exports,ra={name:"ScenceSetting",mixins:[L.a],data:function(){return{isHighExpand:!1,foldHigh:"<< 收起高级功能",sceneId:"",caseLibId:"1278",sceneEntity:{},addDialogVisible:!1,addForm:{caseIds:[],creatorId:"",id:""},testcaseViewRespDTOList:[],isIndeterminate:!0,checkAll:!1,checkedSceneTestCases:[],sceneTestCases:[],length:0,removeForm:{caseIds:[],id:""},drawerVisible:!1,direction:"btt",drawTitles:["执行时间规划","触发器设置","执行过程控制","数据资源池配置","配置移动端设备信息"],selectedDrawIndex:0,timeForm:{time:"",timeIdentification:""},triggerForm:{actions:[],conditionRelate:"",conditions:[],desc:"",name:"",occasions:[],sceneId:this.sceneId},triggerRow:{conditionName:"",matchMethod:"",patternValue:""},conditionNames:[{label:"用例编号",value:1},{label:"测试系统名称",value:2},{label:"功能点名称",value:3}],trigerDtoList:[],stateDtos:[],state:"",triggerStates:[{id:1,label:"启用"},{id:0,label:"禁用"}],opportunityList:[{label:"场景执行前",value:"1"},{label:"场景执行后",value:"2"},{label:"用例执行前",value:"3"},{label:"用例执行后",value:"4"},{label:"元素对象方法执行前",value:"5"},{label:"元素对象方法执行后",value:"6"}],triggerVisible:!1,triggerId:"",triggerFlag:1,conditions:[{label:"满足以下所有条件",value:1},{label:"满足以下任一条件",value:2},{label:"无条件限制",value:3}],selectedOperation:"",selectedTriggerList:[],controlForm:{},dataConfigureForm:{},dataPoolForm:{dataPoolName:"场景数据池",objectId:"2",dataName:"",dataValue:"",dataDesc:""},dataPoolList:[],dataPoolFlag:0,dataPoolVisible:!1,dataPoolRowId:"",mobileForm:{deviceType:"",deviceName:"",autoType:"",packageName:"",appActivy:"",isReset:!0,interfacePath:""},exeStrategy1Status:"",exeStrategy2Start:"",exeStrategy2Order:"",exeStrategy2Status:"",exeStrategy3Start:"",exeStrategy3Order:"",exeStrategy3Status:"",exeStrategyErr:"",executionStrategy:[{id:1,label:"全部重新执行"},{id:2,label:"跳过执行成功的用例"}],startStrategy:[{id:1,label:"从第一个执行节点开始"},{id:2,label:"从第一个失败的执行节点开始"}],orderStrategy:[{id:1,label:"顺序无关执行"},{id:2,label:"强制顺序执行"}],errorOperations:[{id:1,label:"出错后终止"},{id:2,label:"出错后继续执行"},{id:3,label:"出错后由用户选择"}],debugVisible:!1,debugRound:"",debugRange:["全部执行","执行选中的用例"],selectedDebugRange:"",caseIdList:[],showFun:"展开高级功能 >>",hideFun:"",isCollapse:!1,baseWidth:0}},created:function(){this.sceneId=this.$route.query.id,this.caseLibId=this.$route.query.caseLibId,this.selectScene(),this.getMobileInfo(),this.pagedBatchQueryTestCase(),this.pagedBatchQueryDataPool()},mounted:function(){var e=this;this.sort(),this.baseWidth=document.getElementsByClassName("right-content")[0].offsetWidth,a("7sSR")().listenTo(document.getElementsByClassName("right-content")[0],(function(t){var a=t.offsetWidth;e.isCollapse=a===e.baseWidth,console.log("elementResizeDectoreMaker",a)}))},methods:{sort:function(){var e=this,t=document.getElementById("sortableGroup");new We.default.create(t,{animation:150,sort:!0,delay:0,preventOnFilter:!1,onEnd:function(t){console.log(t),console.log("原先的地址",t.oldIndex),console.log("新的地址",t.newIndex);var a=e.sceneTestCases.splice(t.oldIndex,1)[0];e.sceneTestCases.splice(t.newIndex,0,a),console.log("地址修改完",e.sceneTestCases)}})},selectScene:function(){var e=this;d({url:"/sceneController/selectScene",method:"POST",params:{id:this.sceneId}}).then((function(t){e.sceneTestCases=t.selectSceneDto.caseDtos,e.length=t.selectSceneDto.caseDtos.length,e.addForm.caseIds=[],e.removeForm.caseIds=[],e.sceneEntity=t.selectSceneDto.sceneEntity,e.exeStrategy1Status=e.sceneEntity.exeStrategy1Status?e.sceneEntity.exeStrategy1Status:1,e.exeStrategy2Order=e.sceneEntity.exeStrategy2Order?e.sceneEntity.exeStrategy2Order:1,e.exeStrategy2Start=e.sceneEntity.exeStrategy2Start?e.sceneEntity.exeStrategy2Start:1,e.exeStrategy2Status=e.sceneEntity.exeStrategy2Status?e.sceneEntity.exeStrategy2Status:1,e.exeStrategy3Order=e.sceneEntity.exeStrategy3Order?e.sceneEntity.exeStrategy3Order:1,e.exeStrategy3Start=e.sceneEntity.exeStrategy3Start?e.sceneEntity.exeStrategy3Start:1,e.exeStrategy3Status=e.sceneEntity.exeStrategy3Status?e.sceneEntity.exeStrategy3Status:1,e.exeStrategyErr=e.sceneEntity.exeStrategyErr?e.sceneEntity.exeStrategyErr:1})).catch((function(t){e.$message.error("场景数据获取失败")}))},pagedBatchQueryTestCase:function(){var e=this;d({url:"/testcase/pagedBatchQueryTestCase",method:"POST",params:{caseLibId:this.caseLibId,currentPage:1,orderColumns:"id",orderType:"asc",pageSize:3e3}}).then((function(t){console.log("res",t),e.testcaseViewRespDTOList=t.testcaseViewRespDTOList})).catch((function(t){e.$message.error("场景列表获取失败")}))},getMobileInfo:function(){var e=this;d({url:"/mobileController/queryMobile",method:"POST",params:{sceneId:this.sceneId}}).then((function(t){console.log("数据获取成功",t);var a=t.mobileProperties;a?(e.mobileForm.appActivy=a.appActivity,e.mobileForm.packageName=a.appPackage,e.mobileForm.autoType=a.automationName,e.mobileForm.deviceName=a.deviceName,e.mobileForm.isReset,a.noReset,e.mobileForm.deviceType=a.platformName,e.sceneId=a.sceneId,e.mobileForm.interfacePath=a.url):(e.mobileForm.appActivy="",e.mobileForm.packageName="",e.mobileForm.autoType="",e.mobileForm.deviceName="",e.mobileForm.isReset,e.mobileForm.deviceType="",e.sceneId=-1,e.mobileForm.interfacePath="")})).catch((function(e){console.log("该被测系统无移动端内容")}))},insertTestcaseToScene:function(){var e=this;this.addForm.id=this.sceneId,this.addForm.creatorId="3",d({url:"/sceneController/insertTestcaseToScene",method:"POST",params:this.addForm}).then((function(t){e.$message.success(t.respMsg),e.selectScene()})).catch((function(t){e.$message.error("添加失败")}))},changeSelect:function(){console.log(this.addForm.caseIds)},addScene:function(){this.addDialogVisible=!0,this.removeForm.caseIds=[]},addSure:function(){this.insertTestcaseToScene(),this.addDialogVisible=!1},addCancel:function(){this.addDialogVisible=!1},deleteTestcaseFromScene:function(){var e=this;0===this.removeForm.caseIds.length?this.$message.warning("请选择要删除的用例"):(this.removeForm.id=this.sceneId,d({url:"/sceneController/deleteTestcaseFromScene",method:"POST",params:this.removeForm}).then((function(t){e.$message.success("删除成功"),e.isIndeterminate=!1,e.checkAll=!1,e.selectScene()})).catch((function(t){e.$message.error("删除失败")})))},executionTimePlanning:function(){this.selectedDrawIndex=0,this.drawerVisible=!0},saveExecutionTimePlanning:function(){var e=this;d({url:"/sceneController/sceneTestcaseSetting",method:"POST",params:{sceneId:this.sceneId,caseIds:[],executeTime:this.timeForm.time,executeDateFlag:this.timeForm.timeIdentification,combineGroupName:"",orderNum:1,runTotalNumber:2,modifierId:3}}).then((function(t){"0000"===t.respCode?e.$message.success(t.respMsg):e.$message.error(t.respMsg)})).catch((function(t){e.$message.error("保存失败")}))},triggerSetting:function(){this.queryTrigerForScene(),this.selectedDrawIndex=1,this.drawerVisible=!0},executionProcessControl:function(){this.selectedDrawIndex=2,this.drawerVisible=!0},dataResourcePoolConfiguration:function(){this.selectedDrawIndex=3,this.drawerVisible=!0},mobileTerminalConfiguration:function(){this.selectedDrawIndex=4,this.drawerVisible=!0,this.getMobileInfo()},handleCheckAllChange:function(e){var t=this;this.removeForm.caseIds=[],console.log("handleCheckAllChange",e),this.checkedSceneTestCases=e?this.sceneTestCases:[],this.checkedSceneTestCases==this.sceneTestCases&&this.sceneTestCases.forEach((function(e){t.removeForm.caseIds.push(e.id)})),this.isIndeterminate=!1,console.log(this.removeForm)},handleCheckedSceneTestCases:function(e){var t=this;this.removeForm.caseIds=[];var a=e.length;this.checkAll=a===this.sceneTestCases.length,this.isIndeterminate=a>0&&a<this.sceneTestCases.length,e.forEach((function(e){t.removeForm.caseIds.push(e.id)})),console.log(this.removeForm)},handleBeforeClose:function(e){this.$confirm("是否关闭"+this.drawTitles[this.selectedDrawIndex],"提示",{confirmButtonText:"确认",cancelButtonText:"取消",type:"warning"}).then((function(){e()})).catch((function(){}))},expandDebug:function(){this.debugVisible=!0,d({url:"",method:"POST",params:c.a.stringify({debuground:"",sceneId:type,exeScope:"",selectState:[]})}).then((function(e){console.log("debug成功")})).catch((function(e){console.log("debug失败")}))},foldDebug:function(){this.debugVisible=!1},triggerAddRow:function(){this.triggerForm.conditions.push({objectName:"",matchType:"",value:""})},deleteTriggerTableRow:function(e){this.triggerForm.conditions.splice(e,1)},addAction:function(){console.log("addAction新建对象");this.triggerForm.actions.push({actionName:"",actionType:"",scriptContent:""})},deleteRowFromExecutionAction:function(e){this.triggerForm.actions.splice(e,1)},addTrigger:function(){this.triggerVisible=!0,this.triggerFlag=1,this.triggerForm.actions=[],this.triggerForm.conditionRelate="",this.triggerForm.conditions=[],this.triggerForm.desc="",this.triggerForm.name="",this.triggerForm.occasions=[]},editTrigger:function(){0===this.selectedTriggerList.length?this.$message.error("请选择要修改项"):(this.triggerFlag=2,this.triggerVisible=!0,this.queryTriger())},queryTriger:function(){var e=this;d({url:"/trigerController/queryTriger",method:"POST",params:{id:this.triggerId}}).then((function(t){e.triggerForm.actions=t.actions,e.triggerForm.conditionRelate=t.trigerEntity.exeConditionRelate,e.triggerForm.conditions=t.conditions?t.conditions:[],e.triggerForm.desc=t.trigerEntity.trigerDesc,e.triggerForm.name=t.trigerEntity.trigerName,e.triggerForm.occasions=t.occasions,console.log("修改",e.triggerForm,t)})).catch((function(e){console.log("失败")}))},changeCheckBoxGroup:function(){console.log("changeVaue",this.triggerForm.conditionRelate)},triggerSure:function(){var e=this;if(console.log("请求对象",this.triggerForm),1===this.triggerFlag)d({url:"/trigerController/insertTriger",method:"POST",params:{actions:JSON.stringify(this.triggerForm.actions),conditionRelate:this.triggerForm.conditionRelate,conditions:JSON.stringify(this.triggerForm.conditions),desc:this.triggerForm.desc,name:this.triggerForm.name,occasions:JSON.stringify(this.triggerForm.occasions),sceneId:this.sceneId}}).then((function(t){e.$message.success("添加成功"),e.queryTrigerForScene()})).catch((function(t){e.$message.error("场景数据添加失败")}));else{var t={actions:JSON.stringify(this.triggerForm.actions),conditionRelate:this.triggerForm.conditionRelate,conditions:JSON.stringify(this.triggerForm.conditions),desc:this.triggerForm.desc,id:this.triggerId,modifyType:2,name:this.triggerForm.name,occasions:JSON.stringify(this.triggerForm.occasions)};d({url:"/trigerController/updataTriger",method:"POST",params:t}).then((function(t){e.$message.success("修改成功"),e.queryTrigerForScene()})).catch((function(t){e.$message.error("场景数据添加失败")})),console.log("修改",t)}this.triggerVisible=!1},triggerDelete:function(){var e=this;0==this.selectedTriggerList.length?this.$message.warning("请选择要删除的列"):this.$confirm("此操作将会删除当前选中数据","警告",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then((function(){e.deleteTriger()})).catch((function(){e.triggerCancel()}))},deleteTriger:function(){var e=this;d({url:"/trigerController/deleteTriger",method:"POST",params:{id:this.selectedTriggerList[0].id}}).then((function(t){e.$message.success("删除成功"),e.queryTrigerForScene()})).catch((function(t){e.$message.error("删除失败")}))},triggerCancel:function(){this.triggerVisible=!1},saveTrigger:function(){var e=this;d({url:"/trigerController/updateTrigerState",method:"POST",params:{stateDtos:this.trigerDtoList}}).then((function(t){"0000"===!t.respCode&&e.$message.error("保存失败"),e.$message.success("保存成功")})).catch((function(t){e.$message.error("保存失败")}))},queryTrigerForScene:function(){var e=this;d({url:"/trigerController/queryTrigerForScene",method:"POST",params:{sceneId:this.sceneId}}).then((function(t){console.log("查询成功",t),e.trigerDtoList=t.trigerDtoList})).catch((function(t){e.$message.error("触发器获取失败")}))},handleSelectionChange:function(e){this.selectedTriggerList=e,this.triggerId=e[0].id,console.log("修改",e,this.triggerId)},addDataPool:function(e){this.dataPoolFlag=e,0===e?this.dataPoolVisible=!0:1===e&&""===this.dataPoolRowId?this.$message.warning("请选择要修改的行"):(this.dataPoolVisible=!0,this.setDataPool())},setDataPool:function(){var e=this,t=this.dataPoolList.find((function(t){return t.id===e.dataPoolRowId}));console.log("setDataPool",t,this.dataPoolList),this.dataPoolForm.dataName=t.dataName,this.dataPoolForm.dataValue=t.dataValue,this.dataPoolForm.dataDesc=t.dataDesc,this.dataPoolForm.dataPoolName=t.poolName,this.dataPoolForm.objectId=t.poolObjId},deleteDataPool:function(){var e=this;""===this.dataPoolRowId?this.$message.warning("请选择要删除的行"):d({url:"/dataPool/deleteSingleDataPool",method:"POST",params:{id:this.dataPoolRowId}}).then((function(t){e.$message.success("删除成功"),e.pagedBatchQueryDataPool()})).catch((function(t){e.$message.error("删除失败")}))},addDataPoolSure:function(){var e=this,t="",a={},s="",l="";0===this.dataPoolFlag?(t="/dataPool/addSingleDataPool",a={poolName:this.dataPoolForm.dataPoolName,poolObjId:this.dataPoolForm.objectId,dataName:this.dataPoolForm.dataName,dataValue:this.dataPoolForm.dataValue,dataDesc:this.dataPoolForm.dataDesc},s="添加成功",l="添加失败"):(t="/dataPool/modifySingleDataPool",a={poolName:this.dataPoolForm.dataPoolName,poolObjId:this.dataPoolForm.objectId,dataName:this.dataPoolForm.dataName,dataValue:this.dataPoolForm.dataValue,dataDesc:this.dataPoolForm.dataDesc,id:this.dataPoolRowId},s="修改成功",l="修改失败"),d({url:t,method:"POST",params:a}).then((function(t){e.$message.success(s),e.dataPoolVisible=!1,e.pagedBatchQueryDataPool(),e.dataPoolForm.dataName="",e.dataPoolForm.dataValue="",e.dataPoolForm.dataDesc=""})).catch((function(t){e.$message.error(l)}))},addDataPoolCancel:function(){this.dataPoolVisible=!1},handleDataPoolSelectionChange:function(e){e.length>0?this.dataPoolRowId=e[e.length-1].id:this.dataPoolRowId="",console.log("handleDataPoolSelectionChange",e,this.dataPoolRowId)},initMobile:function(){var e=this,t={appActivity:this.mobileForm.appActivy,appPackage:this.mobileForm.packageName,automationName:this.mobileForm.autoType,deviceName:this.mobileForm.deviceName,noReset:this.mobileForm.isReset,platformName:this.mobileForm.deviceType,sceneId:Number(this.sceneId),url:this.mobileForm.interfacePath};console.log("参数",t),d({url:"/mobileController/initMobile",method:"POST",params:t}).then((function(t){e.$message.success("添加成功")})).catch((function(t){e.$message.error("添加失败")}))},pagedBatchQueryDataPool:function(){var e=this;console.log(this.errorOperation),d({url:"/dataPool/pagedBatchQueryDataPool",method:"POST",params:{pageSize:1e4,currentPage:1,orderType:"asc",orderColumns:"id",poolName:"场景数据池",poolObjId:2}}).then((function(t){e.dataPoolList=t.list,console.log("pagedBatchQueryDataPool",e.dataPoolList)})).catch((function(t){e.$message.error("无数据资源池配置")}))},saveExecutionProcess:function(){var e=this,t={exeStrategy1Status:this.exeStrategy1Status,exeStrategy2Order:this.exeStrategy2Order,exeStrategy2Start:this.exeStrategy2Start,exeStrategy2Status:this.exeStrategy2Status,exeStrategy3Order:this.exeStrategy3Order,exeStrategy3Start:this.exeStrategy3Start,exeStrategy3Status:this.exeStrategy3Status,exeStrategyErr:this.exeStrategyErr,id:this.sceneId};d({url:"/sceneController/sceneStrategySetting",method:"POST",params:t}).then((function(t){e.$message.success("保存成功")})).catch((function(t){e.$message.error("保存失败")}))},scenedubug:function(){var e=this;d({url:"/executeController/scenedubug",method:"POST",params:{debuground:this.debugRound,sceneId:this.sceneId,exeScope:"",selectState:[]}}).then((function(t){e.$message.success("保存成功")})).catch((function(t){e.$message.error("保存成功")}))},sceneTestcaseSortSave:function(){var e=this;this.caseIdList=[],this.sceneTestCases.forEach((function(t){e.caseIdList.push(t.id)})),console.log("地址",this.caseIdList,this.sceneId),d({url:"/sceneController/sceneTestcaseSortSave",method:"POST",params:{sceneId:this.sceneId,caseIdList:this.caseIdList}}).then((function(t){e.$message.success("保存成功"),e.selectScene()})).catch((function(t){e.$message.error("保存成功")}))}}};var ca=function(e){a("XTV0")},da=Object(m.a)(ra,(function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"page-inner"},[a("el-container",[a("el-main",[a("el-row",{staticClass:"btnRows"},[a("el-button",{attrs:{type:"primary",size:"small",icon:"el-icon-plus"},on:{click:e.addScene}},[e._v("添加用例")]),e._v(" "),a("el-button",{attrs:{type:"primary",size:"small",icon:"el-icon-delete"},on:{click:e.deleteTestcaseFromScene}},[e._v("移除用例")]),e._v(" "),e.isHighExpand?e._e():a("span",{staticClass:"highFunction",on:{click:function(t){e.isHighExpand=!e.isHighExpand}}},[e._v(e._s(e.showFun))]),e._v(" "),e.isHighExpand?a("span",{staticClass:"buttons"},[a("el-button",{attrs:{type:"primary",size:"small",icon:"el-icon-date",plain:""},on:{click:e.executionTimePlanning}},[e._v("执行时间规划")]),e._v(" "),a("el-button",{attrs:{type:"primary",size:"small",icon:"el-icon-setting",plain:""},on:{click:e.triggerSetting}},[e._v("触发器设置")]),e._v(" "),a("el-button",{attrs:{type:"primary",size:"small",icon:"el-icon-refresh",plain:""},on:{click:e.executionProcessControl}},[e._v("执行过程控制")]),e._v(" "),a("el-button",{attrs:{type:"primary",size:"small",icon:"el-icon-data-analysis",plain:""},on:{click:e.dataResourcePoolConfiguration}},[e._v("数据资源池配置")]),e._v(" "),a("el-button",{attrs:{type:"primary",size:"small",icon:"el-icon-mobile-phone",plain:""},on:{click:e.mobileTerminalConfiguration}},[e._v("移动端配置")]),e._v(" "),a("el-button",{staticStyle:{display:"none"},attrs:{type:"primary",size:"small",icon:"el-icon-s-tools",plain:""},on:{click:e.expandDebug}},[e._v("调试")]),e._v(" "),a("el-button",{attrs:{type:"primary",size:"small",icon:"el-icon-finished",plain:""},on:{click:e.sceneTestcaseSortSave}},[e._v("保存顺序")])],1):e._e(),e._v(" "),e.isHighExpand?a("span",{staticClass:"highFunction",on:{click:function(t){e.isHighExpand=!e.isHighExpand}}},[e._v(e._s(e.foldHigh))]):e._e()],1),e._v(" "),e.debugVisible?a("el-form",{attrs:{"label-width":"130px"}},[a("el-row",{staticClass:"debugRow",attrs:{gutter:20}},[a("el-col",{attrs:{span:5}},[a("el-form-item",{attrs:{label:"请输入调试轮次："}},[a("el-input",{attrs:{type:"number",placeholder:"调试轮次"},model:{value:e.debugRound,callback:function(t){e.debugRound=t},expression:"debugRound"}})],1)],1),e._v(" "),a("el-col",{attrs:{span:5}},[a("el-form-item",{attrs:{label:"请选择执行范围："}},[a("el-select",{model:{value:e.selectedDebugRange,callback:function(t){e.selectedDebugRange=t},expression:"selectedDebugRange"}},e._l(e.debugRange,(function(e,t){return a("el-option",{key:t,attrs:{label:e,value:e}})})),1)],1)],1),e._v(" "),a("el-col",{staticClass:"foldCol",attrs:{span:2}},[a("el-button",{attrs:{type:"success",size:"small",icon:"el-icon-s-fold",plain:""},on:{click:e.foldDebug}},[e._v("收起")])],1)],1)],1):e._e(),e._v(" "),a("el-card",{staticClass:"mainCard"},[a("div",{staticClass:"useCaseTitle"},[e._v("T+0")]),e._v(" "),a("el-checkbox",{staticClass:"checkAllBox",attrs:{indeterminate:e.isIndeterminate},on:{change:e.handleCheckAllChange},model:{value:e.checkAll,callback:function(t){e.checkAll=t},expression:"checkAll"}},[e._v("全选")]),e._v(" "),a("el-checkbox-group",{attrs:{id:"sortableGroup"},on:{change:e.handleCheckedSceneTestCases},model:{value:e.checkedSceneTestCases,callback:function(t){e.checkedSceneTestCases=t},expression:"checkedSceneTestCases"}},e._l(e.sceneTestCases,(function(t){return a("el-row",{key:t.id,staticClass:"checkboxs"},[a("i",{staticClass:"el-icon-sort iconI"}),e._v(" "),a("el-checkbox",{attrs:{label:t,value:t,border:""}},[e._v(e._s(t.casecode))])],1)})),1),e._v(" "),a("el-drawer",{class:e.isCollapse?"drawerHide":"drawer",attrs:{size:"fit-content",title:e.drawTitles[e.selectedDrawIndex],visible:e.drawerVisible,modal:!0,direction:e.direction,"modal-append-to-body":!0,"before-close":e.handleBeforeClose},on:{"update:visible":function(t){e.drawerVisible=t}}},[0==e.selectedDrawIndex?a("el-form",{attrs:{model:e.timeForm,"label-width":"110px"}},[a("el-form-item",{attrs:{label:"执行时间"}},[a("el-date-picker",{attrs:{type:"datetime",placeholder:"选择执行时间"},model:{value:e.timeForm.time,callback:function(t){e.$set(e.timeForm,"time",t)},expression:"timeForm.time"}})],1),e._v(" "),a("el-form-item",{attrs:{"label-width":"156px",label:"执行时间标识T+"}},[a("el-input",{staticClass:"timeInput",attrs:{clearable:""},model:{value:e.timeForm.timeIdentification,callback:function(t){e.$set(e.timeForm,"timeIdentification",t)},expression:"timeForm.timeIdentification"}})],1),e._v(" "),a("el-form-item",{staticClass:"buttonRow"},[a("el-button",{attrs:{type:"primary",size:"small"},on:{click:e.saveExecutionTimePlanning}},[e._v("保存")])],1)],1):e._e(),e._v(" "),1==e.selectedDrawIndex?a("div",[a("el-form",{staticClass:"drawForm"},[a("el-form-item",[a("el-button",{attrs:{type:"primary",icon:"el-icon-plus",size:"small"},on:{click:e.addTrigger}},[e._v("新增")]),e._v(" "),a("el-button",{attrs:{type:"danger",icon:"el-icon-delete",size:"small"},on:{click:e.triggerDelete}},[e._v("删除")]),e._v(" "),a("el-button",{attrs:{type:"success",icon:"el-icon-edit",size:"small",plain:""},on:{click:e.editTrigger}},[e._v("修改")])],1)],1),e._v(" "),a("el-table",{staticClass:"tableTrigger",attrs:{data:e.trigerDtoList,"highlight-current-row":"",border:"",stripe:""},on:{"selection-change":e.handleSelectionChange}},[a("el-table-column",{attrs:{type:"selection",width:"50px",label:"选择"}}),e._v(" "),a("el-table-column",{attrs:{width:"200px",prop:"name",label:"触发器名称"}}),e._v(" "),a("el-table-column",{attrs:{"min-width":"800px",prop:"desc",label:"描述"}}),e._v(" "),a("el-table-column",{attrs:{width:"130px",label:"状态"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("el-select",{model:{value:t.row.state,callback:function(a){e.$set(t.row,"state",a)},expression:"scope.row.state"}},e._l(e.triggerStates,(function(e){return a("el-option",{key:e.id,attrs:{label:e.label,value:e.id}})})),1)]}}],null,!1,6409401)})],1),e._v(" "),a("el-row",{staticClass:"triggerButtonRow"},[a("el-button",{attrs:{type:"primary",size:"small"},on:{click:e.saveTrigger}},[e._v("保存")])],1)],1):e._e(),e._v(" "),2==e.selectedDrawIndex?a("el-form",{staticClass:"executionProcess",attrs:{"label-width":"140px"}},[a("h3",[e._v("执行策略选择：")]),e._v(" "),a("p",[e._v("用例级")]),e._v(" "),a("el-row",{attrs:{gutter:20}},[a("el-col",{attrs:{span:5}},[a("el-form-item",{attrs:{label:"执行状态策略"}},[a("el-select",{model:{value:e.exeStrategy1Status,callback:function(t){e.exeStrategy1Status=t},expression:"exeStrategy1Status"}},e._l(e.executionStrategy,(function(e,t){return a("el-option",{key:t,attrs:{label:e.label,value:e.id}})})),1)],1)],1)],1),e._v(" "),a("p",[e._v("流程节点级")]),e._v(" "),a("el-row",{attrs:{gutter:20}},[a("el-col",{attrs:{span:4}},[a("el-form-item",{attrs:{label:"起始节点策略"}},[a("el-select",{model:{value:e.exeStrategy2Start,callback:function(t){e.exeStrategy2Start=t},expression:"exeStrategy2Start"}},e._l(e.startStrategy,(function(e,t){return a("el-option",{key:t,attrs:{label:e.label,value:e.id}})})),1)],1)],1),e._v(" "),a("el-col",{attrs:{span:5,offset:1}},[a("el-form-item",{attrs:{"label-width":"170px",label:"执行顺序策略"}},[a("el-select",{model:{value:e.exeStrategy2Order,callback:function(t){e.exeStrategy2Order=t},expression:"exeStrategy2Order"}},e._l(e.orderStrategy,(function(e,t){return a("el-option",{key:t,attrs:{label:e.label,value:e.id}})})),1)],1)],1),e._v(" "),a("el-col",{attrs:{span:4,offset:1}},[a("el-form-item",{attrs:{"label-width":"130px",label:"执行状态策略"}},[a("el-select",{model:{value:e.exeStrategy2Status,callback:function(t){e.exeStrategy2Status=t},expression:"exeStrategy2Status"}},e._l(e.executionStrategy,(function(e,t){return a("el-option",{key:t,attrs:{label:e.label,value:e.id}})})),1)],1)],1)],1),e._v(" "),a("p",[e._v("组合用例级")]),e._v(" "),a("el-row",{attrs:{gutter:20}},[a("el-col",{attrs:{span:5}},[a("el-form-item",{attrs:{label:"起始用例策略"}},[a("el-select",{model:{value:e.exeStrategy3Start,callback:function(t){e.exeStrategy3Start=t},expression:"exeStrategy3Start"}},e._l(e.startStrategy,(function(e,t){return a("el-option",{key:t,attrs:{label:e.label,value:e.id}})})),1)],1)],1),e._v(" "),a("el-col",{attrs:{span:5}},[a("el-form-item",{attrs:{"label-width":"170px",label:"执行顺序策略"}},[a("el-select",{model:{value:e.exeStrategy3Order,callback:function(t){e.exeStrategy3Order=t},expression:"exeStrategy3Order"}},e._l(e.orderStrategy,(function(e,t){return a("el-option",{key:t,attrs:{label:e.label,value:e.id}})})),1)],1)],1),e._v(" "),a("el-col",{attrs:{span:5,offset:1}},[a("el-form-item",{attrs:{"label-width":"130px",label:"执行状态策略"}},[a("el-select",{model:{value:e.exeStrategy3Status,callback:function(t){e.exeStrategy3Status=t},expression:"exeStrategy3Status"}},e._l(e.executionStrategy,(function(e,t){return a("el-option",{key:t,attrs:{label:e.label,value:e.id}})})),1)],1)],1)],1),e._v(" "),a("p",[e._v("错误处理模式")]),e._v(" "),a("el-row",{attrs:{gutter:20}},[a("el-col",{attrs:{span:4}},[a("el-form-item",{attrs:{label:"出错操作"}},[a("el-select",{model:{value:e.exeStrategyErr,callback:function(t){e.exeStrategyErr=t},expression:"exeStrategyErr"}},e._l(e.errorOperations,(function(e,t){return a("el-option",{key:t.id,attrs:{label:e.label,value:e.id}})})),1)],1)],1)],1),e._v(" "),a("el-row",{staticClass:"triggerButtonRow"},[a("el-button",{attrs:{type:"primary",size:"small"},on:{click:e.saveExecutionProcess}},[e._v("保存")])],1)],1):e._e(),e._v(" "),3==e.selectedDrawIndex?a("div",[a("el-form",{staticClass:"drawForm"},[a("el-form-item",[a("el-button",{attrs:{type:"primary",icon:"el-icon-plus",size:"small"},on:{click:function(t){return e.addDataPool(0)}}},[e._v("新增")]),e._v(" "),a("el-button",{attrs:{type:"danger",icon:"el-icon-delete",size:"small"},on:{click:e.deleteDataPool}},[e._v("删除")]),e._v(" "),a("el-button",{attrs:{type:"success",icon:"el-icon-edit",size:"small",plain:""},on:{click:function(t){return e.addDataPool(1)}}},[e._v("修改")])],1)],1),e._v(" "),a("el-table",{staticClass:"tableTrigger",attrs:{data:e.dataPoolList,"highlight-current-row":"",border:"",stripe:""},on:{"selection-change":e.handleDataPoolSelectionChange}},[a("el-table-column",{attrs:{"min-width":"15.56%",label:"选择",type:"selection"}}),e._v(" "),a("el-table-column",{attrs:{prop:"dataName","min-width":"30.65%",label:"数据名称"}}),e._v(" "),a("el-table-column",{attrs:{prop:"dataValue","min-width":"26.08%",label:"数据值"}}),e._v(" "),a("el-table-column",{attrs:{prop:"dataDesc","min-width":"30.71%",label:"数据描述"}})],1)],1):e._e(),e._v(" "),4==e.selectedDrawIndex?a("el-form",{staticClass:"mobileConfiguration",attrs:{"label-width":"120px",model:e.mobileForm}},[a("el-row",{attrs:{gutter:20}},[a("el-col",{attrs:{span:7}},[a("el-form-item",{attrs:{label:"设备类型"}},[a("el-input",{model:{value:e.mobileForm.deviceType,callback:function(t){e.$set(e.mobileForm,"deviceType",t)},expression:"mobileForm.deviceType"}})],1)],1),e._v(" "),a("el-col",{attrs:{span:7}},[a("el-form-item",{attrs:{label:"设备名称"}},[a("el-input",{model:{value:e.mobileForm.deviceName,callback:function(t){e.$set(e.mobileForm,"deviceName",t)},expression:"mobileForm.deviceName"}})],1)],1),e._v(" "),a("el-col",{attrs:{span:7}},[a("el-form-item",{attrs:{label:"自动化类型"}},[a("el-input",{model:{value:e.mobileForm.autoType,callback:function(t){e.$set(e.mobileForm,"autoType",t)},expression:"mobileForm.autoType"}})],1)],1)],1),e._v(" "),a("el-row",{attrs:{gutter:20}},[a("el-col",{attrs:{span:7}},[a("el-form-item",{attrs:{label:"应用包名"}},[a("el-input",{model:{value:e.mobileForm.packageName,callback:function(t){e.$set(e.mobileForm,"packageName",t)},expression:"mobileForm.packageName"}})],1)],1),e._v(" "),a("el-col",{attrs:{span:7}},[a("el-form-item",{attrs:{label:"启动appActivity"}},[a("el-input",{model:{value:e.mobileForm.appActivy,callback:function(t){e.$set(e.mobileForm,"appActivy",t)},expression:"mobileForm.appActivy"}})],1)],1),e._v(" "),a("el-col",{attrs:{span:7}},[a("el-form-item",{attrs:{label:"是否重置"}},[a("el-select",{model:{value:e.mobileForm.isReset,callback:function(t){e.$set(e.mobileForm,"isReset",t)},expression:"mobileForm.isReset"}},[a("el-option",{attrs:{value:!0,label:"是"}}),e._v(" "),a("el-option",{attrs:{value:!1,label:"否"}})],1)],1)],1)],1),e._v(" "),a("el-row",[a("el-col",{attrs:{span:21}},[a("el-form-item",{attrs:{label:"接口路径"}},[a("el-input",{model:{value:e.mobileForm.interfacePath,callback:function(t){e.$set(e.mobileForm,"interfacePath",t)},expression:"mobileForm.interfacePath"}})],1)],1)],1),e._v(" "),a("el-form-item",{staticClass:"buttonRow"},[a("el-button",{attrs:{type:"primary",size:"small"},on:{click:e.initMobile}},[e._v("保存")])],1)],1):e._e()],1)],1),e._v(" "),a("el-dialog",{staticClass:"addDialog",attrs:{width:"34%",title:"添加用例",visible:e.addDialogVisible},on:{"update:visible":function(t){e.addDialogVisible=t}}},[a("p",{staticClass:"addTitle"},[e._v("用例展示形式为：用例编号 | 被测系统 | 功能点 | 关联脚本名称")]),e._v(" "),a("el-form",{attrs:{model:e.addForm,"label-width":"70px"}},[a("el-form-item",{attrs:{label:"添加用例"}},[a("el-select",{attrs:{"default-first-option":!0,filterable:"",clearable:"",multiple:""},on:{change:e.changeSelect},model:{value:e.addForm.caseIds,callback:function(t){e.$set(e.addForm,"caseIds",t)},expression:"addForm.caseIds"}},e._l(e.testcaseViewRespDTOList,(function(e,t){return a("el-option",{key:t,attrs:{label:e.casecode+" | "+e.autName+" | "+e.transName+" | "+e.scriptTemplateName,value:e.id}})})),1)],1),e._v(" "),a("el-form-item",{staticClass:"addButtons"},[a("el-button",{attrs:{type:"primary",size:"small"},on:{click:e.addSure}},[e._v("添加")]),e._v(" "),a("el-button",{attrs:{type:"warning",size:"small",plain:""},on:{click:e.addCancel}},[e._v("取消")])],1)],1)],1),e._v(" "),a("el-dialog",{attrs:{width:"32%",title:0===e.dataPoolFlag?"新增数据池":"修改数据池",visible:e.dataPoolVisible},on:{"update:visible":function(t){e.dataPoolVisible=t}}},[a("el-form",{staticClass:"dataPoolFormStyle",attrs:{model:e.dataPoolForm,"label-width":"130px"}},[a("el-form-item",{attrs:{label:"数据池名称"}},[a("el-select",{model:{value:e.dataPoolForm.dataPoolName,callback:function(t){e.$set(e.dataPoolForm,"dataPoolName",t)},expression:"dataPoolForm.dataPoolName"}},[a("el-option",{attrs:{value:"场景数据池",label:"场景数据池"}})],1)],1),e._v(" "),a("el-form-item",{attrs:{label:"数据池对象id"}},[a("el-select",{model:{value:e.dataPoolForm.objectId,callback:function(t){e.$set(e.dataPoolForm,"objectId",t)},expression:"dataPoolForm.objectId"}},[a("el-option",{attrs:{label:"2",value:"2"}})],1)],1),e._v(" "),a("el-form-item",{attrs:{label:"数据名称"}},[a("el-input",{model:{value:e.dataPoolForm.dataName,callback:function(t){e.$set(e.dataPoolForm,"dataName",t)},expression:"dataPoolForm.dataName"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"数据值"}},[a("el-input",{model:{value:e.dataPoolForm.dataValue,callback:function(t){e.$set(e.dataPoolForm,"dataValue",t)},expression:"dataPoolForm.dataValue"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"数据描述"}},[a("el-input",{staticClass:"textarea",attrs:{type:"textarea",rows:"5"},model:{value:e.dataPoolForm.dataDesc,callback:function(t){e.$set(e.dataPoolForm,"dataDesc",t)},expression:"dataPoolForm.dataDesc"}})],1),e._v(" "),a("el-form-item",{staticClass:"buttonRow"},[a("el-button",{attrs:{type:"primary",size:"small"},on:{click:e.addDataPoolSure}},[e._v(e._s(0===e.dataPoolFlag?"添加":"修改")+"\n            ")]),e._v(" "),a("el-button",{attrs:{type:"danger",size:"small",plain:""},on:{click:e.addDataPoolCancel}},[e._v("取消\n            ")])],1)],1)],1),e._v(" "),a("el-dialog"),e._v(" "),a("el-dialog",{staticClass:"triggerDialog",attrs:{width:"40%",title:1===e.triggerFlag?"新增触发器":"修改触发器",visible:e.triggerVisible},on:{"update:visible":function(t){e.triggerVisible=t}}},[a("el-form",{ref:"triggerForm",staticClass:"triggerStyle",attrs:{model:e.triggerForm,"label-width":"100px"}},[a("el-form-item",{attrs:{label:"触发器名称："}},[a("el-input",{attrs:{placeholder:"请输入触发器名称",clearable:""},model:{value:e.triggerForm.name,callback:function(t){e.$set(e.triggerForm,"name",t)},expression:"triggerForm.name"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"触发器描述："}},[a("el-input",{attrs:{type:"textarea",rows:"4",placeholder:"请输入描述"},model:{value:e.triggerForm.desc,callback:function(t){e.$set(e.triggerForm,"desc",t)},expression:"triggerForm.desc"}})],1),e._v(" "),a("el-form-item",{staticClass:"checkGroup",attrs:{label:"执行时机："}},[a("el-checkbox-group",{model:{value:e.triggerForm.occasions,callback:function(t){e.$set(e.triggerForm,"occasions",t)},expression:"triggerForm.occasions"}},e._l(e.opportunityList,(function(t,s){return a("el-checkbox",{key:s,attrs:{label:t.value,value:t.value}},[e._v(e._s(t.label)+"\n              ")])})),1)],1),e._v(" "),a("el-form-item",{staticClass:"executionCondition",attrs:{label:"执行条件："}},[a("el-radio-group",{on:{change:e.changeCheckBoxGroup},model:{value:e.triggerForm.conditionRelate,callback:function(t){e.$set(e.triggerForm,"conditionRelate",t)},expression:"triggerForm.conditionRelate"}},e._l(e.conditions,(function(t,s){return a("el-radio",{key:s,attrs:{label:t.value,value:s}},[e._v(e._s(t.label))])})),1)],1),e._v(" "),a("el-table",{staticClass:"triggerTable",attrs:{data:e.triggerForm.conditions,border:"",stripe:"","highlight-currentrow":""}},[a("el-table-column",{attrs:{label:"条件名称","min-width":"25.4%"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("el-select",{model:{value:t.row.objectName,callback:function(a){e.$set(t.row,"objectName",a)},expression:"scope.row.objectName"}},e._l(e.conditionNames,(function(e,t){return a("el-option",{key:t,attrs:{value:e.label,label:e.label}})})),1)]}}])}),e._v(" "),a("el-table-column",{attrs:{label:"匹配方式","min-width":"15.7%"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("el-select",{model:{value:e.triggerForm.conditions[t.$index].matchType,callback:function(a){e.$set(e.triggerForm.conditions[t.$index],"matchType",a)},expression:"triggerForm.conditions[scope.$index].matchType"}},[a("el-option",{attrs:{value:"1",label:"等于"}})],1)]}}])}),e._v(" "),a("el-table-column",{attrs:{label:"匹配值","min-width":"47.1%"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("el-input",{attrs:{placeholder:"请输入匹配值"},model:{value:t.row.value,callback:function(a){e.$set(t.row,"value",a)},expression:"scope.row.value"}})]}}])}),e._v(" "),a("el-table-column",{attrs:{"min-width":"11.8%"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("el-button",{attrs:{type:"warning",size:"mini",plain:""},on:{click:function(a){return e.deleteTriggerTableRow(t.$index)}}},[e._v("删除")])]}}])},[a("template",{slot:"header"},[a("el-button",{attrs:{type:"primary",size:"mini"},on:{click:e.triggerAddRow}},[e._v("增加\n                ")])],1)],2)],1),e._v(" "),a("el-form-item",{attrs:{label:"执行动作："}},[a("el-button",{attrs:{type:"primary",size:"mini",icon:"el-icon-plus",plain:""},on:{click:e.addAction}})],1),e._v(" "),a("ul",e._l(e.triggerForm.actions,(function(t,s){return a("li",{key:s,attrs:{value:t}},[a("el-form",{attrs:{"label-width":"80px"}},[a("el-form-item",{attrs:{label:"选择操作"}},[a("el-select",{model:{value:e.triggerForm.actions[s].actionName,callback:function(t){e.$set(e.triggerForm.actions[s],"actionName",t)},expression:"triggerForm.actions[index].actionName"}},[a("el-option",{attrs:{value:"1",label:"执行脚本"}}),e._v(" "),a("el-option",{attrs:{value:"2",label:"groovy类型"}})],1),e._v(" "),a("el-button",{attrs:{type:"danger",size:"mini",icon:"el-icon-delete",plain:""},on:{click:function(t){return e.deleteRowFromExecutionAction(s)}}})],1),e._v(" "),a("el-form-item",{attrs:{label:"脚本类型"}},[a("el-select",{model:{value:e.triggerForm.actions[s].actionType,callback:function(t){e.$set(e.triggerForm.actions[s],"actionType",t)},expression:"triggerForm.actions[index].actionType"}},[a("el-option",{attrs:{label:"groovy",value:"2"}}),e._v(" "),a("el-option",{attrs:{label:"2",value:"1"}})],1)],1),e._v(" "),a("el-form-item",{attrs:{label:"脚本内容"}},[a("el-input",{staticClass:"textarea",attrs:{type:"textarea",rows:"4"},model:{value:e.triggerForm.actions[s].scriptContent,callback:function(t){e.$set(e.triggerForm.actions[s],"scriptContent",t)},expression:"triggerForm.actions[index].scriptContent"}})],1)],1)],1)})),0),e._v(" "),a("el-form-item",{staticClass:"buttonRow"},[a("el-button",{attrs:{type:"primary",size:"small"},on:{click:e.triggerSure}},[e._v("确定\n            ")]),e._v(" "),a("el-button",{attrs:{type:"danger",size:"small",plain:""},on:{click:e.triggerCancel}},[e._v("取消\n            ")])],1)],1)],1)],1)],1)],1)}),[],!1,ca,"data-v-e2d349de",null).exports,ua={components:{ElSlPanel:g.a},mixins:[L.a],name:"InsertSceneCase",data:function(){return{conditionFlag:!0,selectedCondition:1,itemForm:{taskName:"",selectedValue:"",value:""},itemSearch:"",itemList:[{id:"0",value:"用例编号"},{id:"1",value:"被测系统"},{id:"2",value:"功能点"},{id:"3",value:"用例组成类型"},{id:"4",value:"状态"},{id:"5",value:"关联脚本名称"},{id:"6",value:"脚本编辑者"},{id:"7",value:"执行者"},{id:"8",value:"评审者"},{id:"9",value:"执行方式"},{id:"10",value:"测试任务"},{id:"11",value:"优先级"},{id:"12",value:"用例类型"},{id:"13",value:"用例性质"},{id:"14",value:"测试点"}],tableData:[],conditionList:[{}],currentPage:1,pageSize:10,pageSizes:[5,10,20,50],total:50}},created:function(){},methods:{addScene:function(){},query:function(){},addCondition:function(){this.conditionList.push({})},handleCurrentChange:function(e){},handleSizeChange:function(e){}}};var ma,pa=function(e){a("CCsD")},ha=Object(m.a)(ua,(function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"page-inner"},[a("el-container",[a("el-main",[a("el-row",{staticClass:"titleRow"},[a("span",[e._v("添加场景用例")]),e._v(" "),a("el-button",{attrs:{type:"primary",size:"small"},on:{click:e.addScene}},[e._v("确认添加\n        ")])],1),e._v(" "),a("el-row",[e.conditionFlag?a("el-button",{attrs:{type:"primary",size:"small"},on:{click:function(t){e.conditionFlag=!1}}},[e._v("显示筛选\n          "),a("i",{staticClass:"el-icon-arrow-down el-icon--right"})]):a("el-button",{attrs:{type:"primary",size:"small"},on:{click:function(t){e.conditionFlag=!0}}},[e._v("收起筛选\n          "),a("i",{staticClass:"el-icon-arrow-up el-icon--right"})])],1),e._v(" "),e.conditionFlag?e._e():a("el-row",{staticClass:"conditionRow"},[a("el-radio-group",{model:{value:e.selectedCondition,callback:function(t){e.selectedCondition=t},expression:"selectedCondition"}},[a("el-radio",{attrs:{label:1}},[e._v("满足所有条件")]),e._v(" "),a("el-radio",{attrs:{label:2}},[e._v("满足任一条件")])],1),e._v(" "),a("el-button",{staticClass:"queryButton",attrs:{type:"primary",size:"small"},on:{click:e.query}},[e._v("查询\n          ")])],1),e._v(" "),e.conditionFlag?e._e():a("el-form",{staticClass:"itemFormRow",attrs:{model:e.itemForm,"label-width":"80px"}},[a("div",{staticClass:"conditionDiv"},e._l(e.conditionList,(function(t,s){return a("el-col",{key:s,attrs:{span:8}},[a("el-form-item",{attrs:{"label-width":"70px",label:"筛选项目"}},[a("el-select",{attrs:{placeholder:"请选择"},model:{value:e.itemForm.taskName,callback:function(t){e.$set(e.itemForm,"taskName",t)},expression:"itemForm.taskName"}},[a("el-input",{model:{value:e.itemSearch,callback:function(t){e.itemSearch=t},expression:"itemSearch"}}),e._v(" "),e._l(e.itemList,(function(e,t){return a("el-option",{key:t,attrs:{value:e.id,label:e.value}})}))],2),e._v(" "),a("el-select",{attrs:{placeholder:"Nothing Selected"},model:{value:e.itemForm.selectedValue,callback:function(t){e.$set(e.itemForm,"selectedValue",t)},expression:"itemForm.selectedValue"}})],1),e._v(" "),a("el-form-item",{attrs:{"label-width":"30px",label:"值"}},[a("el-select",{attrs:{placeholder:"Nothing Selected"},model:{value:e.itemForm.value,callback:function(t){e.$set(e.itemForm,"value",t)},expression:"itemForm.value"}})],1)],1)})),1)]),e._v(" "),a("el-row",[a("el-button",{staticClass:"plusButton",attrs:{type:"primary",size:"mini",icon:"el-icon-plus"},on:{click:e.addCondition}})],1),e._v(" "),a("el-table",{ref:"multipleTable",attrs:{data:e.tableData,"tooltip-effect":"dark",stripe:"",border:"","high-light-currentrow":""}},[a("el-table-column",{attrs:{type:"selection",width:"55"}}),e._v(" "),a("el-table-column",{attrs:{label:"用例编号","min-width":"7%"}}),e._v(" "),a("el-table-column",{attrs:{label:"被测系统","min-width":"7%"}}),e._v(" "),a("el-table-column",{attrs:{label:"功能点","min-width":"7%"}}),e._v(" "),a("el-table-column",{attrs:{label:"用例组成类型","min-width":"7%"}}),e._v(" "),a("el-table-column",{attrs:{label:"状态","min-width":"7%"}}),e._v(" "),a("el-table-column",{attrs:{label:"关联脚本名称","min-width":"7%"}}),e._v(" "),a("el-table-column",{attrs:{label:"脚本编辑者","min-width":"7%"}}),e._v(" "),a("el-table-column",{attrs:{label:"执行者","min-width":"7%"}}),e._v(" "),a("el-table-column",{attrs:{label:"评审者","min-width":"7%"}}),e._v(" "),a("el-table-column",{attrs:{label:"执行方式","min-width":"7%"}}),e._v(" "),a("el-table-column",{attrs:{label:"测试任务","min-width":"7%"}}),e._v(" "),a("el-table-column",{attrs:{label:"优先级","min-width":"7%"}}),e._v(" "),a("el-table-column",{attrs:{label:"用例类型","min-width":"7%"}}),e._v(" "),a("el-table-column",{attrs:{label:"用例性质","min-width":"7%"}}),e._v(" "),a("el-table-column",{attrs:{label:"测试点","min-width":"7%"}})],1),e._v(" "),a("el-row",{staticClass:"paginationRow"},[a("el-pagination",{attrs:{"current-page":e.currentPage,"page-size":e.pageSize,"page-sizes":e.pageSizes,total:e.total,layout:"total,sizes,prev,pager,next,jumper"},on:{"current-change":e.handleCurrentChange,"size-change":e.handleSizeChange}})],1)],1)],1)],1)}),[],!1,pa,"data-v-3f94a158",null).exports,fa={mixin:[L.a],name:"ElementLib",data:function(){return{transactId:"",autId:"",getList:[],filterText:"",getObjects:[],contentFlag:!0,rightTitle:"名称",parentNode:!0,uiName:"",uiId:"",expandUiId:"",objectDialogVisibleUI:!1,dialogTitles:["添加UI","添加元素"],dialogIndex:0,dialogVisible:!1,dialogUIName:"",dialogElementName:"",repositoryId:"",objectDialogVisible:!1,selectObjectId:"",selectObjectName:"",relateIdentifyObjectId:"",elementId:"",configObj:{},element:null,selectedType:"",mainFlag:!1,additionalFlag:!1,assistantFlag:!1,relateFlag:!1,objectDialogVisibleEle:!1,tempName:"",tempId:"",selectedIndex:1,selectedLinkId:"",selectedParentId:"",omClassRespDTOList:""}},computed:{defaultProps:function(){return{label:function(e){return e.uiName?e.uiName:e.elementName},children:"elements"}},objectProps:function(){return{label:function(e){return(0===e.parentObjectId||!e.parentObjectId)&&e.objectName},children:""}}},props:{objects:Array,testCaseId:{type:Number,default:0}},created:function(){this.getSingleTestCaseInfo()},watch:{filterText:function(e){console.log(e),this.$refs.tree.filter(e)}},methods:(ma={getSingleTestCaseInfo:function(){var e=this,t=this;d({url:"/testcase/getSingleTestCaseInfo",method:"POST",params:{id:this.testCaseId}}).then((function(a){"0000"===a.respCode?(t.transactId=a.testcaseViewRespDTO.transId,t.autId=a.testcaseViewRespDTO.autId,t.queryAllElementsForATransact(),t.queryAutVisibleOmClasses()):e.$message.warning(a.respMsg)})).catch((function(t){e.$message.error("连接失败")}))},queryAllElementsForATransact:function(){var e=this;d({url:"/elementRepository/queryAllElementsForATransact",method:"POST",params:{transactId:this.transactId}}).then((function(t){"0000"===t.respCode?(e.getList=t.uis,e.repositoryId=t.elementRepositoryId):e.$message.warning(t.respMsg)})).catch((function(t){e.$message.error(t.message)}))},addUI:function(){this.dialogVisible=!0,this.dialogIndex=0},removeUI:function(){var e=this;console.log("del",this.uiId,this.repositoryId),0===this.uiId.length?this.$message.warning("请选择UI"):d({url:"/elementRepository/deleteSingleUI",method:"POST",params:{repositoryId:this.repositoryId,uiId:this.uiId}}).then((function(t){"0000"===t.respCode?(e.$message.success(t.respMsg),e.queryAllElementsForATransact()):e.$message.warning(t.respMsg)})).catch((function(t){e.$message.error(t.message)}))},addElement:function(){0===this.uiId.length?this.$message.warning("请选择UI"):(this.dialogVisible=!0,this.dialogIndex=1)},removeElement:function(){var e=this;0===this.uiId.length?this.$message.warning("请选择UI"):d({url:"/elementRepository/deleteSingleElement",method:"POST",params:{elementId:this.elementId,repositoryId:this.repositoryId,uiId:this.uiId}}).then((function(t){"0000"===t.respCode?(e.$message.success(t.respMsg),e.queryAllElementsForATransact()):e.$message.warning(t.respMsg)})).catch((function(t){e.$message.error(t.message)}))},filterNode:function(e,t){return console.log(e,t),!e||(t.uiName?(console.log("true"),-1!==t.uiName.indexOf(e)):-1!==t.elementName.indexOf(e))},handleNodeClick:function(e){this.contentFlag=!1,e.hasOwnProperty("uiName")?(this.parentNode=!0,this.rightTitle=e.uiName,this.uiName=e.uiName,this.relateIdentifyObjectId=e.relateIdentifyObjectId,this.uiId=e.uiId,this.querySingleUI(this.uiId),console.log("handleNodeClick UI",this.uiId)):(this.rightTitle=e.elementName,this.elementId=e.elementId,this.parentNode=!1,this.configObj=e,this.uiId=this.expandUiId,this.element=e,null===this.element.relateProperties&&(this.element.relateProperties=[]),console.log("handleNodeClick元素",e))},handleNodeExpand:function(e){console.log("handleNodeExpand",e),this.expandUiId=e.uiId},querySingleUI:function(e){var t=this;d({url:"/elementRepository/querySingleUI",method:"POST",params:{repositoryId:this.repositoryId,uiId:e}}).then((function(e){"0000"===e.respCode?(console.log("查询单个UI",e),t.relateIdentifyObjectId=e.relateIdentifyObjectId,t.selectObjectId=e.relateIdentifyObjectId):t.$message.warning(e.respMsg)})).catch((function(e){t.$message.error(e.respMsg)}))},handleBeforeClose:function(e){return console.log("handleBeforeClose"),e(),!0},dialogCancel:function(){this.dialogVisible=!1,this.dialogElementName="",this.dialogUIName=""},dialogSure:function(){var e=this,t=this;if(console.log("sure",this.dialogIndex,this.uiId,this.repositoryId),0===this.dialogIndex){var a=[];this.dialogUIName.split(",").forEach((function(e){a.push({uiName:e})})),console.log("sure",a),d({url:"/elementRepository/batchAddUI",method:"POST",params:{repositoryId:t.repositoryId,uis:a}}).then((function(e){"0000"===e.respCode?(t.$message.success(e.respMsg),t.queryAllElementsForATransact(),t.dialogUIName="",t.dialogVisible=!1):t.$message.warning(e.respMsg)})).catch((function(e){t.$message.error(e.respMsg)}))}else{var s=[];this.dialogElementName.split(",").forEach((function(e){s.push({elementName:e})})),d({url:"/elementRepository/batchAddOrModifyElement",method:"POST",params:{elements:s,repositoryId:t.repositoryId,uiId:t.uiId}}).then((function(e){"0000"===e.respCode?(t.$message.success(e.respMsg),t.queryAllElementsForATransact(),t.dialogElementName=!1,t.dialogVisible=!1):t.$message.warning(e.respMsg)})).catch((function(t){e.$message.error(t.message)}))}},linkObjectUI:function(){this.objectDialogVisibleUI=!0},nodeClickObjUI:function(e){console.log("UI节点点击",e),this.relateIdentifyObjectId=e.objectId},modifySingleUI:function(){var e=this;d({url:"/elementRepository/modifySingleUI",method:"POST",params:{relateIdentifyObjectId:this.relateIdentifyObjectId,repositoryId:this.repositoryId,uiId:this.uiId,uiName:this.uiName}}).then((function(t){"0000"===t.respCode?(e.$message.success(t.respMsg),e.queryAllElementsForATransact(),e.contentFlag=!0):e.$message.warning(t.respMsg)})).catch((function(t){e.$message.error(t.message)}))},nodeClickObj:function(e){this.selectObjectId=e.objectId,this.element.objectName=e.objectId,console.log("设置对象库",e,this.selectObjectId,this.element.objectName)},queryAutVisibleOmClasses:function(){var e=this;d({url:"/aut/queryAutVisibleOmClasses",method:"POST",params:{id:this.autId}}).then((function(t){"0000"===t.respCode&&(e.omClassRespDTOList=t.omClassRespDTOList)})).catch((function(e){console.log("获取失败")}))},linkObject:function(){this.objectDialogVisible=!0},removeLink:function(){this.relateIdentifyObjectId="",this.selectObjectId="",this.element.relateIdentifyObjectId=""},objectCancel:function(){this.objectDialogVisible=!1},objectSure:function(){this.objectDialogVisible=!1,this.relateIdentifyObjectId=this.objectName},setParentObj:function(){this.objectDialogVisibleEle=!0,this.selectedIndex=1},removeParentLink:function(){this.element.relateParentIdentifyObjectId="",this.element.selectedParentId=""},setLinkObj:function(){this.objectDialogVisibleEle=!0,this.selectedIndex=2},removeObjLink:function(){this.element.relateIdentifyObjectId="",this.selectedLinkId=""},nodeClickObjEle:function(e){console.log(e),this.tempName=e.objectName,this.tempId=e.objectId}},re()(ma,"objectCancel",(function(){this.objectDialogVisibleEle=!1})),re()(ma,"objectSureEle",(function(){this.objectDialogVisibleEle=!1,1===this.selectedIndex?this.element.relateParentIdentifyObjectId=this.tempId:this.element.relateIdentifyObjectId=this.tempId})),re()(ma,"deleteButton",(function(e){switch(e){case 1:"number"!=typeof this.mainFlag?this.$message.warning("选择要移除的主属性内容"):this.element.mainProperties.splice(this.mainFlag,1);break;case 2:"number"!=typeof this.additionalFlag?this.$message.warning("选择要移除的附加属性内容"):this.element.additionalProperties.splice(this.additionalFlag,1);break;case 3:"number"!=typeof this.assistantFlag?this.$message.warning("选择要移除的辅助属性内容"):this.element.assistantProperties.splice(this.assistantFlag,1);break;case 4:"number"!=typeof this.relateFlag?this.$message.warning("选择要移除的关联属性内容"):this.element.relateProperties.splice(this.relateFlag,1)}})),re()(ma,"addButton",(function(e){var t={name:"",value:"",method:"",isRelative:null,toolName:""};switch(e){case 1:this.element.mainProperties.push(t);break;case 2:this.element.additionalProperties.push(t);break;case 3:this.element.assistantProperties.push(t);break;case 4:this.element.relateProperties.push(t)}})),re()(ma,"handleMainChange",(function(e){console.log("main",e),this.mainFlag=e})),re()(ma,"handleAdditionChange",(function(e){console.log("additionalFlag",e),this.additionalFlag=e})),re()(ma,"handleAssistanceChange",(function(e){console.log("assistantFlag",e),this.assistantFlag=e})),re()(ma,"handleLinkChange",(function(e){console.log("relateFlag",e),this.relateFlag=e})),re()(ma,"saveObject",(function(){var e=this,t=this;d({url:"/elementRepository/modifySingleElement",method:"POST",params:{element:t.element,repositoryId:t.repositoryId,uiId:t.uiId}}).then((function(a){"0000"===a.respCode?(e.$message.success(a.respMsg),t.contentFlag=!0):e.$message.warning(a.respMsg)})).catch((function(t){e.$message.error(t.message)}))})),ma)};var va=function(e){a("PvEC")},ga=Object(m.a)(fa,(function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"elementDiv"},[a("div",{staticClass:"leftCard"},[a("div",{staticClass:"title"},[e._v("元素库")]),e._v(" "),a("el-card",[a("el-input",{attrs:{placeholder:"输入关键字进行过滤"},model:{value:e.filterText,callback:function(t){e.filterText=t},expression:"filterText"}}),e._v(" "),a("el-row",[a("el-button",{attrs:{type:"primary",size:"small"},on:{click:e.addUI}},[e._v("添加UI")]),e._v(" "),a("el-button",{attrs:{type:"primary",size:"small"},on:{click:e.removeUI}},[e._v("删除UI")]),e._v(" "),a("el-button",{attrs:{type:"primary",size:"small"},on:{click:e.addElement}},[e._v("添加元素")]),e._v(" "),a("el-button",{attrs:{type:"primary",size:"small"},on:{click:e.removeElement}},[e._v("删除元素")])],1),e._v(" "),a("el-tree",{ref:"tree",attrs:{data:e.getList,props:e.defaultProps,"filter-node-method":e.filterNode},on:{"node-click":e.handleNodeClick,"node-expand":e.handleNodeExpand}})],1)],1),e._v(" "),a("div",{staticClass:"rightCard"},[a("div",{staticClass:"title"},[e._v(e._s(e.rightTitle))]),e._v(" "),a("el-card",[e.contentFlag?a("div",{staticClass:"tipDiv"},[a("p",[e._v("请选择UI或者元素")])]):a("div",[e.parentNode?a("div",{staticClass:"parentDiv"},[a("el-form",{attrs:{"label-width":"150px"}},[a("el-row",[a("el-form-item",{attrs:{label:"UI名称："}},[a("el-input",{model:{value:e.uiName,callback:function(t){e.uiName=t},expression:"uiName"}})],1)],1),e._v(" "),a("el-row",[a("el-form-item",{attrs:{label:"关联对象库对象："}},[a("el-col",{attrs:{span:12}},[a("el-input",{attrs:{disabled:""},model:{value:e.relateIdentifyObjectId,callback:function(t){e.relateIdentifyObjectId=t},expression:"relateIdentifyObjectId"}})],1),e._v(" "),a("el-col",{attrs:{span:12}},[a("el-button",{attrs:{type:"primary",size:"small",icon:"el-icon-link"},on:{click:e.linkObjectUI}},[e._v("关联对象\n\t\t\t\t\t\t\t\t\t\t")]),e._v(" "),a("el-button",{attrs:{type:"primary",size:"small",icon:"el-icon-delete"},on:{click:e.removeLink}},[e._v("解除关联")]),e._v(" "),a("el-button",{attrs:{type:"primary",size:"small",icon:"el-icon-folder"},on:{click:e.modifySingleUI}},[e._v("保存")])],1)],1)],1)],1)],1):a("div",{staticClass:"attributes"},[a("el-form",{staticClass:"baseForm",attrs:{"label-width":"140px"}},[a("el-row",[a("el-form-item",{attrs:{label:"元素名称"}},[a("el-input",{model:{value:e.element.elementName,callback:function(t){e.$set(e.element,"elementName",t)},expression:"element.elementName"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"类型"}},[a("el-select",{attrs:{placeholder:"--选择控件类型--"},model:{value:e.element.classType,callback:function(t){e.$set(e.element,"classType",t)},expression:"element.classType"}},e._l(e.omClassRespDTOList,(function(e,t){return a("el-option",{key:t,attrs:{value:String(e.id),label:e.name}})})),1)],1)],1),e._v(" "),a("el-row",[a("el-form-item",{attrs:{label:"对象库中的父对象"}},[a("el-input",{attrs:{disabled:""},model:{value:e.element.relateParentIdentifyObjectId,callback:function(t){e.$set(e.element,"relateParentIdentifyObjectId",t)},expression:"element.relateParentIdentifyObjectId"}})],1),e._v(" "),a("div",{staticClass:"buttons"},[a("el-button",{attrs:{type:"primary",size:"small"},on:{click:e.setParentObj}},[e._v("设置父对象")]),e._v(" "),a("el-button",{attrs:{type:"primary",size:"small"},on:{click:e.removeParentLink}},[e._v("解除关联")])],1)],1),e._v(" "),a("el-row",[a("el-form-item",{attrs:{label:"对象库中的关联对象"}},[a("el-input",{attrs:{disabled:""},model:{value:e.element.relateIdentifyObjectId,callback:function(t){e.$set(e.element,"relateIdentifyObjectId",t)},expression:"element.relateIdentifyObjectId"}})],1),e._v(" "),a("div",{staticClass:"buttons"},[a("el-button",{attrs:{type:"primary",size:"small"},on:{click:e.setLinkObj}},[e._v("设置关联对象")]),e._v(" "),a("el-button",{attrs:{type:"primary",size:"small"},on:{click:e.removeObjLink}},[e._v("解除关联")])],1)],1)],1),e._v(" "),a("div",{staticClass:"attributeInfo"},[a("div",{staticClass:"title"},[e._v("属性")]),e._v(" "),a("div",{staticClass:"mainAttributeDiv"},[a("el-row",[a("span",[e._v("主属性")]),e._v(" "),a("span",[a("el-button",{attrs:{type:"danger",size:"mini",icon:"el-icon-minus",plain:""},on:{click:function(t){return e.deleteButton(1)}}}),e._v(" "),a("el-button",{attrs:{type:"success",size:"mini",icon:"el-icon-plus",plain:""},on:{click:function(t){return e.addButton(1)}}})],1)]),e._v(" "),a("el-table",{attrs:{width:"100%",data:e.element.mainProperties,stripe:"",border:"","highlight-current-row":""}},[a("el-table-column",{attrs:{width:"35px"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("el-radio",{attrs:{label:t.$index},on:{change:e.handleMainChange},model:{value:e.mainFlag,callback:function(t){e.mainFlag=t},expression:"mainFlag"}})]}}])}),e._v(" "),a("el-table-column",{attrs:{label:"属性名","min-width":"40%"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("el-input",{model:{value:t.row.name,callback:function(a){e.$set(t.row,"name",a)},expression:"scope.row.name"}})]}}])}),e._v(" "),a("el-table-column",{attrs:{label:"属性值","min-width":"40%"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("el-input",{model:{value:t.row.value,callback:function(a){e.$set(t.row,"value",a)},expression:"scope.row.value"}})]}}])})],1)],1),e._v(" "),a("div",{staticClass:"attachAttributeDiv"},[a("el-row",[a("span",[e._v("附加属性")]),e._v(" "),a("span",[a("el-button",{attrs:{type:"danger",size:"mini",icon:"el-icon-minus",plain:""},on:{click:function(t){return e.deleteButton(2)}}}),e._v(" "),a("el-button",{attrs:{type:"success",size:"mini",icon:"el-icon-plus",plain:""},on:{click:function(t){return e.addButton(2)}}})],1)]),e._v(" "),a("el-table",{attrs:{data:e.element.additionalProperties,width:"100%",stripe:"",border:"","highlight-current-row":""}},[a("el-table-column",{attrs:{width:"35px"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("el-radio",{attrs:{label:t.$index},on:{change:e.handleAdditionChange},model:{value:e.additionalFlag,callback:function(t){e.additionalFlag=t},expression:"additionalFlag"}})]}}])}),e._v(" "),a("el-table-column",{attrs:{label:"属性名","min-width":"40%"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("el-input",{model:{value:t.row.name,callback:function(a){e.$set(t.row,"name",a)},expression:"scope.row.name"}})]}}])}),e._v(" "),a("el-table-column",{attrs:{label:"属性值","min-width":"40%"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("el-input",{model:{value:t.row.value,callback:function(a){e.$set(t.row,"value",a)},expression:"scope.row.value"}})]}}])})],1)],1),e._v(" "),a("div",{staticClass:"auxiliaryAttributeDiv"},[a("el-row",[a("span",[e._v("辅助属性")]),e._v(" "),a("span",[a("el-button",{attrs:{type:"danger",size:"mini",icon:"el-icon-minus",plain:""},on:{click:function(t){return e.deleteButton(3)}}}),e._v(" "),a("el-button",{attrs:{type:"success",size:"mini",icon:"el-icon-plus",plain:""},on:{click:function(t){return e.addButton(3)}}})],1)]),e._v(" "),a("el-table",{attrs:{data:e.element.assistantProperties,width:"100%",stripe:"",border:"","highlight-current-row":""}},[a("el-table-column",{attrs:{width:"35px"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("el-radio",{attrs:{label:t.$index},on:{change:e.handleAssistanceChange},model:{value:e.assistantFlag,callback:function(t){e.assistantFlag=t},expression:"assistantFlag"}})]}}])}),e._v(" "),a("el-table-column",{attrs:{label:"属性名","min-width":"40%"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("el-input",{model:{value:t.row.name,callback:function(a){e.$set(t.row,"name",a)},expression:"scope.row.name"}})]}}])}),e._v(" "),a("el-table-column",{attrs:{label:"属性值","min-width":"40%"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("el-input",{model:{value:t.row.value,callback:function(a){e.$set(t.row,"value",a)},expression:"scope.row.value"}})]}}])})],1)],1),e._v(" "),a("div",{staticClass:"relativeAttributeDiv"},[a("el-row",[a("span",[e._v("关联属性")]),e._v(" "),a("span",[a("el-button",{attrs:{type:"danger",size:"mini",icon:"el-icon-minus",plain:""},on:{click:function(t){return e.deleteButton(4)}}}),e._v(" "),a("el-button",{attrs:{type:"success",size:"mini",icon:"el-icon-plus",plain:""},on:{click:function(t){return e.addButton(4)}}})],1)]),e._v(" "),a("el-table",{attrs:{data:e.element.relateProperties,width:"100%",stripe:"",border:"","highlight-current-row":""}},[a("el-table-column",{attrs:{width:"35px"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("el-radio",{attrs:{label:t.$index},on:{change:e.handleLinkChange},model:{value:e.relateFlag,callback:function(t){e.relateFlag=t},expression:"relateFlag"}})]}}])}),e._v(" "),a("el-table-column",{attrs:{label:"属性名","min-width":"40%"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("el-input",{model:{value:t.row.name,callback:function(a){e.$set(t.row,"name",a)},expression:"scope.row.name"}})]}}])}),e._v(" "),a("el-table-column",{attrs:{label:"属性值","min-width":"40%"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("el-input",{model:{value:t.row.value,callback:function(a){e.$set(t.row,"value",a)},expression:"scope.row.value"}})]}}])})],1)],1),e._v(" "),a("el-row",{staticClass:"saveRow"},[a("el-button",{attrs:{type:"primary",size:"small"},on:{click:e.saveObject}},[e._v("保存")])],1)],1)],1)])])],1),e._v(" "),a("el-dialog",{attrs:{width:"500px",title:e.dialogTitles[e.dialogIndex],visible:e.dialogVisible},on:{"update:visible":function(t){e.dialogVisible=t},"before-close":e.handleBeforeClose}},[a("el-form",{staticClass:"dialogFormStyle",attrs:{"label-width":"100px"}},[0===e.dialogIndex?a("el-form-item",{attrs:{label:"UI名称"}},[a("el-input",{attrs:{placeholder:"请输入UI名称"},model:{value:e.dialogUIName,callback:function(t){e.dialogUIName=t},expression:"dialogUIName"}})],1):a("el-form-item",{attrs:{label:"元素名称"}},[a("el-input",{attrs:{placeholder:"请输入元素名称"},model:{value:e.dialogElementName,callback:function(t){e.dialogElementName=t},expression:"dialogElementName"}})],1),e._v(" "),a("span",[e._v("若要添加多个，请以英文逗号“,”隔开。")]),e._v(" "),a("el-row",[a("el-button",{attrs:{type:"warning",size:"small",plain:""},on:{click:e.dialogCancel}},[e._v("取消")]),e._v(" "),a("el-button",{attrs:{type:"primary",size:"small"},on:{click:e.dialogSure}},[e._v("添加")])],1)],1)],1),e._v(" "),a("el-dialog",{staticClass:"objDialog",attrs:{width:"600px",title:"对象库UI",visible:e.objectDialogVisibleUI},on:{"update:visible":function(t){e.objectDialogVisibleUI=t}}},[a("div",{staticClass:"objectDiv"},[a("el-tree",{attrs:{data:e.objects,props:e.objectProps},on:{"node-click":e.nodeClickObjUI}})],1),e._v(" "),a("el-row",[a("el-button",{attrs:{type:"warning",size:"small",plain:""},on:{click:function(t){e.objectDialogVisibleUI=!1}}},[e._v("取消")]),e._v(" "),a("el-button",{attrs:{type:"primary",size:"small"},on:{click:function(t){e.objectDialogVisibleUI=!1}}},[e._v("确认")])],1)],1),e._v(" "),a("el-dialog",{staticClass:"objDialog",attrs:{width:"600px",title:"对象库",visible:e.objectDialogVisible},on:{"update:visible":function(t){e.objectDialogVisible=t}}},[a("div",{staticClass:"objectDiv"},[a("el-tree",{attrs:{data:e.objects,props:e.objectProps},on:{"node-click":e.nodeClickObj}})],1),e._v(" "),a("el-row",[a("el-button",{attrs:{type:"warning",size:"small",plain:""},on:{click:e.objectCancel}},[e._v("取消")]),e._v(" "),a("el-button",{attrs:{type:"primary",size:"small"},on:{click:e.objectSure}},[e._v("确认")])],1)],1),e._v(" "),a("el-dialog",{staticClass:"objDialog",attrs:{width:"600px",title:"对象库",visible:e.objectDialogVisibleEle},on:{"update:visible":function(t){e.objectDialogVisibleEle=t}}},[a("div",{staticClass:"objectDiv"},[a("el-tree",{attrs:{data:e.objects,props:e.objectProps},on:{"node-click":e.nodeClickObjEle}})],1),e._v(" "),a("el-row",[a("el-button",{attrs:{type:"warning",size:"small",plain:""},on:{click:e.objectCancel}},[e._v("取消")]),e._v(" "),a("el-button",{attrs:{type:"primary",size:"small"},on:{click:e.objectSureEle}},[e._v("确认")])],1)],1)],1)}),[],!1,va,"data-v-724c4fdf",null).exports,ba=(a("+orw"),{name:"ObjectLib",data:function(){var e;return e={transactId:"",repositoryId:"",objectList:[],filterText:"",rightTitle:"对象名称",dialogVisible:!1,objectName:"",selectedId:""},re()(e,"repositoryId",""),re()(e,"selectObject",{}),re()(e,"repositoryId",""),re()(e,"omClassRespDTOList",[]),re()(e,"mainFlag",!1),re()(e,"additionalFlag",!1),re()(e,"assistantFlag",!1),re()(e,"relateFlag",!1),re()(e,"maskFlag",!0),e},props:{testCaseId:Number},computed:{defaultProps:function(){return{label:function(e){return!!e.objectName&&e.objectName},children:"subIdentifyElementIds"}}},watch:{filterText:function(e){this.$refs.tree.filter(e)}},created:function(){this.getSingleTestCaseInfo()},methods:{getSingleTestCaseInfo:function(){var e=this,t=this;d({url:"/testcase/getSingleTestCaseInfo",method:"POST",params:{id:this.testCaseId}}).then((function(a){"0000"===a.respCode?(t.transactId=a.testcaseViewRespDTO.transId,t.queryAllObjectForATransact(),t.queryAutVisibleOmClasses(a.testcaseViewRespDTO.autId)):e.$message.warning(a.respMsg)})).catch((function(t){e.$message.error("连接失败")}))},queryAllObjectForATransact:function(){var e=this;d({url:"/objectRepository/queryAllObjectForATransact",method:"POST",params:{transactId:this.transactId}}).then((function(t){console.log(t,"0000"===t.respCode),"0000"===t.respCode?(e.objectList=t.objects,e.repositoryId=t.repositoryId):e.$message.warning(t.respMsg)})).catch((function(t){e.$message.error(t.message)}))},queryAutVisibleOmClasses:function(e){var t=this;d({url:"/aut/queryAutVisibleOmClasses",method:"POST",params:{id:e}}).then((function(e){"0000"===e.respCode&&(t.omClassRespDTOList=e.omClassRespDTOList)})).catch((function(e){console.log("获取失败")}))},addObject:function(){this.dialogVisible=!0},removeObject:function(){var e=this;this.selectedId?d({url:"/objectRepository/deleteSingleObject",method:"POST",params:{objectId:this.selectedId,repositoryId:this.repositoryId}}).then((function(t){"0000"===t.respCode?(e.$message.success(t.respMsg),e.queryAllObjectForATransact(),e.maskFlag=!0):e.$message.warning(t.respMsg)})).catch((function(t){e.$message.error(t.message)})):this.$message.warning("请选择要删除的对象")},dialogCancel:function(){this.dialogVisible=!1},dialogSure:function(){var e,t=this,a=[];this.objectName.split(",").forEach((function(e){a.push({objectName:e,parentObjectId:"0"})})),e={objects:a,repositoryId:this.repositoryId},console.log("dialogSure",e),d({url:"/objectRepository/batchAddOrModifyObject",method:"POST",params:e}).then((function(e){"0000"===e.respCode?(t.$message.success(e.respMsg),t.queryAllObjectForATransact(),t.objectName="",t.maskFlag=!0):t.$message.warning(e.respMsg)})).catch((function(e){t.$message.error(e.message)})),this.dialogVisible=!1},handleNodeClick:function(e){console.log("handleNodeClick",e),this.maskFlag=!1,this.selectedId=e.objectId,this.selectObject=e,null===e.additionalProperties&&(this.selectObject.additionalProperties=[]),null===e.assistantProperties&&(this.selectObject.assistantProperties=[]),null===e.mainProperties&&(this.selectObject.mainProperties=[]),null===e.relateProperties&&(this.selectObject.relateProperties=[]),this.rightTitle=e.objectName},querySingleObject:function(e){var t=this;d({url:"/objectRepository/querySingleObject",method:"POST",params:{objectId:e,repositoryId:this.repositoryId}}).then((function(e){console.log(e),"0000"!==e.respCode&&t.$message.warning(e.respMsg)})).catch((function(e){t.$message.error(e.message)}))},filterNode:function(e,t){return console.log("filterNode",e,t),!e||-1!==t.objectName.indexOf(e)},deleteButton:function(e){switch(e){case 1:"number"!=typeof this.mainFlag?this.$message.warning("选择要移除的主属性内容"):this.selectObject.mainProperties.splice(this.mainFlag,1);break;case 2:"number"!=typeof this.additionalFlag?this.$message.warning("选择要移除的附加属性内容"):this.selectObject.additionalProperties.splice(this.additionalFlag,1);break;case 3:"number"!=typeof this.assistantFlag?this.$message.warning("选择要移除的辅助属性内容"):this.selectObject.assistantProperties.splice(this.assistantFlag,1);break;case 4:"number"!=typeof this.relateFlag?this.$message.warning("选择要移除的关联属性内容"):this.selectObject.relateProperties.splice(this.relateFlag,1)}},addButton:function(e){var t={name:"",value:"",method:"",isRelative:null,toolName:""};switch(e){case 1:this.selectObject.mainProperties.push(t);break;case 2:this.selectObject.additionalProperties.push(t);break;case 3:this.selectObject.assistantProperties.push(t);break;case 4:this.selectObject.relateProperties.push(t)}},handleMainChange:function(e){console.log("main",e),this.mainFlag=e},handleAdditionChange:function(e){console.log("additionalFlag",e),this.additionalFlag=e},handleAssistanceChange:function(e){console.log("assistantFlag",e),this.assistantFlag=e},handleLinkChange:function(e){console.log("relateFlag",e),this.relateFlag=e},saveObject:function(){var e=this,t=this.selectObject;d({url:"/objectRepository/modifySingleObject",method:"POST",params:{object:t,repositoryId:this.repositoryId}}).then((function(t){"0000"===t.respCode?(e.$message.success(t.respMsg),e.maskFlag=!0):e.$message.warning(t.respMsg)})).catch((function(t){e.$message.error(t.message)}))}}});var ya=function(e){a("+zM+")},_a=Object(m.a)(ba,(function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"elementDiv"},[a("div",{staticClass:"leftCard"},[a("div",{staticClass:"title"},[e._v("对象库")]),e._v(" "),a("el-card",[a("el-input",{attrs:{placeholder:"输入关键字进行过滤"},model:{value:e.filterText,callback:function(t){e.filterText=t},expression:"filterText"}},[a("el-button",{attrs:{slot:"append",icon:"el-icon-search"},slot:"append"})],1),e._v(" "),a("el-row",[a("el-button",{attrs:{type:"primary",size:"small"},on:{click:e.addObject}},[e._v("添加对象\n\t\t\t\t")]),e._v(" "),a("el-button",{attrs:{type:"primary",size:"small"},on:{click:e.removeObject}},[e._v("删除对象\n\t\t\t\t")]),e._v(" "),a("el-tree",{ref:"tree",attrs:{accordion:"",data:e.objectList,props:e.defaultProps,"filter-node-method":e.filterNode},on:{"node-click":e.handleNodeClick}})],1)],1)],1),e._v(" "),a("div",{staticClass:"rightCard"},[a("div",{staticClass:"title"},[e._v("\n\t\t\t"+e._s(e.rightTitle)+"\n\t\t")]),e._v(" "),a("el-card",{directives:[{name:"show",rawName:"v-show",value:e.maskFlag,expression:"maskFlag"}],staticClass:"mask"},[e._v("\n\t\t\t请选择对象\n\t\t")]),e._v(" "),a("el-card",{directives:[{name:"show",rawName:"v-show",value:!e.maskFlag,expression:"!maskFlag"}],staticClass:"rightBody"},[a("el-form",{staticClass:"baseForm",attrs:{"label-width":"80px"}},[a("el-row",[a("el-form-item",{attrs:{label:"对象名称"}},[a("el-input",{model:{value:e.selectObject.objectName,callback:function(t){e.$set(e.selectObject,"objectName",t)},expression:"selectObject.objectName"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"类型"}},[a("el-select",{attrs:{placeholder:"--选择控件类型--"},model:{value:e.selectObject.classType,callback:function(t){e.$set(e.selectObject,"classType",t)},expression:"selectObject.classType"}},e._l(e.omClassRespDTOList,(function(e){return a("el-option",{key:e.id,attrs:{value:String(e.id),label:e.name}})})),1)],1)],1)],1),e._v(" "),a("div",{staticClass:"attributeInfo"},[a("div",{staticClass:"title"},[e._v("属性")]),e._v(" "),a("div",{staticClass:"mainAttributeDiv"},[a("el-row",[a("span",[e._v("主属性")]),e._v(" "),a("span",[a("el-button",{attrs:{type:"danger",size:"mini",icon:"el-icon-minus",plain:""},on:{click:function(t){return e.deleteButton(1)}}}),e._v(" "),a("el-button",{attrs:{type:"success",size:"mini",icon:"el-icon-plus",plain:""},on:{click:function(t){return e.addButton(1)}}})],1)]),e._v(" "),a("el-table",{attrs:{width:"100%",data:e.selectObject.mainProperties,stripe:"",border:"","highlight-current-row":""}},[a("el-table-column",{attrs:{width:"35px"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("el-radio",{attrs:{label:t.$index},on:{change:e.handleMainChange},model:{value:e.mainFlag,callback:function(t){e.mainFlag=t},expression:"mainFlag"}})]}}])}),e._v(" "),a("el-table-column",{attrs:{label:"属性名","min-width":"40%"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("el-input",{model:{value:t.row.name,callback:function(a){e.$set(t.row,"name",a)},expression:"scope.row.name"}})]}}])}),e._v(" "),a("el-table-column",{attrs:{label:"属性值","min-width":"40%"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("el-input",{model:{value:t.row.value,callback:function(a){e.$set(t.row,"value",a)},expression:"scope.row.value"}})]}}])})],1)],1),e._v(" "),a("div",{staticClass:"attachAttributeDiv"},[a("el-row",[a("span",[e._v("附加属性")]),e._v(" "),a("span",[a("el-button",{attrs:{type:"danger",size:"mini",icon:"el-icon-minus",plain:""},on:{click:function(t){return e.deleteButton(2)}}}),e._v(" "),a("el-button",{attrs:{type:"success",size:"mini",icon:"el-icon-plus",plain:""},on:{click:function(t){return e.addButton(2)}}})],1)]),e._v(" "),a("el-table",{attrs:{data:e.selectObject.additionalProperties,width:"100%",stripe:"",border:"","highlight-current-row":""}},[a("el-table-column",{attrs:{width:"35px"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("el-radio",{attrs:{label:t.$index},on:{change:e.handleAdditionChange},model:{value:e.additionalFlag,callback:function(t){e.additionalFlag=t},expression:"additionalFlag"}})]}}])}),e._v(" "),a("el-table-column",{attrs:{label:"属性名","min-width":"40%"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("el-input",{model:{value:t.row.name,callback:function(a){e.$set(t.row,"name",a)},expression:"scope.row.name"}})]}}])}),e._v(" "),a("el-table-column",{attrs:{label:"属性值","min-width":"40%"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("el-input",{model:{value:t.row.value,callback:function(a){e.$set(t.row,"value",a)},expression:"scope.row.value"}})]}}])})],1)],1),e._v(" "),a("div",{staticClass:"auxiliaryAttributeDiv"},[a("el-row",[a("span",[e._v("辅助属性")]),e._v(" "),a("span",[a("el-button",{attrs:{type:"danger",size:"mini",icon:"el-icon-minus",plain:""},on:{click:function(t){return e.deleteButton(3)}}}),e._v(" "),a("el-button",{attrs:{type:"success",size:"mini",icon:"el-icon-plus",plain:""},on:{click:function(t){return e.addButton(3)}}})],1)]),e._v(" "),a("el-table",{attrs:{data:e.selectObject.assistantProperties,width:"100%",stripe:"",border:"","highlight-current-row":""}},[a("el-table-column",{attrs:{width:"35px"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("el-radio",{attrs:{label:t.$index},on:{change:e.handleAssistanceChange},model:{value:e.assistantFlag,callback:function(t){e.assistantFlag=t},expression:"assistantFlag"}})]}}])}),e._v(" "),a("el-table-column",{attrs:{label:"属性名","min-width":"40%"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("el-input",{model:{value:t.row.name,callback:function(a){e.$set(t.row,"name",a)},expression:"scope.row.name"}})]}}])}),e._v(" "),a("el-table-column",{attrs:{label:"属性值","min-width":"40%"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("el-input",{model:{value:t.row.value,callback:function(a){e.$set(t.row,"value",a)},expression:"scope.row.value"}})]}}])})],1)],1),e._v(" "),a("div",{staticClass:"relativeAttributeDiv"},[a("el-row",[a("span",[e._v("关联属性")]),e._v(" "),a("span",[a("el-button",{attrs:{type:"danger",size:"mini",icon:"el-icon-minus",plain:""},on:{click:function(t){return e.deleteButton(4)}}}),e._v(" "),a("el-button",{attrs:{type:"success",size:"mini",icon:"el-icon-plus",plain:""},on:{click:function(t){return e.addButton(4)}}})],1)]),e._v(" "),a("el-table",{attrs:{data:e.selectObject.relateProperties,width:"100%",stripe:"",border:"","highlight-current-row":""}},[a("el-table-column",{attrs:{width:"35px"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("el-radio",{attrs:{label:t.$index},on:{change:e.handleLinkChange},model:{value:e.relateFlag,callback:function(t){e.relateFlag=t},expression:"relateFlag"}})]}}])}),e._v(" "),a("el-table-column",{attrs:{label:"属性名","min-width":"40%"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("el-input",{model:{value:t.row.name,callback:function(a){e.$set(t.row,"name",a)},expression:"scope.row.name"}})]}}])}),e._v(" "),a("el-table-column",{attrs:{label:"属性值","min-width":"40%"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("el-input",{model:{value:t.row.value,callback:function(a){e.$set(t.row,"value",a)},expression:"scope.row.value"}})]}}])})],1)],1),e._v(" "),a("el-row",{staticClass:"saveRow"},[a("el-button",{attrs:{type:"primary",size:"small"},on:{click:e.saveObject}},[e._v("保存\n\t\t\t\t\t")])],1)],1)],1)],1),e._v(" "),a("el-dialog",{attrs:{width:"500px",title:"添加对象",visible:e.dialogVisible},on:{"update:visible":function(t){e.dialogVisible=t}}},[a("el-form",{staticClass:"dialogFormStyle",attrs:{"label-width":"100px"}},[a("el-form-item",{attrs:{label:"对象名称"}},[a("el-input",{attrs:{placeholder:"请输入UI名称"},model:{value:e.objectName,callback:function(t){e.objectName=t},expression:"objectName"}})],1),e._v(" "),a("span",[e._v("若要添加多个，请以英文逗号“,”隔开。")]),e._v(" "),a("el-row",[a("el-button",{attrs:{type:"warning",size:"small",plain:""},on:{click:e.dialogCancel}},[e._v("取消\n\t\t\t\t")]),e._v(" "),a("el-button",{attrs:{type:"primary",size:"small"},on:{click:e.dialogSure}},[e._v("添加\n\t\t\t\t")])],1)],1)],1)],1)}),[],!1,ya,"data-v-7571fe78",null).exports,wa={mixin:[L.a],name:"caseOperation",data:function(){return{batchId:"",testPlanId:"",testcaseId:"",sceneId:1,caseCompositeType:"1",transId:"",autId:"",caseId:"1",repositoryId:"12",recordEntity:[],recordTableData:[],resourcePath:"",transactId:"135",uis:[],objects:[],bodyContent:[],scriptList:[],indeterminate:!0,checkAll:!0,checkedData:[],dataPoolList:[],datas:["输入数据","流程数据","场景数据","全局数据"],testcaseViewRespDTO:{casecode:"",testPoint:"",missionName:"",version:"",autName:"",transName:"",scriptTemplateName:"",authorName:"",reviewerName:"",executorName:"",caseProperty:"",caseType:"",caseCompositeType:"",priority:"",useStatus:"",executeMethod:"",scriptMode:"",testDesign:"",preRequisites:"",testStep:"",dataRequest:"",expectResult:"",checkPoint:"",note:""},threeLabelInput:[{id:1,value:"测试点"},{id:2,value:"测试任务"},{id:3,value:"版本号"},{id:4,value:"被测系统"},{id:5,value:"功能点"},{id:6,value:"基础脚本"},{id:7,value:"作者"},{id:8,value:"评审者"},{id:9,value:"执行者"}],threeLabelSelect:[{id:10,value:"用例性质"},{id:11,value:"测试用例类型"},{id:12,value:"优先级"},{id:13,value:"用例使用状态"},{id:14,value:"执行方式"},{id:15,value:"脚本管理方式"}],twoLabel:["测试意图","前置条件","测试步骤","数据需求","预计结果","附加检查点"],usecaseType:[{id:1,type:"正常值"},{id:2,type:"错误值"},{id:3,type:"边界值"},{id:4,type:"要素级"},{id:5,type:"流程级"}],testUsecaseType:[{id:1,type:"联机"},{id:1,type:"批量"},{id:1,type:"接口"}],properties:[{id:1,type:"1级"},{id:2,type:"2级"},{id:3,type:"3级"},{id:4,type:"4级"},{id:5,type:"5级"},{id:6,type:"6级"},{id:7,type:"7级"},{id:8,type:"8级"},{id:9,type:"9级"}],useType:[{id:1,type:"新增"},{id:2,type:"评审通过"}],executeMethod:[{id:1,type:"自动化"},{id:2,type:"手工"},{id:3,type:"配合"}],scriptMangeType:[{id:1,type:"脚本"}]}},created:function(){this.batchId=this.$route.query.batchId,this.testPlanId=this.$route.query.testPlanId,this.testcaseId=this.$route.query.testcaseId,this.sceneId=this.$route.query.sceneId,console.log(this.batchId,this.testPlanId,this.testcaseId,this.sceneId),this.getFlowDataByTestPlanId(),this.queryInputData(),this.getSingleTestCaseInfo(),this.querySingleRecordByCaseId(),this.getTestcaseScript()},computed:{threeInputParams:function(){return[this.testcaseViewRespDTO.testPoint,this.testcaseViewRespDTO.missionName,this.testcaseViewRespDTO.version,this.testcaseViewRespDTO.autName,this.testcaseViewRespDTO.transName,this.testcaseViewRespDTO.scriptTemplateName,this.testcaseViewRespDTO.authorName,this.testcaseViewRespDTO.reviewerName,this.testcaseViewRespDTO.executorName]},twoInputParams:function(){return[this.testcaseViewRespDTO.testDesign,this.testcaseViewRespDTO.preRequisites,this.testcaseViewRespDTO.testStep,this.testcaseViewRespDTO.dataRequest,this.testcaseViewRespDTO.expectResult,this.testcaseViewRespDTO.checkPoint]},selectParams:function(){return[this.testcaseViewRespDTO.caseType,this.testcaseViewRespDTO.caseCompositeType,this.testcaseViewRespDTO.priority,this.testcaseViewRespDTO.useStatus,this.testcaseViewRespDTO.executeMethod,this.testcaseViewRespDTO.scriptMode]},selectParamsList:function(){return[this.usecaseType,this.testUsecaseType,this.properties,this.useType,this.executeMethod,this.scriptMangeType]}},methods:{handleCheckAllChange:function(e){console.log("handleCheck",e),this.checkedData=e?this.datas:[],this.indeterminate=!1},handleCheckedDataChange:function(e){console.log("handleCheck",e),this.checkAll=this.datas.length===e.length,this.indeterminate=e.length>0&&e.length<this.datas.length},getFlowDataByTestPlanId:function(){d({url:"/flowDataController/getFlowDataByTestPlanId",method:"POST",params:{batchId:this.batchId,testPlanId:this.testPlanId,testcaseId:this.testcaseId}}).then((function(e){"0000"===e.respCode||console.log("查询失败")})).catch((function(e){console.log("获取失败")}))},queryInputData:function(){var e=this;d({url:"/testRecordController/queryInputData",method:"POST",params:{batchId:this.batchId,caseCompositeType:this.caseCompositeType,caseId:this.testcaseId,testPlanId:this.testPlanId}}).then((function(t){"0000"===t.respCode&&(e.bodyContent=t.bodyContent,e.scriptList=t.scriptList)})).catch((function(t){e.$message.error("用例组成类型只能为1(单用例)或3(流程节点)")}))},getSingleTestCaseInfo:function(){var e=this;d({url:"/testcase/getSingleTestCaseInfo",method:"POST",params:{id:this.testcaseId}}).then((function(t){"0000"===t.respCode?(e.testcaseViewRespDTO=t.testcaseViewRespDTO,e.transId=t.testcaseViewRespDTO.transId,e.autId=t.testcaseViewRespDTO.autId,e.queryAutVisibleOmClasses(e.autId),e.queryAllObjectForATransact(e.transId),e.batchQueryDataPool(e.autId),console.log("传递的数据",e.transId,e.autId)):e.$message.warning(t.respMsg)})).catch((function(t){e.$message.error("连接失败")}))},querySingleRecordByCaseId:function(){var e=this;d({url:"/testRecordController/querySingleRecordByCaseId",method:"POST",params:{batchId:this.batchId,caseId:this.testcaseId,sceneId:this.sceneId}}).then((function(t){if("0000"===t.respCode){e.recordEntity=t.recordEntity;var a={};a.sceneId=t.recordEntity.sceneName,a.testPlan=t.recordEntity.testPlanName,a.usecaseId=t.recordEntity.casecode,a.nodeName=t.recordEntity.flownodeName,a.recorderStatus=1==t.recordEntity.recorderStatus?"未激活":"已激活",a.executeStatus=1==t.recordEntity.executeStatus?"失败":"成功",a.sourceChannel=t.recordEntity.sourceChannel,a.resourcePath=null===t.recordEntity.resourcePath?"无执行报告":t.recordEntity.resourcePath,e.resourcePath=null===t.recordEntity.resourcePath?"":"http://140.143.16.21:8080/"+t.recordEntity.resourcePath,e.recordTableData.push(a)}else e.$message.warning(t.respMsg)})).catch((function(t){e.$message.error(t)}))},getTestcaseScript:function(){var e=this;d({url:"/dataCenter/getTestcaseScript",method:"POST",params:{caseCompositeType:1,testcaseId:this.testcaseId}}).then((function(t){"0000"===t.respCode||e.$message.warning(t.respMsg)})).catch((function(t){e.$message.error(t.respMsg)}))},queryAutVisibleOmClasses:function(e){var t=this;d({url:"/aut/queryAutVisibleOmClasses",method:"POST",params:{id:e}}).then((function(e){"0000"===e.respCode||t.$message.warning(e.respMsg)})).catch((function(e){t.$message.error(e.respMsg)}))},batchQueryDataPool:function(e){var t=this;d({url:"/dataPool/batchQueryDataPool",method:"POST",params:{poolName:"被测系统数据池",poolObjId:e}}).then((function(e){"0000"===e.respCode?t.dataPoolList=e.dataPoolList:t.$message.warning(e.respMsg)})).catch((function(e){t.$message.error(e.respMsg)}))},queryAllObjectForATransact:function(e){var t=this;d({url:"/objectRepository/queryAllObjectForATransact",method:"POST",params:{transactId:e}}).then((function(e){"0000"===e.respCode?(t.objects=e.objects,t.repositoryId=e.repositoryId,console.log("对象数据")):t.$message.warning(e.respMsg)})).catch((function(e){t.$message.error(e.message)}))}},components:{ElementLib:ga,ObjectLib:_a}};var Ca=function(e){a("y7S6")},Ia=Object(m.a)(wa,(function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"page-inner"},[a("el-row",{staticClass:"topRow"},[a("el-form",{attrs:{"label-width":"120px"}},[a("el-form-item",{attrs:{label:"测试项目"}},[a("el-input",{attrs:{disabled:""}})],1),e._v(" "),a("el-form-item",{attrs:{label:"用例编号"}},[a("el-input",{attrs:{disabled:""},model:{value:e.testcaseViewRespDTO.casecode,callback:function(t){e.$set(e.testcaseViewRespDTO,"casecode",t)},expression:"testcaseViewRespDTO.casecode"}})],1)],1)],1),e._v(" "),a("el-tabs",{staticClass:"tabsStyle",attrs:{type:"border-card"}},[a("el-tab-pane",{staticClass:"recordPane",attrs:{label:"执行结果"}},[a("el-table",{attrs:{data:e.recordTableData,stripe:"",border:"","highlight-current-row":""}},[a("el-table-column",{attrs:{prop:"sceneId",label:"场景ID","min-width":"12%"}}),e._v(" "),a("el-table-column",{attrs:{prop:"testPlan",label:"测试计划","min-width":"13%"}}),e._v(" "),a("el-table-column",{attrs:{prop:"usecaseId",label:"用例编号","min-width":"13%"}}),e._v(" "),a("el-table-column",{attrs:{prop:"nodeName",label:"节点名称","min-width":"10%"}}),e._v(" "),a("el-table-column",{attrs:{prop:"recorderStatus",label:"记录单状态","min-width":"8%"}}),e._v(" "),a("el-table-column",{attrs:{prop:"executeStatus",label:"执行结果状态","min-width":"7%"}}),e._v(" "),a("el-table-column",{attrs:{prop:"sourceChannel",label:"来源渠道","min-width":"12%"}}),e._v(" "),a("el-table-column",{attrs:{prop:"resourcePath",label:"资源路径","min-width":"22%"}})],1),e._v(" "),a("iframe",{class:""!==e.resourcePath?"mainResource":"noResorce",attrs:{src:e.resourcePath}})],1),e._v(" "),a("el-tab-pane",{attrs:{label:"元素库"}},[a("element-lib",{attrs:{testCaseId:Number(e.testcaseId),objects:e.objects}})],1),e._v(" "),a("el-tab-pane",{attrs:{label:"对象库"}},[a("object-lib",{attrs:{testCaseId:Number(e.testcaseId)}})],1),e._v(" "),a("el-tab-pane",{staticClass:"scriptPane",attrs:{label:"查看脚本"}},[a("div",{staticClass:"scriptDiv"},[a("el-table",{staticClass:"table",attrs:{data:e.scriptList,border:"",stripe:"","highlight-currnt-row":""}},[a("el-table-column",{attrs:{align:"center",label:"#",type:"index",width:"100px"}}),e._v(" "),a("el-table-column",{attrs:{align:"center",label:"操作项","min-width":"40%"},scopedSlots:e._u([{key:"default",fn:function(t){return[""===t.row.ui?a("span",[a("b",[e._v(e._s(t.row.classType))])]):a("span",[a("b",[e._v("UI：")]),e._v(e._s(t.row.ui)+" \n                "),a("b",[e._v("元素：")]),e._v(e._s(t.row.element)+"\n              ")])]}}])}),e._v(" "),a("el-table-column",{attrs:{align:"center",label:"方法",prop:"method",width:"100px"}}),e._v(" "),a("el-table-column",{attrs:{align:"center",label:"参数","min-width":"40%"},scopedSlots:e._u([{key:"default",fn:function(t){return e._l(t.row.parameters,(function(t,s){return a("span",{key:s},[e._v("\n                参数"+e._s(s+1)+"："),a("b",[e._v(e._s(t))])])}))}}])})],1)],1)]),e._v(" "),a("el-tab-pane",{staticClass:"userDataPane",attrs:{label:"用例数据"}},[a("el-row",{attrs:{hidden:""}},[a("el-col",{attrs:{span:10}},[a("el-checkbox",{staticClass:"checkboxAll",attrs:{indeterminate:e.indeterminate},on:{change:e.handleCheckAllChange},model:{value:e.checkAll,callback:function(t){e.checkAll=t},expression:"checkAll"}},[e._v("全选")]),e._v(" "),a("el-checkbox-group",{staticClass:"checkboxGroup",on:{change:e.handleCheckedDataChange},model:{value:e.checkedData,callback:function(t){e.checkedData=t},expression:"checkedData"}},e._l(e.datas,(function(t,s){return a("el-checkbox",{key:s,attrs:{label:t,value:t}},[e._v(e._s(t))])})),1)],1),e._v(" "),a("el-col",{attrs:{span:14}},[a("el-button",{attrs:{type:"primary",size:"mini",icon:"el-icon-search"}},[e._v("搜索")]),e._v(" "),a("el-button",{attrs:{type:"primary",size:"mini",icon:"el-icon-refresh"}},[e._v("刷新")]),e._v(" "),a("el-button",{attrs:{type:"primary",size:"mini",icon:"el-icon-folder"}},[e._v("保存")])],1)],1),e._v(" "),a("el-table",{staticClass:"useDataStyle",attrs:{data:e.dataPoolList,border:"",stripe:"","highlight-current-row":""}},[a("el-table-column",{attrs:{prop:"dataName",label:"数据名称","min-width":"15.4%"}}),e._v(" "),a("el-table-column",{attrs:{prop:"dataValue",label:"数据值","min-width":"12.7%"}}),e._v(" "),a("el-table-column",{attrs:{prop:"poolName",label:"数据池名","min-width":"15.5%"}}),e._v(" "),a("el-table-column",{attrs:{label:"流程节点名称","min-width":"20.9%"}},[e._v("\n          无\n        ")]),e._v(" "),a("el-table-column",{attrs:{label:"对象名称","min-width":"15.5%"}},[e._v("\n          无\n        ")]),e._v(" "),a("el-table-column",{attrs:{label:"描述","min-width":"10%"}},[e._v("\n          无\n        ")]),e._v(" "),a("el-table-column",{attrs:{label:"操作","min-width":"10%"}},[e._v("\n          无\n        ")])],1)],1),e._v(" "),a("el-tab-pane",{staticClass:"detailTabPane",attrs:{label:"用例详情"}},[a("div",{staticClass:"detailDiv"},[e._v("流程用例")]),e._v(" "),a("el-form",{staticClass:"detailFormStyle",attrs:{"label-width":"100px"}},[a("el-row",[a("el-form-item",{attrs:{label:"用例编号"}},[a("el-input",{attrs:{disabled:""},model:{value:e.testcaseViewRespDTO.casecode,callback:function(t){e.$set(e.testcaseViewRespDTO,"casecode",t)},expression:"testcaseViewRespDTO.casecode"}})],1)],1),e._v(" "),a("div",{staticClass:"threeDiv"},[e._l(e.threeLabelInput,(function(t,s){return a("el-form-item",{key:t.id,attrs:{label:t.value}},[a("el-input",{attrs:{disabled:""},model:{value:e.threeInputParams[s],callback:function(t){e.$set(e.threeInputParams,s,t)},expression:"threeInputParams[index]"}})],1)})),e._v(" "),e._l(e.threeLabelSelect,(function(t,s){return a("el-form-item",{key:t.id,attrs:{label:t.value}},[a("el-select",{attrs:{disabled:""},model:{value:e.selectParams[s],callback:function(t){e.$set(e.selectParams,s,t)},expression:"selectParams[index]"}},e._l(e.selectParamsList[s],(function(e){return a("el-option",{key:e.type,attrs:{label:e.type,value:e.id}})})),1)],1)}))],2),e._v(" "),a("div",{staticClass:"twoDiv"},e._l(e.twoLabel,(function(t,s){return a("el-form-item",{key:t.id,attrs:{label:t,value:s}},[a("el-input",{attrs:{type:"textarea",disabled:""},model:{value:e.twoInputParams[s],callback:function(t){e.$set(e.twoInputParams,s,t)},expression:"twoInputParams[index]"}})],1)})),1),e._v(" "),a("el-form-item",{staticClass:"remarkFormItem",attrs:{label:"备注"}},[a("el-input",{attrs:{type:"textarea",disabled:""},model:{value:e.testcaseViewRespDTO.note,callback:function(t){e.$set(e.testcaseViewRespDTO,"note",t)},expression:"testcaseViewRespDTO.note"}})],1)],1)],1),e._v(" "),a("div",{staticClass:"copyright"},[e._v("\n      Copyright © 1998－2019 BUPT All Rights Reserved\n      教育部信息网络工程研究中心 版权所有\n    ")])],1)],1)}),[],!1,Ca,"data-v-24e7eec6",null).exports,xa={mixins:[L.a],data:function(){return{tableData:[],allUploadUser:[],fileList:[],idList:[],currentPage:1,pageSize:5,totalPage:"",totalCount:"",radio:"1",dialogVisibleI:!1,fileListM:[]}},created:function(){this.getAllUploadUser(),this.getCaseList()},methods:{getAllUploadUser:function(){var e=this;d({url:"/testcase/batchImport/queryAllUploadUser",method:"post"}).then((function(t){e.allUploadUser=t.userNames}),(function(e){console.log(e)})).catch((function(e){console.log(e)}))},getCaseList:function(){var e=this;d({url:"/testcase/batchImport/queryBatchImportStatus",method:"post",params:{pageNum:this.currentPage,pageSize:this.pageSize,orderColumn:"create_time",orderType:"desc",uploadUserReallyName:"",importStatus:"",createTimeLower:"",createTimeUpper:"",caseLibId:sessionStorage.getItem("caselibId")}}).then((function(t){e.totalCount=t.totalCount,e.tableData=t.rows,e.totalPage=t.totalPage}),(function(e){console.log(e)})).catch((function(e){console.log(e)}))},back:function(){this.$router.push({path:"testCase"})},uploadDialog:function(){this.dialogVisibleI=!0},changeFile:function(e,t){this.fileListM.push(t),console.log(this.fileListM)},handleRemove:function(e,t){for(var a=0,s=0;s<t.length;s++)if(e.name==t[s].name){a=s;break}this.fileListM.splice(a,1)},handlePreview:function(e){console.log(e)},downloadError:function(e){window.location.href="http://140.143.16.21:8080/atfcloud2.0a/testcase/batchImport/file/errorFile/"+e},downloadFile:function(e){window.location.href="http://140.143.16.21:8080/atfcloud2.0a/testcase/batchImport/file/uploadFile/"+e},uploadTemp:function(){var e=this,t=this.fileListM[0],a=new FormData,s=sessionStorage.getItem("caselibId");a.append("file",t.raw),a.append("caseLibId",s),a.append("uploadUserId",3),"t"==t.name.charAt(1)?a.append("templateType",1):a.append("templateType",0);d({url:"/testcase/batchImportTestcase",method:"post",params:a}).then((function(t){"0000"==t.respCode?(e.dialogVisibleI=!1,e.$alert("导入成功","导入情况",{confirmButtonText:"确定",callback:function(t){e.$message({type:"info",message:"action: ".concat(t)})}}),e.getCaseList()):(e.dialogVisibleI=!1,e.$alert("导入失败","导入情况",{confirmButtonText:"确定",callback:function(t){e.$message({type:"info",message:"action: ".concat(t)})}}))})).catch((function(e){console.log(e)}))},handleSizeChange:function(e){this.pageSize=e,this.getCaseList()},handleCurrentChange:function(e){this.currentPage=e,this.getCaseList()},downloadTemplate:function(e){if(0==e){window.location.href="http://140.143.16.21:8080/atfcloud2.0a/testcase/batchImport/file/template/simple"}else{window.location.href="http://140.143.16.21:8080/atfcloud2.0a/testcase/getStandardExcelTemporary"}}}},Sa=Object(m.a)(xa,(function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"page-inner"},[a("el-container",[a("el-main",[a("el-row",[a("el-button",{attrs:{size:"small",type:"primary",icon:"el-icon-plus"},on:{click:e.uploadDialog}},[e._v("\n\t\t\t\t\t导入\n\t\t\t\t")]),e._v(" "),a("el-button",{attrs:{size:"small",type:"primary",icon:"el-icon-plus"},on:{click:e.back}},[e._v("\n\t\t\t\t\t返回\n\t\t\t\t")])],1),e._v(" "),a("el-table",{staticClass:"table",attrs:{stripe:"",border:"",data:e.tableData}},[a("el-table-column",{attrs:{label:"caseLibId",property:"caseLibId"}}),e._v(" "),a("el-table-column",{attrs:{label:"上传者",property:"uploadUserName"}}),e._v(" "),a("el-table-column",{attrs:{label:"总条数",property:"totalNum"}}),e._v(" "),a("el-table-column",{attrs:{label:"导入状态",property:"importStatus"}}),e._v(" "),a("el-table-column",{attrs:{label:"成功条数",property:"successNum"}}),e._v(" "),a("el-table-column",{attrs:{label:"失败条数",property:"failNum"}}),e._v(" "),a("el-table-column",{attrs:{label:"返回信息",property:"errMsg"}}),e._v(" "),a("el-table-column",{attrs:{label:"上传时间",property:"createTime"}}),e._v(" "),a("el-table-column",{attrs:{label:"完成时间",property:"finishTime"}}),e._v(" "),a("el-table-column",{attrs:{label:"错误信息"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("p",{directives:[{name:"show",rawName:"v-show",value:"全部成功"==t.row.importStatus,expression:"scope.row.importStatus=='全部成功'"}]},[e._v(" 无")]),e._v(" "),a("el-button",{directives:[{name:"show",rawName:"v-show",value:"全部成功"!=t.row.importStatus,expression:"scope.row.importStatus!='全部成功'"}],attrs:{size:"mini",type:"danger"},on:{click:function(a){return e.downloadError(t.row.batchImportNo)}}},[e._v("下载\n\t\t\t\t\t\t")])]}}])}),e._v(" "),a("el-table-column",{attrs:{label:"导入文件"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("el-button",{attrs:{size:"mini",type:"danger"},on:{click:function(a){return e.downloadFile(t.row.batchImportNo)}}},[e._v("下载\n\t\t\t\t\t\t")])]}}])})],1),e._v(" "),a("div",{staticClass:"block"},[a("el-col",{attrs:{span:10,offset:4}},[a("el-pagination",{attrs:{"current-page":e.currentPage,"page-sizes":[5,10,20,50],"page-size":e.pageSize,layout:"total, sizes, prev, pager, next, jumper",total:e.totalCount},on:{"size-change":e.handleSizeChange,"current-change":e.handleCurrentChange}})],1)],1),e._v(" "),a("el-dialog",{attrs:{title:"导入",visible:e.dialogVisibleI,width:"30%"},on:{"update:visible":function(t){e.dialogVisibleI=t}}},[a("el-upload",{staticClass:"upload-demo in-file",attrs:{action:"","on-success":e.changeFile,"on-remove":e.handleRemove,"file-list":e.fileList}},[a("el-button",{attrs:{size:"small",type:"primary"}},[e._v("选择文件")]),e._v(" "),a("i",{staticClass:"el-upload__tip text",attrs:{slot:"tip"},slot:"tip"},[e._v("只能选择xlsx文件")])],1),e._v(" "),a("el-divider"),e._v(" "),a("div",[e._v("\n\t\t\t\t\t上传方式：\n\t\t\t\t\t"),a("el-radio",{attrs:{label:"1"},model:{value:e.radio,callback:function(t){e.radio=t},expression:"radio"}},[e._v("简单版")]),e._v(" "),a("el-button",{attrs:{size:"small",type:"success"},on:{click:function(t){return e.downloadTemplate(0)}}},[e._v("模板下载")])],1),e._v(" "),a("div",[a("el-radio",{staticClass:"radio",attrs:{label:"2"},model:{value:e.radio,callback:function(t){e.radio=t},expression:"radio"}},[e._v("标准版")]),e._v(" "),a("el-button",{attrs:{size:"small",type:"success"},on:{click:function(t){return e.downloadTemplate(1)}}},[e._v("模板下载")])],1),e._v(" "),a("el-divider"),e._v(" "),a("div",{staticClass:"in-file"},[a("el-button",{attrs:{size:"small",type:"primary"},on:{click:e.uploadTemp}},[e._v("导入")]),e._v(" "),a("el-button",{attrs:{size:"small",type:"primary"},on:{click:function(t){e.dialogVisibleI=!e.dialogVisibleI}}},[e._v("取消")])],1)],1)],1)],1)],1)}),[],!1,null,null,null).exports,ka=(a("SYky"),a("q4sD"),a("Pkg3"),a("B3OS"),a("IaNr"),a("kW3a"),a("chtW"),a("NvoQ"),a("7UVs"),a("Vc7Q"));var Ta={nameMedium:"",descMedium:"",testPhaseId:"",testRoundId:""},Fa={roundName:"",roundDesc:"",recordmanagementflag:1,timeexecutesetting:""};function Pa(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);t&&(s=s.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,s)}return a}function Na(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?Pa(a,!0).forEach((function(t){re()(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):Pa(a).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}var Ra={components:{},mixins:[L.a],data:function(){return{goToPage:0,runners:[],runnerselected:[],runnerExecuteType:"appointed",caselibIds:[],caselibId:3,executionround:"1",recordflag:2,exeScope:"1",selectState:"",userId:sessionStorage.getItem("userId")||3,projectName:sessionStorage.getItem("projectNameStorage")||"(电子商务网站购物测试)",fullFlag:!0,testPlans:[],testrounds:[],testPlanId:sessionStorage.getItem("testPlanId")||void 0,testCaseList:[],testSceneList:[],checkallSceneIds:[],sceneIds:[],sceneCaseMap:new Map,sceneCaseIds:[],flowNodesMap:new Map,allscenes:null,selectedScenes:[],selectedSceneCases:[],checkall:!1,selectedCases:[],checkedFlowNodes:[],caseIds:[],flowNodeIds:new Map,selectedScene:[],exeImgs:{0:"/static/img/waiting.png",10:"/static/img/init.png",2:"/static/img/success.png",3:"/static/img/error.png",13:"/static/img/running.gif",4:"/static/img/success.png",5:"/static/img/jump.png",11:"/static/img/warn.png",12:"/static/img/warn.png"},batchId:null,exeStautShow:'<i class="icon-meh"></i>无计划',exeStauts:!0,expandString:"展开",unexpandString:"收起",selectTestPlan:"",addModalShow:!1,addRoundModalShow:!1,addRowData:Na({},Ta),addRoundRowData:Na({},Fa),addModalTitle:"新增测试计划",editType:1,testPlanArray:[],testPhaseArray:[],testRoundArray:[],orderType:"asc",orderColumns:"id",page:{totalCount:1,currentPage:1,totalPage:1,pageSize:5},scenePage:{currentPage:1,pageSize:5,order:"",sort:"",totalPage:1,totalCount:1},logShow:!1,interruptTime:5,interruptExe:0,interruptData:{},isPageNumberError:!1,senceDialog:!1,testPlanDialog:!1,addTestPlanDialog:!1}},mounted:function(){var e=this,t=sessionStorage.getItem("testPlanId")||void 0;e.caselibId=sessionStorage.getItem("caselibId")||1241,new Promise((function(a,s){console.log("++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++"),ka.a.ajax({url:"testPlanController/queryTestPlan",data:{caseLibId:e.caselibId,nameMedium:"",descMedium:""},success:function(l){console.log("++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++"),"0000"!==l.respCode?s("出了点问题吧"):l.testPlanEntityList&&l.testPlanEntityList.length>0?(null==t?(e.testPlanId=l.testPlanEntityList[0].id,console.log("我来自查询出来的")):(console.log("我来自跳转转过来的出来的"),e.testPlanId=t,sessionStorage.removeItem("testPlanId")),e.testPlans=l.testPlanEntityList,a()):s("请添加测试计划！")}})})).then((function(){e.getCases()})).catch((function(e){ka.a.alert(e)})),rt()("#add-modal").on("hidden.bs.modal",(function(t){for(var a=e.selectedScene,s=0,l=a.length;s<l;s++)a.shift()}))},methods:{onSubmit:function(){console.log("submit!")},getTestPlanList:function(){var e=this;d({url:"testPlanController/queryTestPlan",method:"post",params:{nameMedium:"",descMedium:"",caseLibId:+this.caseLibId}}).then((function(t){e.testPlanId=data.testPlanEntityList[0].id,e.testPlans=data.testPlanEntityList,resolve()})).catch((function(e){console.log(e)}))},queryRunners:function(){var e=this;ka.a.ajax({url:"executeController/queryRunners ",type:"post",contentType:"application/json",data:JSON.stringify({serviceName:"web.ui"}),success:function(t){"0000"==t.respCode?(e.runners=t.runners,0==t.runners.length&&ka.a.alert("查询不到执行机")):ka.a.alert(t.respMsg)},error:function(){ka.a.alert("网络错误！请点击重新查询！")}})},hideAlert:function(){this.alertShow=!1},stopExe:function(){var e=this;ka.a.ajax({url:"batchRunCtrlController/terminateBatch ",type:"post",contentType:"application/json",data:JSON.stringify({batchId:e.batchId}),success:function(t){"0000"==t.respCode?(ka.a.alert(t.respMsg),e.startQueryResult()):ka.a.alert(t.respMsg)},error:function(){ka.a.alert("网络错误！请点击重新查询！")}})},executeAll:function(){var e=this;if(e.userId)if(e.recordflag)if(e.exeScope)if(e.testPlanId)if("appointed"!=e.runnerExecuteType||0!==e.runnerselected.length)if(e.exeStauts){var t=[];if(1==e.exeScope);else for(var a=0;a<e.selectedSceneCases.length;a++){var s={},l=e.selectedSceneCases[a].split("-");s.caseId=l[l.length-1],s.sceneId=l[1],t.push(s)}e.logShow=!0,e.exeStautShow='<i class="icon-spinner"></i>执行中',ka.a.ajax({url:"executeController/t1",type:"post",contentType:"application/json",data:JSON.stringify({userId:e.userId,recordflag:e.recordFlag,exeScope:e.exeScope,selectState:e.selectState,selectedExeInstances:t,testPlanId:e.testPlanId,identifiableRunnerName:e.runnerExecuteType,appointedRunners:e.runnerselected}),success:function(t){"0000"===t.respCode?(e.startQueryLog(),ka.a.ajax({url:"batchRunCtrlController/queryLatestBatchIdForTestPlan",type:"post",contentType:"application/json",data:JSON.stringify({testPlanId:e.testPlanId}),success:function(t){e.batchId=t.batchId,e.startQueryResult()},error:function(){ka.a.alert("网络错误，执行失败！"),e.setResultIcon()}})):(ka.a.alert(t.respMsg),e.setResultIcon())},error:function(){ka.a.alert("网络错误，执行失败！"),e.setResultIcon()}})}else ka.a.alert("该测试计划正在执行中，若想再次执行，请终止当前执行");else ka.a.alert("请选择执行机");else ka.a.alert("请选择测试计划");else ka.a.alert("请填写执行范围");else ka.a.alert("请填写recordflag");else ka.a.alert("请填写用户id")},fullScreen:function(){var e=document.getElementsByClassName("logcontainer")[0];e.style.width="100%",e.style.height="80vh",this.fullFlag=!1},showScreen:function(){this.logShow=!this.logShow,this.subScreen()},updateScreen:function(){var e=document.getElementsByClassName("logcontainer")[0];e.style.width="auto",e.style.height="auto",this.logShow=!this.logShow},subScreen:function(){var e=document.getElementsByClassName("logcontainer")[0];e.style.width="500px",e.style.height="500px",this.fullFlag=!0},startQueryResult:function(){var e=this;ka.a.ajax({url:"batchRunCtrlController/syncQueryIncInsStatus",type:"post",contentType:"application/json",data:JSON.stringify({batchId:e.batchId,reqSyncNo:null,sessionId:null}),success:function(t){"0000"==t.respCode?-1==t.respSyncNo?(e.setResultIcon(t.insStatuses),e.exeStautShow='<i class="icon-ok"></i>已执行',console.log("finish this branch")):(e.setResultIcon(t.insStatuses),e.syncQueryIncInsStatus(t)):ka.a.alert(t.respMsg)},error:function(){ka.a.alert("网络错误！请点击重新查询！")}})},syncQueryIncInsStatus:function(e){var t=this;ka.a.ajax({url:"batchRunCtrlController/syncQueryIncInsStatus",type:"post",contentType:"application/json",data:JSON.stringify({batchId:e.batchId,reqSyncNo:e.respSyncNo,sessionId:e.sessionId}),success:function(a){-1==a.respSyncNo?(t.setResultIcon(a.insStatuses),console.log("finish this branch"),t.exeStautShow='<i class="icon-ok"></i>已执行'):-2==a.respSyncNo?t.syncQueryIncInsStatus(e):(t.setResultIcon(a.insStatuses),1==a.insStatuses[0].manualChooseErrExecuting&&3==a.insStatuses[0].status?(t.interruptData=a,t.runInterrupt()):t.syncQueryIncInsStatus(a),console.log("continue this branch"))},error:function(){ka.a.alert("网络错误！请点击重新查询！")}})},runInterrupt:function(){rt()("#runInterrupt").modal("show");var e=this,t=setInterval((function(){return 2==e.interruptExe?(clearInterval(t),e.interruptTime=5,e.interruptExe=0,e.instanceErrorChoice(2),!1):e.interruptTime<1||1==e.interruptExe?(rt()("#runInterrupt").modal("hide"),e.interruptExe=0,clearInterval(t),e.interruptTime=5,e.instanceErrorChoice(1),!0):void e.interruptTime--}),1e3)},runContinue:function(){this.interruptExe=1,rt()("#runInterrupt").modal("hide")},runStop:function(){this.interruptExe=2,rt()("#runInterrupt").modal("hide")},instanceErrorChoice:function(e){var t=this,a=2!=e;ka.a.ajax({url:"batchRunCtrlController/instanceErrorChoice",type:"post",contentType:"application/json",data:JSON.stringify({batchId:t.interruptData.batchId,sceneId:t.interruptData.insStatuses[0].sceneId,caseId:t.interruptData.insStatuses[0].testcaseId,errorContinuing:a}),success:function(e){"0000"==e.respCode?a&&t.syncQueryIncInsStatus(t.interruptData):ka.a.alert(e.respMsg)},error:function(){ka.a.alert("网络错误！请点击重新查询！")}})},startQueryLog:function(){ka.a.ajax({url:"executeController/syncQueryLog",type:"post",contentType:"application/json",data:JSON.stringify({logType:2,reqSyncNo:null,sessionId:null,testPlanId:this.testPlanId,latestLineNum:50}),success:function(e){if("0000"==e.respCode){var t=rt()("#logarea");t.text(e.logSeg);var a=document.getElementById("logarea");hljs.highlightBlock(a),t.scrollTop(99999999999),function e(t){ka.a.ajax({url:"executeController/syncQueryLog",type:"post",contentType:"application/json",data:JSON.stringify({logType:2,reqSyncNo:t.respSyncNo,sessionId:t.sessionId,testPlanId:t.testPlanId,latestLineNum:50}),success:function(t){if("0000"==t.respCode){var a=rt()("#logarea");if(null!=t.logSeg){a.text(a.text()+t.logSeg);var s=document.getElementById("logarea");hljs.highlightBlock(s)}a.scrollTop(99999999999),e(t)}else ka.a.alert(t.respMsg)},error:function(){ka.a.alert("网络错误！请点击重新查询！")}})}(e)}else ka.a.alert(e.respMsg)},error:function(){ka.a.alert("网络错误！请点击重新查询！")}})},reQuery:function(){var e=this;ka.a.ajax({url:"batchRunCtrlController/queryLatestBatchIdForTestPlan",type:"post",contentType:"application/json",data:JSON.stringify({testPlanId:e.testPlanId}),success:function(t){e.batchId=t.batchId,e.startQueryResult()},error:function(){ka.a.alert("网络错误，执行失败！"),e.setResultIcon()}}),e.batchId&&e.startQueryResult()},setResultIcon:function(e){var t=this;if(e){var a=!0,s=!1,l=void 0;try{for(var n,o=e[Symbol.iterator]();!(a=(n=o.next()).done);a=!0){var i=n.value;i.flowNodeId?null!=document.querySelector("#img-".concat(i.sceneId,"-").concat(i.testcaseId,"-").concat(i.flowNodeId))&&(document.querySelector("#img-".concat(i.sceneId,"-").concat(i.testcaseId,"-").concat(i.flowNodeId)).src=this.exeImgs[i.status]):null!=document.querySelector("#img-".concat(i.sceneId,"-").concat(i.testcaseId))&&(document.querySelector("#img-".concat(i.sceneId,"-").concat(i.testcaseId)).src=this.exeImgs[i.status]);var r="#runner-"+i.sceneId+"-"+i.testcaseId;if(null!=rt()(r)&&(console.log(i.runnerName),null!=i.runnerName)){var c=i.runnerName.replace(/-/g,"_").split("/");console.log(rt()(r).children().text("分配执行机为："+c[0]))}}}catch(e){s=!0,l=e}finally{try{a||null==o.return||o.return()}finally{if(s)throw l}}}else ot()(document.querySelectorAll('img[id^="img-"]')).forEach((function(e){e.src=t.exeImgs[0]}))},testPlanManager:function(){this.testPlanDialog=!0},addScene:function(){this.getScene(this.scenePage.currentPage,this.scenePage.pageSize,this.scenePage.order,this.scenePage.sort)},getScene:function(e,t,a,s){var l=this,n=this;console.log(n.caselibId),ka.a.ajax({url:"sceneController/pagedBatchQueryScene",data:JSON.stringify({currentPage:e,pageSize:t,orderType:a,orderColumns:s,caseLibId:n.caselibId}),success:function(e){"0000"==e.respCode?(console.log("陈工了"),n.allscenes=e.sceneEntityList,n.scenePage.currentPage=e.currentPage,n.scenePage.totalCount=e.totalCount,n.scenePage.totalPage=e.totalPage,l.senceDialog=!0,console.log("陈工了2223")):ka.a.alert("场景获取失败!")}})},turnToScenePage:function(e){var t=this;if(!(e=parseInt(e))||e>t.scenePage.totalPage||e<1)return alert("页码输入有误！"),!1;this.scenePage.currentPage=e,this.getScene(t.scenePage.currentPage,t.scenePage.pageSize,t.scenePage.order,t.scenePage.sort)},removeSceneAndCase:function(){var e=this,t=this;this.selectedScenes.length?ka.a.confirm("","","","确认要移除场景和用例吗？").then((function(){var a={testPlanId:e.testPlanId,sceneList:e.selectedScenes,testcaseList:e.selectedCases};ka.a.ajax({url:"caseExecuteInstance/deleteCaseExecuteInstance",data:a,success:function(e){"0000"===e.respCode?(rt()("#vac-confirm").modal("hide"),t.selectedScenes=[],ka.a.alert("移除成功"),t.getCases()):ka.a.alert("移除失败")}})}),(function(){})):ka.a.alert("请选择要删除的场景!")},sendSceneData:function(){var e=this,t={testPlanId:+this.testPlanId,testcaseList:[],sceneList:this.selectedScene,creatorId:+sessionStorage.getItem("userId")||3};ka.a.ajax({url:"caseExecuteInstance/insertCaseExecuteInstance",data:t,success:function(t){rt()("#add-modal").modal("hide"),"0000"===t.respCode?(ka.a.alert("添加成功"),e.getCases()):ka.a.alert(t.respMsg)},error:function(){rt()("#add-modal").modal("hide"),ka.a.alert("添加失败")}})},selectAll:function(e){var t=this;e.target.checked?this.allscenes.forEach((function(e){t.selectedScene.includes(e.id)||t.selectedScene.push(e.id)})):this.allscenes.forEach((function(e){t.selectedScene.pop()}))},setDraggable:function(){rt()(".sortable_caselist").length>0&&(rt()(".sortable_caselist").sortable({handle:".handle"}),rt()(".sortable_caselist").disableSelection()),rt()(".sortable_sceneslist").length>0&&(rt()("#sortable_sceneslist").sortable({handle:".handle2"}),rt()("#sortable_sceneslist").disableSelection()),rt()(".sortable_scene_caselist").length>0&&(rt()(".sortable_scene_caselist").sortable({handle:".handle1"}),rt()(".sortable_scene_caselist").disableSelection()),rt()("#testround-main").length>0&&rt()("#testround-main").disableSelection()},senceAddedStatus:function(e){for(var t=this.testSceneList,a=0;a<t.length;a++)if(+t[a].sceneId==+e)return!0;return!1},getBatchIdForTestPlan:function(e){var t=this;ka.a.ajax({url:"batchRunCtrlController/queryLatestBatchIdForTestPlan",type:"post",contentType:"application/json",data:JSON.stringify({testPlanId:e}),success:function(e){"0000"==e.respCode?(t.batchId=e.batchId,t.getSinglebranchStatus()):"10012000"==e.respCode?(t.exeStautShow='<i class="icon-circle-blank"></i>尚未执行',t.exeStauts=!0,ka.a.alert(e.respMsg)):ka.a.alert("查询branchId出错啦")},error:function(){ka.a.alert("网络错误")}})},getSinglebranchStatus:function(){var e=this;ka.a.ajax({url:"batchRunCtrlController/syncQueryIncInsStatus",type:"post",contentType:"application/json",data:JSON.stringify({batchId:e.batchId,reqSyncNo:null,sessionId:null}),success:function(t){"0000"==t.respCode?-1==t.respSyncNo?(e.setResultIcon(t.insStatuses),e.exeStautShow='<i class="icon-ok"></i>已执行',e.exeStauts=!0):(e.setResultIcon(t.insStatuses),e.exeStautShow='<i class="icon-spinner"></i>执行中',e.exeStauts=!1):(e.exeStautShow='<i class="icon-question"></i>未知',e.exeStauts=!1,ka.a.alert(t.respMsg))},error:function(){ka.a.alert("网络错误！请点击重新查询！")}})},getCases:function(){var e=this,t={caselibId:e.caselibId,testPlanId:e.testPlanId,roundFlag:2,scopeFlag:1};e.testPlanId?(ka.a.ajax({url:"caseExecuteInstance/queryCaseExecuteInstance",data:t,success:function(t){if("0000"!=t.respCode)ka.a.alert(t.respMsg);else{if(console.log(),e.testCaseList=t.executeInstanceResult.testCaseList,e.testSceneList=t.executeInstanceResult.testSceneList,e.$nextTick((function(){e.setDraggable()})),!e.testSceneList||!e.testSceneList.length)return;e.caseIds.length=0,e.flowNodeIds.clear(),null!=e.testCaseList&&e.testCaseList.forEach((function(t){if(ka.a.pushNoRepeat(e.caseIds,t.caseId),2==t.caseCompositeType){var a=[],s=!0,l=!1,n=void 0;try{for(var o,i=t.flowNodes[Symbol.iterator]();!(s=(o=i.next()).done);s=!0){var r=o.value;a.push(+r.flowNodeId)}}catch(e){l=!0,n=e}finally{try{s||null==i.return||i.return()}finally{if(l)throw n}}e.flowNodeIds.set(+t.caseId,a)}}))}if(e.sceneIds.length=[],e.sceneCaseMap.clear(),e.flowNodesMap.clear(),e.testSceneList.sort(e.compare("orderNum")),e.testSceneList)for(var a=0;a<e.testSceneList.length;a++){var s=e.testSceneList[a];e.sceneIds.push(s.sceneId);for(var l=[],n=0;n<s.testCaseList.length;n++){var o=s.testCaseList[n];if(l.push(s.sceneId+"-"+o.caseId),2==o.caseCompositeType){e.sceneCaseIds.push(s.sceneId+"-"+o.caseId);var i=[],r=!0,c=!1,d=void 0;try{for(var u,m=o.flowNodes[Symbol.iterator]();!(r=(u=m.next()).done);r=!0){var p=u.value;l.push(s.sceneId+"-"+o.caseId+"-"+p.flowNodeId),i.push(s.sceneId+"-"+o.caseId+"-"+p.flowNodeId)}}catch(e){c=!0,d=e}finally{try{r||null==m.return||m.return()}finally{if(c)throw d}}e.flowNodesMap.set(s.sceneId+"-"+o.caseId,i)}}e.sceneCaseMap.set(s.sceneId,l)}}}),e.getBatchIdForTestPlan(t.testPlanId)):ka.a.alert("请选择测试计划")},compare:function(e){return function(t,a){return t[e]-a[e]}},hideCaseList:function(e){var t=rt()(".case-list",rt()(e.currentTarget).parent())[0];t.style.display="block",rt()(e.currentTarget).find("span").html()==this.unexpandString?(rt()(e.currentTarget).find("i").removeClass("icon-caret-down").addClass("icon-caret-right"),t.style.display="none",rt()(e.currentTarget).find("span").html(this.expandString)):(rt()(e.currentTarget).find("i").removeClass("icon-caret-right").addClass("icon-caret-down"),rt()(e.currentTarget).find("span").html(this.unexpandString)),e.stopPropagation()},changeCase:function(e,t){var a,s=this;switch(t){case 1:a=this.selectedCases;break;case 2:a=this.checkedFlowNodes;break;case 3:a=this.selectedSceneCases}console.log(e);var l=a.findIndex((function(t){return t===e}));-1!==l?a.splice(l,1):a.push(e);var n=(e+"").split("-");if(3===n.length){var o=n.slice(0,2).join("-");if(this.flowNodesMap.get(o).every((function(e){return s.selectedSceneCases.includes(e)})))ka.a.pushNoRepeat(this.selectedSceneCases,o);else{var i=new Set(this.selectedSceneCases);i.delete(o),this.selectedSceneCases=ot()(i)}}if(3===t){var r=n[0];if(this.sceneCaseMap.get(+r).every((function(e){return s.selectedSceneCases.includes(e)})))this.checkallSceneIds.push(+r);else{var c=new Set(this.checkallSceneIds);c.delete(+r),this.checkallSceneIds=ot()(c)}}this.setBackground(this.selectedSceneCases)},saveSort:function(e){for(var t=rt()("input[value^=sort-"+e+"]"),a=[],s=0;s<t.length;s++)a.push(+rt()(t[s]).attr("name"));ka.a.ajax({url:"sceneController/sceneTestcaseSortSave",data:{sceneId:e,caseIdList:a},success:function(e){"0000"===e.respCode?ka.a.alert("排序保存成功"):ka.a.alert("排序保存失败")}})},saveScenesSort:function(){for(var e=rt()("input.checkscene"),t=[],a=0;a<e.length;a++)t.push(+rt()(e[a]).attr("name"));ka.a.ajax({url:"sceneController/sceneSortSave",data:{keyIdList:t},success:function(e){"0000"===e.respCode?ka.a.alert("场景排序保存成功"):ka.a.alert("场景排序保存失败")}})},viewCase:function(e,t,a,s,l,n,o){var i={testPlanId:this.testPlanId,batchId:this.batchId,sceneId:e,caseId:t,testPhase:l||this.testphaseValue,testRound:n||this.testroundValue,flowNodeId:s,sourcechannel:a,recorderStatus:o||"2"},r=JSON.stringify(i);sessionStorage.setItem("executeInstanceInfo",r),window.open("case-operation.html")},turnToPage:function(e){e>0&&e<=this.page.totalPage?(this.page.currentPage=e,this.getTestPlans()):ka.a.alert("不在页码范围")},add:function(){var e=this,t=1===this.editType?"testPlanController/insertTestPlan":"testPlanController/updateTestPlan",a=1===this.editType?this.addRowData:{id:this.selectTestPlan,nameMedium:this.addRowData.nameMedium,descMedium:this.addRowData.descMedium,modifierId:this.addRowData.creatorId};console.log(this.addRowData),ka.a.ajax({url:t,data:a,success:function(t){rt()("#addTestPlan").modal("hide"),"0000"===t.respCode?(ka.a.alert(t.respMsg),e.addModalShow=!1,e.addRowData=Na({},Ta),e.getTestPlans()):ka.a.alert(t.respMsg)},error:function(){ka.a.alert("出错啦~7")}})},delete:function(){var e=this;ka.a.ajax({url:"testPlanController/deleteTestPlan",data:{id:this.selectTestPlan},success:function(t){"0000"===t.respCode&&(e.selectTestPlan="",e.getTestPlans()),ka.a.alert(t.respMsg)},error:function(){ka.a.alert("出错啦~8")}})},showAddModal:function(){this.addRowData=Na({},Ta),this.editType=1,this.addTestPlanDialog=!0},showUpdateModal:function(e){var t=this;if(this.selectTestPlan=e,""!==this.selectTestPlan){this.editType=2,rt()("#addTestPlan").on("show.bs.modal",(function(e){rt()(this).find(".modal-title").text("修改测试计划")})),rt()("#addTestPlan").modal("show");var a=this.testPlanArray.find((function(e){return+t.selectTestPlan==+e.id}));this.addRowData.nameMedium=a.nameMedium,this.addRowData.descMedium=a.descMedium,this.addRowData.testPhaseId=a.testPhaseId,this.addRowData.testRoundId=a.testRoundId}else ka.a.alert("请选择测试计划")},getTestPlans:function(){var e=this;ka.a.ajax({url:"testPlanController/pagedBatchQueryTestPlan",data:{pageSize:this.page.pageSize,currentPage:this.page.currentPage,orderType:this.orderType,orderColumns:this.orderColumns,nameMedium:"",descMedium:"",caseLibId:+Ta.caseLibId},success:function(t){"0000"===t.respCode?(e.testPlanArray=t.testPlanEntityList,e.testPlans=t.testPlanEntityList,e.page.totalCount=t.totalCount,e.page.totalPage=t.totalPage):ka.a.alert(t.respMsg)},error:function(){ka.a.alert("出错啦~2")}})},getTestPhases:function(){var e=this;ka.a.ajax({url:"testphaseController/selectAllTestphase",data:{},success:function(t){"0000"===t.respCode?e.testPhaseArray=t.testphaseEntityList:ka.a.alert(t.respMsg)},error:function(){ka.a.alert("出错啦~4")}})},getTestRound:function(){var e=this;ka.a.ajax({url:"testroundController/selectAllTestround",data:{},success:function(t){"0000"===t.respCode?e.testRoundArray=t.testroundEntityList:ka.a.alert(t.respMsg)}})},changeSelect:function(e){+e==+this.selectTestPlan&&(this.selectTestPlan="")},addTestRound:function(){var e=this;ka.a.ajax({url:"testroundController/insertTestround",data:this.addRoundRowData,success:function(t){"0000"===t.respCode?(e.addRoundModalShow=!1,e.getTestRound(),rt()("#addTestRoundId").modal("hide")):ka.a.alert(t.respMsg)},error:function(){ka.a.alert("网络错误，请稍候再试")}})},resort:function(e){"desc"===e.getAttribute("data-sort")?(this.orderType="asc",e.getElementsByTagName("span")[0].setAttribute("class","icon-sort-up"),e.setAttribute("data-sort","asc")):(this.orderType="desc",e.getElementsByTagName("span")[0].setAttribute("class","icon-sort-down"),e.setAttribute("data-sort","desc")),this.orderColumns=e.getAttribute("data-order"),this.getTestPlans()}}};var Ma=function(e){a("8Dfh"),a("UeiS")},Da=Object(m.a)(Ra,(function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[a("div",[a("div",{staticClass:"content"},[a("section",{attrs:{id:"main-content"}},[a("section",{staticClass:"content-wrapper",staticStyle:{"margin-bottom":"50px"}},[a("div",{staticClass:"main",staticStyle:{padding:"15px","user-select":"none"}},[a("div",{staticClass:"main-content",staticStyle:{padding:"15px 0"},attrs:{id:"testround-main"}},[a("div",{staticClass:"row"},[a("form",{staticClass:"form-horizontal col-lg-12"},[a("div",{staticClass:"form-group col-lg-8"},[a("label",{staticClass:"option-name control-label col-lg-3"},[e._v("测试计划及状态")]),e._v(" "),a("div",{staticClass:" col-lg-4"},[a("el-select",{attrs:{placeholder:"请选择"},model:{value:e.testPlanId,callback:function(t){e.testPlanId=t},expression:"testPlanId"}},e._l(e.testPlans,(function(e,t){return a("el-option",{key:"testplans"+t,attrs:{label:e.nameMedium,value:e.id}})})),1)],1),e._v(" "),a("label",{staticClass:"option-name control-label col-lg-2",domProps:{innerHTML:e._s(e.exeStautShow)}}),e._v(" "),a("div",{staticClass:" col-lg-3"},[a("el-button",{attrs:{type:"primary",size:"mini"},on:{click:function(t){return e.testPlanManager()}}},[e._v("测试计划管理")])],1)]),e._v(" "),a("div",{staticClass:"form-group col-lg-4"},[a("label",{staticClass:"option-name col-lg-4 control-label"},[e._v("\n                                            执行范围\n                                        ")]),e._v(" "),a("div",{staticClass:"col-lg-8"},[a("el-select",{attrs:{placeholder:"请选择"},model:{value:e.exeScope,callback:function(t){e.exeScope=t},expression:"exeScope"}},[a("el-option",{attrs:{label:"所有",value:"1"}}),e._v(" "),a("el-option",{attrs:{label:"已选择",value:"0"}})],1)],1)])])]),e._v(" "),a("div",{staticClass:"row"},[a("form",{staticClass:"form-horizontal col-lg-12"},[a("div",{staticClass:"form-group col-lg-8"},[a("label",{staticClass:"option-name control-label col-lg-3"},[e._v("执行机分配模式")]),e._v(" "),a("div",{staticClass:"col-lg-4"},[a("el-select",{attrs:{placeholder:"请选择"},model:{value:e.runnerExecuteType,callback:function(t){e.runnerExecuteType=t},expression:"runnerExecuteType"}},[a("el-option",{attrs:{label:"指定执行机",value:"appointed"}}),e._v(" "),a("el-option",{attrs:{label:"自动分配",value:"auto"}})],1)],1),e._v(" "),a("label",{staticClass:"option-name control-label col-lg-2"},[e._v("执行机选择")]),e._v(" "),a("div",{staticClass:" col-lg-3 "},[a("el-select",{attrs:{placeholder:"请选择执行机",multiple:!0},model:{value:e.runnerselected,callback:function(t){e.runnerselected=t},expression:"runnerselected"}},e._l(e.runners,(function(e,t){return a("el-option",{key:"runner"+t,attrs:{label:e.runnerName,value:e.identifiableName}})})),1)],1)]),e._v(" "),e._m(0)])]),e._v(" "),a("div",{staticClass:"test-control container",staticStyle:{margin:"15px 5px"}},[a("div",{staticStyle:{"font-size":"12px",color:"#999"}}),e._v(" "),a("el-button",{attrs:{type:"primary",size:"mini"},on:{click:function(t){return e.executeAll()}}},[a("i",{staticClass:"icon-play"}),e._v(" 批量执行")]),e._v(" "),a("el-button",{attrs:{type:"primary",size:"mini"},on:{click:function(t){return e.stopExe()}}},[a("i",{staticClass:"icon-stop"}),e._v(" 终止执行")]),e._v(" "),a("el-button",{attrs:{type:"primary",size:"mini"},on:{click:function(t){return e.getCases()}}},[a("i",{staticClass:"icon-eye-open"}),e._v(" 查询")]),e._v(" "),a("el-button",{attrs:{type:"primary",size:"mini"},on:{click:function(t){return e.addScene()}}},[a("i",{staticClass:"icon-plus"}),e._v(" 添加场景")]),e._v(" "),a("el-button",{attrs:{type:"primary",size:"mini"},on:{click:function(t){return e.removeSceneAndCase()}}},[a("i",{staticClass:"icon-remove"}),e._v(" 移除场景与用例")]),e._v(" "),a("el-button",{attrs:{type:"primary",size:"mini"},on:{click:function(t){return e.reQuery()}}},[a("i",{staticClass:"icon-refresh"}),e._v(" 重新查询执行结果")])],1),e._v(" "),a("div",{attrs:{id:""}},[a("div",{staticClass:"logcontainer"},[e.logShow?a("el-card",{staticClass:"box-card"},[a("div",{staticClass:"clearfix",attrs:{slot:"header"},slot:"header"},[a("span",[e._v("日志信息")]),e._v(" "),a("el-button",{staticStyle:{float:"right","margin-right":"5px",padding:"0px"},attrs:{type:"text"},on:{click:function(t){return e.updateScreen()}}},[a("i",{staticClass:"icon-double-angle-right"})]),e._v(" "),e.fullFlag?a("el-button",{staticClass:"el-icon-full-screen",staticStyle:{float:"right","margin-right":"5px",padding:"0px"},attrs:{type:"text"},on:{click:function(t){return e.fullScreen()}}}):a("el-button",{staticStyle:{float:"right","margin-right":"5px",padding:"0px"},attrs:{type:"text"},on:{click:function(t){return e.subScreen()}}},[a("i",{staticClass:"fa fa-compress"})])],1),e._v(" "),a("div",{attrs:{id:"area"}},[a("pre",{staticClass:"pre"},[a("code",{staticClass:"javascript",attrs:{id:"logarea"}})])])]):a("div",{attrs:{id:"loghidden"}},[a("div",{attrs:{id:"hidden"}},[a("el-button",{attrs:{size:"small"},on:{click:function(t){return e.showScreen()}}},[a("i",{staticClass:"icon-double-angle-left"},[a("font",{attrs:{color:"black"}},[e._v("展开日志")])],1)])],1)])],1),e._v(" "),a("div",{staticClass:"main-content2"},[e.testCaseList&&e.testCaseList.length?a("div",{staticClass:"case-list-wrapper list-wrapper",staticStyle:{padding:"10px 20px 10px 20px"}},[a("header",{staticClass:"panel-heading",staticStyle:{margin:"0 -15px"}},[e._v("用例列表")]),e._v(" "),a("button",{staticClass:"hide-case-list btn btn-xs btn-info",staticStyle:{padding:"3px 6px",margin:"5px 10px"},on:{click:function(t){return e.hideCaseList(t)},mousedown:function(e){e.stopPropagation()}}},[a("span",[e._v("收起")]),e._v("  "),a("i",{staticClass:"icon-caret-down"})]),e._v(" "),a("div",{staticClass:"case-list"},[e.testCaseList&&e.testCaseList.length?a("div",{staticClass:"check-all-case",staticStyle:{margin:"10px 10px"}},[e._v("全选\n                                                "),a("input",{directives:[{name:"model",rawName:"v-model",value:e.checkall,expression:"checkall"}],attrs:{type:"checkbox"},domProps:{checked:Array.isArray(e.checkall)?e._i(e.checkall,null)>-1:e.checkall},on:{change:[function(t){var a=e.checkall,s=t.target,l=!!s.checked;if(Array.isArray(a)){var n=e._i(a,null);s.checked?n<0&&(e.checkall=a.concat([null])):n>-1&&(e.checkall=a.slice(0,n).concat(a.slice(n+1)))}else e.checkall=l},function(t){return e.checkallBox(t)}]}})]):e._e(),e._v(" "),a("div",{attrs:{id:"sortable_caselist"}},e._l(e.testCaseList,(function(t,s){return a("div",{key:"case_wrapper"+s,staticClass:"case-lib"},["1"==t.caseCompositeType?[a("div",{staticClass:"checkbox-wrapper"},[a("i",{staticClass:"icon-move handle",staticStyle:{color:"#ff6c60"}}),e._v("  \n                                                            "),a("div",{staticStyle:{display:"inline-block",width:"20px",height:"20px"},on:{mousedown:function(e){e.stopPropagation()}}},[a("input",{directives:[{name:"model",rawName:"v-model",value:e.selectedCases,expression:"selectedCases"}],staticClass:"checkall",attrs:{type:"checkbox"},domProps:{value:t.caseId,checked:Array.isArray(e.selectedCases)?e._i(e.selectedCases,t.caseId)>-1:e.selectedCases},on:{mousedown:function(e){e.stopPropagation()},change:[function(a){var s=e.selectedCases,l=a.target,n=!!l.checked;if(Array.isArray(s)){var o=t.caseId,i=e._i(s,o);l.checked?i<0&&(e.selectedCases=s.concat([o])):i>-1&&(e.selectedCases=s.slice(0,i).concat(s.slice(i+1)))}else e.selectedCases=n},function(t){return e.checkallToggle(t)}]}})])]),e._v(" "),a("div",{staticClass:"case-wrapper"},[a("div",{staticClass:"case",on:{click:function(a){return e.changeCase(t.caseId,1)},mousedown:function(e){e.stopPropagation()}}},[a("div",{staticClass:"case-header"},[a("img",{attrs:{src:e.exeImgs[0],id:"img-"+t.caseId}}),e._v(" "),a("p",{staticClass:"width-limit",attrs:{title:t.casecode}},[e._v(e._s(t.caseCode))]),e._v(" "),a("input",{directives:[{name:"model",rawName:"v-model",value:e.selectedCases,expression:"selectedCases"}],staticClass:"check-case single-case-incaselib",attrs:{type:"checkbox"},domProps:{value:t.caseId,checked:Array.isArray(e.selectedCases)?e._i(e.selectedCases,t.caseId)>-1:e.selectedCases},on:{change:[function(a){var s=e.selectedCases,l=a.target,n=!!l.checked;if(Array.isArray(s)){var o=t.caseId,i=e._i(s,o);l.checked?i<0&&(e.selectedCases=s.concat([o])):i>-1&&(e.selectedCases=s.slice(0,i).concat(s.slice(i+1)))}else e.selectedCases=n},function(t){return e.checkChanged(t)}]}}),e._v(" "),a("p",[a("a",{staticClass:"view-case",on:{click:function(a){return a.stopPropagation(),e.viewCase(t.caseId,"PE4")}}},[a("span",[e._v("查看")])])])]),e._v(" "),a("footer",{staticClass:"case-footer"})])])]:[a("div",{staticClass:"checkbox-wrapper"},[a("i",{staticClass:"icon-move handle",staticStyle:{color:"#ff6c60"}}),e._v("  \n                                                            "),a("div",{staticStyle:{display:"inline-block",width:"20px",height:"20px"},on:{mousedown:function(e){e.stopPropagation()}}},[a("input",{directives:[{name:"model",rawName:"v-model",value:e.selectedCases,expression:"selectedCases"}],staticClass:"checkall",attrs:{type:"checkbox"},domProps:{value:t.caseId,checked:Array.isArray(e.selectedCases)?e._i(e.selectedCases,t.caseId)>-1:e.selectedCases},on:{change:[function(a){var s=e.selectedCases,l=a.target,n=!!l.checked;if(Array.isArray(s)){var o=t.caseId,i=e._i(s,o);l.checked?i<0&&(e.selectedCases=s.concat([o])):i>-1&&(e.selectedCases=s.slice(0,i).concat(s.slice(i+1)))}else e.selectedCases=n},function(t){return e.checkallToggle(t)}],mousedown:function(e){e.stopPropagation()}}})])]),e._v(" "),a("div",{staticClass:"case-wrapper"},e._l(t.flowNodes,(function(s,l){return a("div",{key:"case_wrapper"+l,staticClass:"case",on:{mousedown:function(e){e.stopPropagation()},click:function(t){return e.changeCase(s.flowNodeId,2)}}},[a("div",{staticClass:"case-header"},[a("img",{attrs:{src:e.exeImgs[0],id:"img-"+s.flowNodeId}}),e._v(" "),a("p",{staticClass:"width-limit",attrs:{title:s.casecode}},[e._v(e._s(s.casecode))]),e._v(" "),a("input",{directives:[{name:"model",rawName:"v-model",value:e.checkedFlowNodes,expression:"checkedFlowNodes"}],staticClass:"check-case flow-node-incaselib",attrs:{type:"checkbox"},domProps:{value:s.flowNodeId,checked:Array.isArray(e.checkedFlowNodes)?e._i(e.checkedFlowNodes,s.flowNodeId)>-1:e.checkedFlowNodes},on:{change:[function(t){var a=e.checkedFlowNodes,l=t.target,n=!!l.checked;if(Array.isArray(a)){var o=s.flowNodeId,i=e._i(a,o);l.checked?i<0&&(e.checkedFlowNodes=a.concat([o])):i>-1&&(e.checkedFlowNodes=a.slice(0,i).concat(a.slice(i+1)))}else e.checkedFlowNodes=n},function(t){return e.checkChanged(t)}]}}),e._v(" "),a("p",[a("a",{staticClass:"view-case",on:{click:function(a){return a.stopPropagation(),e.viewCase(t.caseId,"PE4")}}},[a("span",[e._v("查看")])])])]),e._v(" "),a("footer",{staticClass:"case-footer"},[e._v("\n                                                                    2\n                                                                ")])])})),0)]],2)})),0)])]):e._e()])]),e._v(" "),e.testSceneList.length?a("header",{staticClass:"panel-heading"},[e._v("场景列表\n                                "),a("button",{staticClass:"hide-case-list btn btn-xs btn-info",on:{mousedown:function(e){e.stopPropagation()},click:function(t){return e.saveScenesSort()}}},[e._v("保存场景排序\n                                ")]),e._v(" "),e._m(1)]):e._e(),e._v(" "),a("div",{staticStyle:{"margin-top":"20px"},attrs:{id:"sortable_sceneslist"}},e._l(e.testSceneList,(function(t,s){return a("div",{key:s,staticClass:"scene-list-wrapper  -wrapper",staticStyle:{padding:"0px 20px 10px 20px"}},[a("i",{staticClass:"icon-move handle2",staticStyle:{color:"#5a3c3c"}}),e._v("  \n                                    "),a("div",{staticClass:"checkbox-wrapper",staticStyle:{display:"inline-block",padding:"2px 5px"},on:{mousedown:function(e){e.stopPropagation()}}},[a("input",{directives:[{name:"model",rawName:"v-model",value:e.selectedScenes,expression:"selectedScenes"}],staticClass:"checkscene",attrs:{type:"checkbox",name:t.id},domProps:{value:t.sceneId,checked:Array.isArray(e.selectedScenes)?e._i(e.selectedScenes,t.sceneId)>-1:e.selectedScenes},on:{change:function(a){var s=e.selectedScenes,l=a.target,n=!!l.checked;if(Array.isArray(s)){var o=t.sceneId,i=e._i(s,o);l.checked?i<0&&(e.selectedScenes=s.concat([o])):i>-1&&(e.selectedScenes=s.slice(0,i).concat(s.slice(i+1)))}else e.selectedScenes=n}}})]),e._v(" "),a("span",{staticClass:"scene-list-title list-title",staticStyle:{top:"2px"}},[e._v(e._s(t.sceneName))]),e._v(" "),a("button",{staticClass:"hide-case-list btn btn-xs btn-info",on:{click:function(t){return e.hideCaseList(t)},mousedown:function(e){e.stopPropagation()}}},[a("span",[e._v("展开")]),e._v("  "),a("i",{staticClass:"icon-caret-right"})]),e._v(" "),a("button",{staticClass:"hide-case-list btn btn-xs btn-info",on:{mousedown:function(e){e.stopPropagation()},click:function(a){return e.saveSort(t.sceneId)}}},[e._v("保存排序\n                                    ")]),e._v(" "),a("div",{staticClass:"case-list",staticStyle:{display:"none"}},[t.testCaseList&&t.testCaseList.length?a("div",{staticClass:"check-all-case",staticStyle:{padding:"2px 5px",margin:"10px 10px"},on:{mousedown:function(e){e.stopPropagation()}}},[e._v("全选用例\n                                            "),a("input",{directives:[{name:"model",rawName:"v-model",value:e.checkallSceneIds,expression:"checkallSceneIds"}],staticClass:"checkall-inscene",attrs:{type:"checkbox"},domProps:{value:t.sceneId,checked:Array.isArray(e.checkallSceneIds)?e._i(e.checkallSceneIds,t.sceneId)>-1:e.checkallSceneIds},on:{change:[function(a){var s=e.checkallSceneIds,l=a.target,n=!!l.checked;if(Array.isArray(s)){var o=t.sceneId,i=e._i(s,o);l.checked?i<0&&(e.checkallSceneIds=s.concat([o])):i>-1&&(e.checkallSceneIds=s.slice(0,i).concat(s.slice(i+1)))}else e.checkallSceneIds=n},function(t){return e.checkAllInScene(t)}]}})]):e._e(),e._v(" "),a("div",{staticClass:"sortable_scene_caselist"},e._l(t.testCaseList,(function(s,l){return a("div",{key:"case_wrapper"+l,staticClass:"case-lib case-lib-pad"},["1"==s.caseCompositeType?[a("div",{staticClass:"checkbox-wrapper"},[a("i",{staticClass:"icon-move handle1",staticStyle:{color:"#B8860B"}}),e._v("  \n                                                        "),a("div",{staticStyle:{display:"inline-block",width:"20px",height:"20px"},on:{mousedown:function(e){e.stopPropagation()}}},[a("input",{directives:[{name:"model",rawName:"v-model",value:e.selectedSceneCases,expression:"selectedSceneCases"}],staticClass:"check-flownodes",attrs:{type:"checkbox",name:s.caseId},domProps:{value:"sort-"+t.sceneId+"-"+s.caseId,checked:Array.isArray(e.selectedSceneCases)?e._i(e.selectedSceneCases,"sort-"+t.sceneId+"-"+s.caseId)>-1:e.selectedSceneCases},on:{change:[function(a){var l=e.selectedSceneCases,n=a.target,o=!!n.checked;if(Array.isArray(l)){var i="sort-"+t.sceneId+"-"+s.caseId,r=e._i(l,i);n.checked?r<0&&(e.selectedSceneCases=l.concat([i])):r>-1&&(e.selectedSceneCases=l.slice(0,r).concat(l.slice(r+1)))}else e.selectedSceneCases=o},function(t){return e.checkAllFlowNodes(t)}]}})])]),e._v(" "),a("div",{staticClass:"case-wrapper"},[a("div",{staticClass:"case",on:{click:function(a){return e.changeCase(t.sceneId+"-"+s.caseId,3)},mousedown:function(e){e.stopPropagation()}}},[a("div",{staticClass:"case-header"},[a("img",{attrs:{src:e.exeImgs[0],id:"img-"+t.sceneId+"-"+s.caseId}}),e._v(" "),a("p",{staticClass:"width-limit",attrs:{title:s.caseCode}},[e._v("\n                                                                    "+e._s(s.caseCode))]),e._v(" "),a("input",{directives:[{name:"model",rawName:"v-model",value:e.selectedSceneCases,expression:"selectedSceneCases"}],staticClass:"check-case check-case-inscene",attrs:{type:"checkbox"},domProps:{value:"sort-"+t.sceneId+"-"+s.caseId,checked:Array.isArray(e.selectedSceneCases)?e._i(e.selectedSceneCases,"sort-"+t.sceneId+"-"+s.caseId)>-1:e.selectedSceneCases},on:{change:[function(a){var l=e.selectedSceneCases,n=a.target,o=!!n.checked;if(Array.isArray(l)){var i="sort-"+t.sceneId+"-"+s.caseId,r=e._i(l,i);n.checked?r<0&&(e.selectedSceneCases=l.concat([i])):r>-1&&(e.selectedSceneCases=l.slice(0,r).concat(l.slice(r+1)))}else e.selectedSceneCases=o},function(t){return e.checkFlowNode(t)}]}}),e._v(" "),a("p",[a("a",{staticClass:"view-case",on:{click:function(a){return a.stopPropagation(),e.viewCase(t.sceneId,s.caseId,"PE6")}}},[a("span",[e._v("查看")])])])])]),e._v(" "),a("div",{staticClass:"runnerclass",attrs:{id:"runner-"+t.sceneId+"-"+s.caseId}},[a("p")])])]:[a("div",{staticClass:"checkbox-wrapper"},[a("i",{staticClass:"icon-move handle1",staticStyle:{color:"#B8860B"}}),e._v("  \n                                                        "),a("div",{staticStyle:{display:"inline-block",width:"20px",height:"20px"},on:{mousedown:function(e){e.stopPropagation()}}},[a("input",{directives:[{name:"model",rawName:"v-model",value:e.selectedSceneCases,expression:"selectedSceneCases"}],staticClass:"check-flownodes",attrs:{type:"checkbox",name:s.caseId},domProps:{value:"sort-"+t.sceneId+"-"+s.caseId,checked:Array.isArray(e.selectedSceneCases)?e._i(e.selectedSceneCases,"sort-"+t.sceneId+"-"+s.caseId)>-1:e.selectedSceneCases},on:{change:[function(a){var l=e.selectedSceneCases,n=a.target,o=!!n.checked;if(Array.isArray(l)){var i="sort-"+t.sceneId+"-"+s.caseId,r=e._i(l,i);n.checked?r<0&&(e.selectedSceneCases=l.concat([i])):r>-1&&(e.selectedSceneCases=l.slice(0,r).concat(l.slice(r+1)))}else e.selectedSceneCases=o},function(t){return e.checkAllFlowNodes(t)}]}})])]),e._v(" "),a("div",{staticClass:"case-wrapper"},[e._l(s.flowNodes,(function(l,n){return a("div",{key:"case_wrapper2"+n,staticClass:"case caseFlow",on:{mousedown:function(e){e.stopPropagation()},click:function(a){return e.changeCase(t.sceneId+"-"+s.caseId+"-"+l.flowNodeId,3)}}},[a("div",{staticStyle:{display:"flex","align-items":"center"}},[a("div",{staticClass:"case-header case-header-Flow"},[a("img",{attrs:{src:e.exeImgs[0],id:"img-"+t.sceneId+"-"+s.caseId+"-"+l.flowNodeId}}),e._v(" "),a("p",{staticClass:"width-limit",attrs:{title:l.flowNodeCode}},[e._v(e._s(l.flowNodeCode)+" ")]),e._v(" "),a("input",{directives:[{name:"model",rawName:"v-model",value:e.selectedSceneCases,expression:"selectedSceneCases"}],staticClass:"check-case check-case-inscene",attrs:{type:"checkbox"},domProps:{value:t.sceneId+"-"+s.caseId+"-"+l.flowNodeId,checked:Array.isArray(e.selectedSceneCases)?e._i(e.selectedSceneCases,t.sceneId+"-"+s.caseId+"-"+l.flowNodeId)>-1:e.selectedSceneCases},on:{change:[function(a){var n=e.selectedSceneCases,o=a.target,i=!!o.checked;if(Array.isArray(n)){var r=t.sceneId+"-"+s.caseId+"-"+l.flowNodeId,c=e._i(n,r);o.checked?c<0&&(e.selectedSceneCases=n.concat([r])):c>-1&&(e.selectedSceneCases=n.slice(0,c).concat(n.slice(c+1)))}else e.selectedSceneCases=i},function(t){return e.checkFlowNode(t)}]}}),e._v(" "),a("p",[a("a",{staticClass:"view-case",on:{click:function(a){return a.stopPropagation(),e.viewCase(t.sceneId,s.caseId,"PE6",l.flowNodeId)}}},[e._v("查看\n                                                                        ")])])]),e._v(" "),n!=s.flowNodes.length-1?a("i",{staticClass:"icon-long-arrow-right"}):e._e()])])})),e._v(" "),a("div",{staticClass:"runnerclass",attrs:{id:"runner-"+t.sceneId+"-"+s.caseId}},[a("p")])],2)]],2)})),0)])])})),0)])])])])])]),e._v(" "),a("el-dialog",{attrs:{title:"新增场景",visible:e.senceDialog,width:"50%"},on:{"update:visible":function(t){e.senceDialog=t}}},[a("div",{staticClass:"modal-body"},[a("table",{staticClass:"table table-bordered"},[a("thead",[a("tr",[a("th",{attrs:{scope:"th"}},[a("input",{attrs:{type:"checkbox"},on:{change:function(t){return e.selectAll(t)}}}),e._v("全选\n                            ")]),e._v(" "),a("th",{attrs:{scope:"col"}},[e._v("场景名称")]),e._v(" "),a("th",{attrs:{scope:"col"}},[e._v("场景描述")])])]),e._v(" "),a("tbody",e._l(e.allscenes,(function(t,s){return a("tr",{key:"scene"+s},[e.senceAddedStatus(t.id)?a("td",[e._v("已选择")]):a("td",[a("input",{directives:[{name:"model",rawName:"v-model",value:e.selectedScene,expression:"selectedScene"}],attrs:{type:"checkbox"},domProps:{value:t.id,checked:Array.isArray(e.selectedScene)?e._i(e.selectedScene,t.id)>-1:e.selectedScene},on:{change:function(a){var s=e.selectedScene,l=a.target,n=!!l.checked;if(Array.isArray(s)){var o=t.id,i=e._i(s,o);l.checked?i<0&&(e.selectedScene=s.concat([o])):i>-1&&(e.selectedScene=s.slice(0,i).concat(s.slice(i+1)))}else e.selectedScene=n}}})]),e._v(" "),a("td",[e._v(e._s(t.nameMedium))]),e._v(" "),a("td",[e._v(e._s(t.descShort))])])})),0)])]),e._v(" "),a("div",{staticClass:"col-lg-12 text-center"},[0!=e.scenePage.totalPage?a("div",{staticClass:"pagination-wrap"},[a("div",{staticClass:"num"},[a("select",{directives:[{name:"model",rawName:"v-model",value:e.scenePage.pageSize,expression:"scenePage.pageSize"}],staticClass:"form-control",attrs:{size:"1",name:"sample_1_length","aria-controls":"sample_1",id:"pageSizeSelect"},on:{change:function(t){var a=Array.prototype.filter.call(t.target.options,(function(e){return e.selected})).map((function(e){return"_value"in e?e._value:e.value}));e.$set(e.scenePage,"pageSize",t.target.multiple?a:a[0])}}},[a("option",{attrs:{value:"5",selected:""}},[e._v("5条/页")]),e._v(" "),a("option",{attrs:{value:"10"}},[e._v("10条/页")]),e._v(" "),a("option",{attrs:{value:"20"}},[e._v("20条/页")]),e._v(" "),a("option",{attrs:{value:"50"}},[e._v("50条/页")])])]),e._v(" "),a("ul",{staticClass:"pagination"},[a("li",{class:1==e.scenePage.currentPage?"disabled":""},[a("a",{attrs:{href:"javascript:;"},on:{click:function(t){return e.turnToScenePage(1)}}},[e._v("首页")])]),e._v(" "),a("li",{class:1==e.scenePage.currentPage?"disabled":""},[a("a",{attrs:{href:"javascript:;"},on:{click:function(t){return e.turnToScenePage(e.scenePage.currentPage-1)}}},[e._v("上一页")])]),e._v(" "),a("li",[e.scenePage.currentPage-3>0?a("a",{attrs:{href:"javascript:;"},domProps:{textContent:e._s(e.scenePage.currentPage-3)},on:{click:function(t){return e.turnToScenePage(e.scenePage.currentPage-3)}}}):e._e()]),e._v(" "),a("li",[e.scenePage.currentPage-2>0?a("a",{attrs:{href:"javascript:;"},domProps:{textContent:e._s(e.scenePage.currentPage-2)},on:{click:function(t){return e.turnToScenePage(e.scenePage.currentPage-2)}}}):e._e()]),e._v(" "),a("li",[e.scenePage.currentPage-1>0?a("a",{attrs:{href:"javascript:;"},domProps:{textContent:e._s(e.scenePage.currentPage-1)},on:{click:function(t){return e.turnToScenePage(e.scenePage.currentPage-1)}}}):e._e()]),e._v(" "),a("li",{staticClass:"active"},[a("a",{attrs:{href:"javascript:;"},domProps:{textContent:e._s(e.scenePage.currentPage)},on:{click:function(t){return e.turnToScenePage(e.scenePage.currentPage)}}},[e._v("3")])]),e._v(" "),a("li",[e.scenePage.currentPage+1<=e.scenePage.totalPage?a("a",{attrs:{href:"javascript:;"},domProps:{textContent:e._s(e.scenePage.currentPage+1)},on:{click:function(t){return e.turnToScenePage(e.scenePage.currentPage+1)}}}):e._e()]),e._v(" "),a("li",[e.scenePage.currentPage+2<=e.scenePage.totalPage?a("a",{attrs:{href:"javascript:;"},domProps:{textContent:e._s(e.scenePage.currentPage+2)},on:{click:function(t){return e.turnToScenePage(e.scenePage.currentPage+2)}}}):e._e()]),e._v(" "),a("li",{class:e.scenePage.currentPage==e.scenePage.totalPage?"disabled":""},[a("a",{attrs:{href:"javascript:;"},on:{click:function(t){return e.turnToScenePage(e.scenePage.currentPage+1)}}},[e._v("下一页")])]),e._v(" "),a("li",{class:e.scenePage.currentPage==e.scenePage.totalPage?"disabled":""},[a("a",{attrs:{href:"javascript:;"},on:{click:function(t){return e.turnToScenePage(e.scenePage.totalPage)}}},[e._v("尾页")])])]),e._v(" "),a("div",{staticClass:"go"},[a("div",{class:e.isPageNumberError?"input-group error":"input-group"},[a("input",{directives:[{name:"model",rawName:"v-model",value:e.goToPage,expression:"goToPage"}],staticClass:"form-control",attrs:{type:"number",min:"1",max:e.scenePage.totalPage},domProps:{value:e.goToPage},on:{input:function(t){t.target.composing||(e.goToPage=t.target.value)}}}),e._v(" "),a("a",{staticClass:"input-group-addon",attrs:{href:"javascript:;"},on:{click:function(t){return e.turnToScenePage(e.goToPage)}}},[e._v("Go")])])]),e._v(" "),a("p",{staticClass:"page-info nowrap"},[e._v(" 当前第 "),a("span",{staticClass:"text-primary",domProps:{textContent:e._s(e.scenePage.currentPage)}}),e._v(" /\n                            "),a("span",{staticClass:"text-primary",domProps:{textContent:e._s(e.scenePage.totalPage)}}),e._v("页，共有 "),a("span",{staticClass:"text-primary",domProps:{textContent:e._s(e.scenePage.totalCount)}}),e._v("条\n                        ")])]):e._e()]),e._v(" "),a("div",{staticClass:"modal-footer"},[a("button",{staticClass:"btn btn-default",attrs:{type:"button","data-dismiss":"modal"}},[e._v("取消")]),e._v(" "),a("button",{staticClass:"btn btn-primary",attrs:{type:"button"},on:{click:function(t){return e.sendSceneData()}}},[e._v("确认")])])]),e._v(" "),a("el-dialog",{attrs:{title:"测试计划管理",visible:e.testPlanDialog,width:"50%"},on:{"update:visible":function(t){e.testPlanDialog=t}}},[a("el-row",[a("el-col",[a("el-button",{on:{click:function(t){return e.showAddModal()}}},[e._v("\n                    新增\n                ")])],1)],1),e._v(" "),a("el-row",[a("el-table",{staticStyle:{width:"100%"},attrs:{stripe:"",data:e.testPlanArray}},[a("el-table-column",{attrs:{prop:"nameMedium",label:"名称",width:"180"}}),e._v(" "),a("el-table-column",{attrs:{prop:"descMedium",label:"描述",width:"180"}}),e._v(" "),a("el-table-column",{attrs:{label:"操作"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("el-buttonn",{attrs:{size:"mini"},on:{click:function(a){return e.showUpdateModal(t.row.id)}}},[e._v("修改")])]}}])})],1)],1),e._v(" "),a("el-row",[a("el-pagination",{attrs:{"current-page":e.page.currentPage,"page-sizes":[5,10,20,50],"page-size":e.page.pageSize,layout:"total, sizes, prev, pager, next, jumper",total:e.page.totalPage},on:{"size-change":function(t){return e.turnToPage(1)},"current-change":function(t){e.turnToPage(t)}}})],1),e._v(" "),a("div",{staticClass:"modal-content"},[a("div",{staticClass:"modal-body"},[a("div",{staticClass:"top-bar"},[a("button",{staticClass:"btn btn-white",attrs:{type:"button","data-toggle":"modal"},on:{click:function(t){return e.showAddModal()}}},[a("i",{staticClass:"icon-plus"}),e._v("\n                            新增\n                        ")])]),e._v(" "),a("div",{staticClass:"main-content",staticStyle:{padding:"20px"}},[a("table",{staticClass:"table table-bordered",attrs:{id:"testplan-table"}},[a("thead",[a("tr",[a("th",{staticClass:"text-center",attrs:{scope:"col"}},[e._v("名称")]),e._v(" "),a("th",{staticClass:"text-center",attrs:{scope:"col"}},[e._v("描述")]),e._v(" "),a("th",{staticClass:"text-center",attrs:{scope:"col"}},[e._v("操作")])])]),e._v(" "),a("tbody",e._l(e.testPlanArray,(function(t,s){return a("tr",{key:"testPlan"+s},[a("td",[e._v(e._s(t.nameMedium))]),e._v(" "),a("td",[e._v(e._s(t.descMedium))]),e._v(" "),a("td",{staticClass:"center ",attrs:{width:""}},[a("button",{staticClass:"btn btn-xs btn-success",on:{click:function(a){return e.showUpdateModal(t.id)}}},[e._v("修改")])])])})),0)]),e._v(" "),a("div",{staticClass:"row"},[a("div",{staticClass:"col-lg-12 text-center"},[0!=e.page.totalPage?a("div",{staticClass:"pagination-wrap"},[a("div",{staticClass:"num"},[a("select",{directives:[{name:"model",rawName:"v-model",value:e.page.pageSize,expression:"page.pageSize"}],staticClass:"form-control",attrs:{size:"1",name:"sample_1_length","aria-controls":"sample_1"},on:{change:[function(t){var a=Array.prototype.filter.call(t.target.options,(function(e){return e.selected})).map((function(e){return"_value"in e?e._value:e.value}));e.$set(e.page,"pageSize",t.target.multiple?a:a[0])},function(t){return e.turnToPage(1)}]}},[a("option",{attrs:{value:"5"}},[e._v("5条/页")]),e._v(" "),a("option",{attrs:{value:"10",selected:""}},[e._v("10条/页")]),e._v(" "),a("option",{attrs:{value:"20"}},[e._v("20条/页")]),e._v(" "),a("option",{attrs:{value:"50"}},[e._v("50条/页")])])]),e._v(" "),a("ul",{staticClass:"pagination"},[a("li",{class:1==e.page.currentPage?"disabled":""},[a("a",{attrs:{href:"javascript:;"},on:{click:function(t){return e.turnToPage(1)}}},[e._v("首页")])]),e._v(" "),a("li",{class:1==e.page.currentPage?"disabled":""},[a("a",{attrs:{href:"javascript:;"},on:{click:function(t){return e.turnToPage(e.page.currentPage-1)}}},[e._v("上一页")])]),e._v(" "),a("li",[e.page.currentPage-3>0?a("a",{attrs:{href:"javascript:;"},domProps:{textContent:e._s(e.page.currentPage-3)},on:{click:function(t){return e.turnToPage(e.page.currentPage-3)}}}):e._e()]),e._v(" "),a("li",[e.page.currentPage-2>0?a("a",{attrs:{href:"javascript:;"},domProps:{textContent:e._s(e.page.currentPage-2)},on:{click:function(t){return e.turnToPage(e.page.currentPage-2)}}}):e._e()]),e._v(" "),a("li",[e.page.currentPage-1>0?a("a",{attrs:{href:"javascript:;"},domProps:{textContent:e._s(e.page.currentPage-1)},on:{click:function(t){return e.turnToPage(e.page.currentPage-1)}}}):e._e()]),e._v(" "),a("li",{staticClass:"active"},[a("a",{attrs:{href:"javascript:;"},domProps:{textContent:e._s(e.page.currentPage)},on:{click:function(t){return e.turnToPage(e.page.currentPage)}}},[e._v("3")])]),e._v(" "),a("li",[e.page.currentPage+1<=e.page.totalPage?a("a",{attrs:{href:"javascript:;"},domProps:{textContent:e._s(e.page.currentPage+1)},on:{click:function(t){return e.turnToPage(e.page.currentPage+1)}}}):e._e()]),e._v(" "),a("li",[e.page.currentPage+2<=e.page.totalPage?a("a",{attrs:{href:"javascript:;"},domProps:{textContent:e._s(e.page.currentPage+2)},on:{click:function(t){return e.turnToPage(e.page.currentPage+2)}}}):e._e()]),e._v(" "),a("li",[e.page.currentPage+3<=e.page.totalPage?a("a",{attrs:{href:"javascript:;"},domProps:{textContent:e._s(e.page.currentPage+3)},on:{click:function(t){return e.turnToPage(e.page.currentPage+3)}}}):e._e()]),e._v(" "),a("li",{class:e.page.currentPage==e.page.totalPage?"disabled":""},[a("a",{attrs:{href:"javascript:;"},on:{click:function(t){return e.turnToPage(e.page.currentPage+1)}}},[e._v("下一页")])]),e._v(" "),a("li",{class:e.page.currentPage==e.page.totalPage?"disabled":""},[a("a",{attrs:{href:"javascript:;"},on:{click:function(t){return e.turnToPage(e.page.totalPage)}}},[e._v("尾页")])])]),e._v(" "),a("div",{staticClass:"go"},[a("div",{class:e.isPageNumberError?"input-group error":"input-group"},[a("input",{directives:[{name:"model",rawName:"v-model",value:e.goToPage,expression:"goToPage"}],staticClass:"form-control",attrs:{type:"number",min:"1"},domProps:{value:e.goToPage},on:{input:function(t){t.target.composing||(e.goToPage=t.target.value)}}}),a("a",{staticClass:"input-group-addon",attrs:{href:"javascript:;"},on:{click:function(t){return e.turnToPage(e.goToPage)}}},[e._v("Go")])])]),e._v(" "),a("small",{staticClass:"small nowrap"},[e._v(" 当前第 "),a("span",{staticClass:"text-primary",domProps:{textContent:e._s(e.page.currentPage)}}),e._v(" / "),a("span",{staticClass:"text-primary",domProps:{textContent:e._s(e.page.totalPage)}}),e._v("页，共有 "),a("span",{staticClass:"text-primary",domProps:{textContent:e._s(e.page.totalCount)}}),e._v(" 条\n                                    ")])]):e._e()])])])]),e._v(" "),a("div",{staticClass:"modal-footer"},[a("button",{staticClass:"btn btn-default",attrs:{type:"button","data-dismiss":"modal"}},[e._v("取消")]),e._v(" "),a("button",{staticClass:"btn btn-primary",attrs:{type:"button"},on:{click:function(t){return e.sendSceneData()}}},[e._v("确认")])])])],1),e._v(" "),a("div",{staticClass:"modal fade",attrs:{tabindex:"-1",role:"dialog",id:"addTestRoundId","aria-hidden":"true","aria-labelledby":"addTestRound","data-toggle":"modal"}},[a("div",{staticClass:"modal-dialog "},[a("div",{staticClass:"modal-content"},[e._m(2),e._v(" "),a("div",{staticClass:"modal-body"},[a("form",{staticClass:"form-horizontal"},[a("div",{staticClass:"form-group"},[a("label",{staticClass:"col-sm-2 control-label"},[e._v("名称")]),e._v(" "),a("div",{staticClass:"col-sm-10"},[a("input",{directives:[{name:"model",rawName:"v-model",value:e.addRoundRowData.roundName,expression:"addRoundRowData.roundName"}],staticClass:"form-control",attrs:{type:"text",autocomplete:"off"},domProps:{value:e.addRoundRowData.roundName},on:{input:function(t){t.target.composing||e.$set(e.addRoundRowData,"roundName",t.target.value)}}})])]),e._v(" "),a("div",{staticClass:"form-group"},[a("label",{staticClass:"col-sm-2 control-label"},[e._v("描述")]),e._v(" "),a("div",{staticClass:"col-sm-10"},[a("textarea",{directives:[{name:"model",rawName:"v-model",value:e.addRoundRowData.roundDesc,expression:"addRoundRowData.roundDesc"}],staticClass:"form-control",attrs:{resize:"disabled",autocomplete:"off"},domProps:{value:e.addRoundRowData.roundDesc},on:{input:function(t){t.target.composing||e.$set(e.addRoundRowData,"roundDesc",t.target.value)}}})])]),e._v(" "),a("div",{staticClass:"form-group"},[a("label",{staticClass:"col-sm-2 control-label"},[e._v("记录单保存方式")]),e._v(" "),a("div",{staticClass:"col-sm-10"},[a("select",{directives:[{name:"model",rawName:"v-model",value:e.addRoundRowData.recordmanagementflag,expression:"addRoundRowData.recordmanagementflag"}],staticClass:"form-control",on:{change:function(t){var a=Array.prototype.filter.call(t.target.options,(function(e){return e.selected})).map((function(e){return"_value"in e?e._value:e.value}));e.$set(e.addRoundRowData,"recordmanagementflag",t.target.multiple?a:a[0])}}},e._l([{value:1,label:"仅保存一份"},{value:2,label:"保存多份"}],(function(t){return a("option",{key:t.value,domProps:{value:t.value}},[e._v("\n                                        "+e._s(t.label)+"\n                                    ")])})),0)])]),e._v(" "),a("div",{staticClass:"form-group"},[a("label",{staticClass:"col-sm-2 control-label"},[e._v("定时执行方式")]),e._v(" "),a("div",{staticClass:"col-sm-10"},[a("input",{directives:[{name:"model",rawName:"v-model",value:e.addRoundRowData.timeexecutesetting,expression:"addRoundRowData.timeexecutesetting"}],staticClass:"form-control",attrs:{type:"text",autocomplete:"off"},domProps:{value:e.addRoundRowData.timeexecutesetting},on:{input:function(t){t.target.composing||e.$set(e.addRoundRowData,"timeexecutesetting",t.target.value)}}})])])]),e._v(" "),a("div",{staticClass:"modal-footer"},[a("button",{staticClass:"btn btn-default",attrs:{type:"button","data-dismiss":"modal"}},[e._v("关闭")]),e._v(" "),a("button",{staticClass:"btn btn-primary",attrs:{type:"button"},on:{click:function(t){return e.addTestRound()}}},[e._v("确认")])])])])])]),e._v(" "),a("el-dialog",{attrs:{title:"新增测试计划",visible:e.addTestPlanDialog,width:"50%"},on:{"update:visible":function(t){e.addTestPlanDialog=t}}},[a("div",{staticClass:"modal-body"},[a("form",{staticClass:"form-horizontal"},[a("div",{staticClass:"form-group"},[a("label",{staticClass:"col-sm-2 control-label",attrs:{for:"testplan-name"}},[e._v("测试计划名称")]),e._v(" "),a("div",{staticClass:"col-sm-10"},[a("input",{directives:[{name:"model",rawName:"v-model",value:e.addRowData.nameMedium,expression:"addRowData.nameMedium"}],staticClass:"form-control",attrs:{type:"text",autocomplete:"off"},domProps:{value:e.addRowData.nameMedium},on:{input:function(t){t.target.composing||e.$set(e.addRowData,"nameMedium",t.target.value)}}})])]),e._v(" "),a("div",{staticClass:"form-group"},[a("label",{staticClass:"col-sm-2 control-label",attrs:{for:"testplan-desc"}},[e._v("测试计划描述")]),e._v(" "),a("div",{staticClass:"col-sm-10"},[a("input",{directives:[{name:"model",rawName:"v-model",value:e.addRowData.descMedium,expression:"addRowData.descMedium"}],staticClass:"form-control",attrs:{type:"text",autocomplete:"off"},domProps:{value:e.addRowData.descMedium},on:{input:function(t){t.target.composing||e.$set(e.addRowData,"descMedium",t.target.value)}}})])]),e._v(" "),a("div",{directives:[{name:"show",rawName:"v-show",value:1===e.editType,expression:"1 === editType"}],staticClass:"form-group display"},[a("label",{staticClass:"col-sm-2 control-label"},[e._v("测试阶段")]),e._v(" "),a("div",{staticClass:"col-sm-10"},[a("select",{directives:[{name:"model",rawName:"v-model",value:e.addRowData.testPhaseId,expression:"addRowData.testPhaseId"}],staticClass:"form-control",attrs:{name:"testPhaseId",id:""},on:{change:function(t){var a=Array.prototype.filter.call(t.target.options,(function(e){return e.selected})).map((function(e){return"_value"in e?e._value:e.value}));e.$set(e.addRowData,"testPhaseId",t.target.multiple?a:a[0])}}},e._l(e.testPhaseArray,(function(t){return a("option",{key:t.id,domProps:{value:t.id}},[e._v("\n                                "+e._s(t.name)+"\n                            ")])})),0)])]),e._v(" "),a("div",{directives:[{name:"show",rawName:"v-show",value:1===e.editType,expression:"1 === editType"}],staticClass:"form-group display"},[a("label",{staticClass:"col-sm-2 control-label"},[e._v("测试轮次")]),e._v(" "),a("div",{staticClass:"col-sm-10"},[a("select",{directives:[{name:"model",rawName:"v-model",value:e.addRowData.testRoundId,expression:"addRowData.testRoundId"}],staticStyle:{width:"80%",height:"34px"},attrs:{name:"testRoundId",filterable:"",placeholder:"请选择"},on:{change:function(t){var a=Array.prototype.filter.call(t.target.options,(function(e){return e.selected})).map((function(e){return"_value"in e?e._value:e.value}));e.$set(e.addRowData,"testRoundId",t.target.multiple?a:a[0])}}},e._l(e.testRoundArray,(function(e){return a("option",{key:e.id,attrs:{label:e.name},domProps:{value:e.id}})})),0),e._v(" "),a("button",{staticClass:"btn btn-primary btn-sm",staticStyle:{"margin-left":"20px"},attrs:{type:"button","data-toggle":"modal","data-target":"#addTestRoundId"}},[e._v("新增\n                        ")])])])])]),e._v(" "),a("div",{staticClass:"modal-footer"},[a("button",{staticClass:"btn btn-default",attrs:{"data-dismiss":"modal",type:"button"}},[e._v("取消")]),e._v(" "),a("button",{staticClass:"btn btn-success",attrs:{type:"button",id:"btn-add"},on:{click:function(t){return e.add()}}},[e._v("确定")])])]),e._v(" "),a("div",{staticClass:"modal fade",attrs:{tabindex:"-1",role:"dialog",id:"runInterrupt","aria-hidden":"true","aria-labelledby":"addTestRound","data-toggle":"modal"}},[a("div",{staticClass:"modal-dialog "},[a("div",{staticClass:"modal-content"},[e._m(3),e._v(" "),a("div",{staticClass:"modal-body"},[a("form",{staticClass:"form-horizontal"},[a("div",{staticClass:"form-group"},[a("label",{staticClass:"col-sm-8 control-label"},[e._v("执行用例出错，请选择是否继续执行，"+e._s(e.interruptTime)+"后自动继续执行")])])]),e._v(" "),a("div",{staticClass:"modal-footer"},[a("button",{staticClass:"btn btn-default",attrs:{type:"button"},on:{click:function(t){return e.runContinue()}}},[e._v("继续执行")]),e._v(" "),a("button",{staticClass:"btn btn-primary",attrs:{type:"button"},on:{click:function(t){return e.runStop()}}},[e._v("取消")])])])])])])],1)}),[function(){var e=this.$createElement,t=this._self._c||e;return t("div",{staticClass:"form-group col-lg-4",attrs:{hidden:""}},[t("label",{staticClass:"option-name col-lg-13 control-label"},[this._v("\n                                        当前测试轮次\n                                        ")]),this._v(" "),t("div",{staticClass:"col-lg-9"},[t("span",{staticClass:"execute-range form-control",attrs:{id:"currentRound"}},[this._v("正在等待数据加载")])])])},function(){var e=this.$createElement,t=this._self._c||e;return t("span",{staticClass:"exe-info"},[t("i",{staticClass:" icon-info-sign"}),this._v("\n                                    场景内的用例串行执行，场景之间并行执行\n                                ")])},function(){var e=this.$createElement,t=this._self._c||e;return t("div",{staticClass:"modal-header"},[t("button",{staticClass:"close",attrs:{type:"button","data-dismiss":"modal","aria-hidden":"true"}},[this._v("×")]),this._v(" "),t("h4",{staticClass:"modal-title",attrs:{id:"addTestRound"}},[this._v("新增测试轮次")])])},function(){var e=this.$createElement,t=this._self._c||e;return t("div",{staticClass:"modal-header"},[t("button",{staticClass:"close",attrs:{type:"button","data-dismiss":"modal","aria-hidden":"true"}},[this._v("×")]),this._v(" "),t("h4",{staticClass:"modal-title",attrs:{id:"addTestRound"}},[this._v("用理执行出错")])])}],!1,Ma,"data-v-468c2084",null).exports,Oa={mixins:[L.a],name:"testRecord-of-runId",data:function(){return{tableData:[]}},created:function(){},methods:{getRecords:function(){}}};var $a=function(e){a("SYcV")},La={path:"/testProjectIndext",name:"TestProject",component:Nt,redirect:"/testProjectIndext/testProject",meta:{name:"项目测试"},children:[{path:"testProject",name:"testProject",component:Kt,meta:{name:"测试项目管理",parent:"TestProjectIndex",icon:"el-icon-view"}},{path:"testCase",name:"testCase",component:Qt,meta:{name:"测试用例管理",parent:"TestProjectIndex",icon:"el-icon-star-off"}},{path:"datatable",name:"datatable",component:Gt,meta:{name:"测试资源管理",parent:"TestProjectIndex",icon:"el-icon-edit"}},{path:"uploadRecord",name:"uploadRecord",component:Sa,meta:{name:"导入记录",parent:"TestProjectIndex",icon:"el-icon-star-off",hide:!0}},{path:"scene",name:"scene",component:$t,meta:{name:"场景管理",parent:"TestProjectIndex",icon:"el-icon-edit",children:[]}},{path:"sceneSetting",name:"sceneSetting",component:da,meta:{name:"场景设置",parent:"TestProjectIndex",icon:"el-icon-setting",hide:!0}},{path:"datatable_flowcase",name:"DatatableFlowcase",component:ta,meta:{name:"测试资源管理流程用例",parent:"TestProjectIndex",icon:"el-icon-edit",hide:!0}},{path:"insertSceneCase",name:"InsertSceneCase",component:ha,meta:{name:"添加场景用例",parent:"TestProjectIndex",icon:"el-icon-search",hide:!0}},{path:"caseOperation",name:"CaseOperation",component:Ia,meta:{name:"用例执行结果查询",parent:"TestProjectIndex",icon:"el-icon-info",hide:!0}},{path:"testplanExecute",name:"testplanExecute",component:Da,meta:{name:"测试计划及执行",parent:"TestProjectIndex",icon:"el-icon-cpu"}},{path:"batchexecutionquery",name:"BatchExecutionQuery",component:la,meta:{name:"批次执行查询",parent:"TestProjectIndex",icon:"el-icon-search"}},{path:"testrecord",name:"TestRecord",component:ia,meta:{name:"执行记录查询",parent:"TestProjectIndex",icon:"el-icon-search"}},{path:"testRecord_of_runId",name:"testRecord_of_runId",component:Object(m.a)(Oa,(function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[a("el-table",{staticClass:"table tableAuto",attrs:{stripe:"",border:"",data:e.tableData}},[a("el-table-column",{attrs:{label:"场景ID",property:"sceneId"}}),e._v(" "),a("el-table-column",{attrs:{label:"执行轮次",property:"executeRound"}}),e._v(" "),a("el-table-column",{attrs:{label:"用例编号",property:"caseId",formatter:e.roleSwitch}}),e._v(" "),a("el-table-column",{attrs:{label:"节点名称",property:"flownodeName"}}),e._v(" "),a("el-table-column",{attrs:{label:"记录单状态",property:"recorderStatus"}}),e._v(" "),a("el-table-column",{attrs:{label:"执行结果状态",property:"executeStatus"}}),e._v(" "),a("el-table-column",{attrs:{label:"来源渠道",property:"sourceChannel"}}),e._v(" "),a("el-table-column",{attrs:{label:"资源路径",property:"resourcePath"}}),e._v(" "),a("el-table-column",{attrs:{label:"执行实例ID",property:"testexeinsId"}}),e._v(" "),a("el-table-column",{attrs:{label:"操作"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("el-button",{attrs:{size:"mini"},on:{click:function(a){return e.handleDetail(t.$index,t.row)}}},[e._v("详情")])]}}])})],1)],1)}),[],!1,$a,"data-v-4d801fce",null).exports,meta:{name:"测试记录单",parent:"TestProjectIndex",icon:"el-icon-edit",hide:!0}}]},ja={name:"index",components:{SideBar:M},data:function(){return{}},methods:{}};var za=function(e){a("Pz87")},Aa=Object(m.a)(ja,(function(){var e=this.$createElement,t=this._self._c||e;return t("div",{staticClass:"page-outer"},[t("side-bar",{attrs:{"path-name":"RecordFunction"}}),this._v(" "),t("div",{staticClass:"right-content"},[t("router-view")],1)],1)}),[],!1,za,"data-v-aa4609ae",null).exports;var Va=function(e){a("nhqG")},Ea=Object(m.a)({name:"recordManagementRouter"},(function(){var e=this.$createElement,t=this._self._c||e;return t("div",[t("router-view")],1)}),[],!1,Va,"data-v-3ae5ca08",null).exports,qa={components:{ElSlPanel:g.a},mixins:[L.a],name:"recordManagement",data:function(){return{currentPage:1,pageSize:10,pageSizes:[5,10,20,50],totalCount:50,tableData:[],radio:!1,selectedRow:{},selectInfo:"",dialogModelFlag:0,dialogVisible:!1,title:["添加测试系统","修改测试系统"],titleIndex:0,dialogForm:{nameMedium:"",code:"",inheriteArcId:"",descShort:"",id:""},inheriteArcs:[{id:9,value:"网站抽象架构"},{id:10,value:"普通web网站抽象架构"},{id:22,value:"截图"},{id:24,value:"移动端架构"}],rowId:""}},computed:{params:function(){var e={currentPage:this.currentPage,orderColumns:"modified_time",orderType:"DESC",pageSize:this.pageSize};return""!==this.selectInfo&&(e.codeAndName=this.selectInfo),e}},created:function(){this.getAllSystem()},methods:{addButton:function(){this.titleIndex=0,this.dialogVisible=!0,this.resetForm()},updateButton:function(){"number"==typeof this.radio?(this.titleIndex=1,this.dialogVisible=!0):this.$message.warning("请选择要操作的数据")},cancel:function(){this.dialogVisible=!1},addSure:function(){var e=this,t={code:this.dialogForm.code,nameMedium:this.dialogForm.nameMedium,descShort:this.dialogForm.descShort,inheriteArcId:this.dialogForm.inheriteArcId};console.log(t),d({url:"/aut/addSingleAut",method:"POST",params:t}).then((function(t){"0000"===t.respCode?(e.$message.success("添加成功"),e.dialogVisible=!1,e.getAllSystem()):e.$message.error("添加失败")})).catch((function(t){e.$message.error("网络连接失败")}))},editSure:function(){var e=this,t={code:this.dialogForm.code,nameMedium:this.dialogForm.nameMedium,descShort:this.dialogForm.descShort,inheriteArcId:this.dialogForm.inheriteArcId,id:this.rowId},a=this;console.log("radio",t),d({url:"/aut/modifySingleAut",method:"POST",params:t}).then((function(t){"0000"===t.respCode?(a.$message.success("修改成功"),a.dialogVisible=!1,a.getAllSystem(),e.radio=!1):a.$message.error("修改失败")})).catch((function(t){e.$message.error("网络连接失败")}))},manageFunc:function(){"number"==typeof this.radio?(console.log(this.rowId),this.toTransact(this.rowId)):this.$message.warning("请选择要操作的数据")},toTransact:function(e){this.$router.push({path:"/recordFunction/RecordManagementRouter/recordTransact",query:{autId:e}})},resetForm:function(){this.dialogForm.code="",this.dialogForm.nameMedium="",this.dialogForm.descShort="",this.dialogForm.inheriteArcId=""},selectRadio:function(e,t){console.log("radio",e,e.id),this.selectedRow=e,console.log("radio"+this.radio),this.dialogForm.code=e.code,this.dialogForm.nameMedium=e.nameMedium,this.dialogForm.descShort=e.descShort,this.dialogForm.inheriteArcId=e.inheriteArcId,this.rowId=e.id},handleSizeChange:function(e){console.log("每页 ".concat({val:e},"条")),this.pageSize=e,this.getAllSystem()},handleCurrentChange:function(e){console.log("当前页：".concat({val:e})),this.currentPage=e,this.getAllSystem()},getAllSystem:function(e){var t=this;1===e&&(this.currentPage=1),d({url:"/aut/pagedBatchQueryAut",method:"post",params:this.params}).then((function(e){t.tableData=e.autRespDTOList,t.tableData=t.tableData.reverse(),t.totalCount=e.totalCount,console.log(t.tableData)}),(function(e){console.log(e)})).catch((function(e){console.log(e)}))},downloadTools:function(){window.location="http://10.101.167.184:8080/atf-data/atf-recorder.zip"}}};var Ba=function(e){a("Y6ik")},Ua=Object(m.a)(qa,(function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"page-base-inner"},[a("el-container",[a("el-header",[a("el-button",{attrs:{type:"primary",icon:"el-icon-plus",size:"small"},on:{click:e.addButton}},[e._v("添加\n        ")]),e._v(" "),a("el-button",{attrs:{type:"primary",icon:"el-icon-edit",size:"small"},on:{click:e.updateButton}},[e._v("修改\n        ")]),e._v(" "),a("el-button",{attrs:{type:"primary",icon:"el-icon-s-tools",size:"small"},on:{click:e.manageFunc}},[e._v("管理功能点\n        ")]),e._v(" "),a("el-button",{attrs:{type:"primary",icon:"el-icon-download",size:"small"},on:{click:e.downloadTools}},[e._v("录制工具下载\n        ")])],1),e._v(" "),a("el-main",{staticClass:"el-main-base-inner"},[a("el-row",[a("el-col",{attrs:{span:3}},[a("span",{staticClass:"spanRow"},[e._v("测试系统\n\t\t\t\t\t\t")])]),e._v(" "),a("el-col",{attrs:{span:21}},[a("el-input",{staticClass:"searchInfoStyle",attrs:{placeholder:"请输入测试系统编号"},model:{value:e.selectInfo,callback:function(t){e.selectInfo=t},expression:"selectInfo"}},[a("el-button",{attrs:{slot:"append",icon:"el-icon-search"},on:{click:e.getAllSystem},slot:"append"})],1)],1)],1),e._v(" "),a("el-table",{ref:"singleTable",staticClass:"table",attrs:{"default-sort":{prop:"createTime",order:"descending"},data:e.tableData,stripe:"",border:"","highlight-current-row":""}},[a("el-table-column",{attrs:{label:"选择","min-width":"4%"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("el-radio",{staticClass:"radio",attrs:{label:t.$index},on:{change:function(a){return e.selectRadio(t.row,t.$index)}},model:{value:e.radio,callback:function(t){e.radio=t},expression:"radio"}},[e._v(" \n\t\t\t\t\t\t\t")])]}}])}),e._v(" "),a("el-table-column",{attrs:{prop:"id",label:"序号","min-width":"6%",sortable:""}}),e._v(" "),a("el-table-column",{attrs:{label:"测试系统编号","min-width":"17%"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("a",{staticClass:"numberA",on:{click:function(a){return a.preventDefault(),e.toTransact(t.row.id)}}},[e._v(e._s(t.row.code)+"\n\t\t\t\t\t\t\t")])]}}])}),e._v(" "),a("el-table-column",{attrs:{prop:"nameMedium",label:"测试系统名称","min-width":"15%"}}),e._v(" "),a("el-table-column",{attrs:{prop:"inheriteArcName",label:"开发架构","min-width":"15%"}}),e._v(" "),a("el-table-column",{attrs:{prop:"descShort",label:"测试系统描述","min-width":"13%"}}),e._v(" "),a("el-table-column",{attrs:{prop:"createTime",label:"创建时间","min-width":"15%",sortable:"",formatter:e.transTime}}),e._v(" "),a("el-table-column",{attrs:{prop:"modifiedTime",label:"修改时间","min-width":"15%",formatter:e.transTime,sortable:""}})],1),e._v(" "),a("div",{staticClass:"footSelect"},[a("el-col",{attrs:{span:10,offset:4}},[a("el-pagination",{attrs:{"current-page":e.currentPage,"page-sizes":e.pageSizes,"page-size":e.pageSize,layout:"total,sizes,prev,pager,next,jumper",total:e.totalCount},on:{"size-change":e.handleSizeChange,"current-change":e.handleCurrentChange}})],1)],1)],1),e._v(" "),a("el-dialog",{attrs:{width:"30%",title:e.title[e.titleIndex],visible:e.dialogVisible},on:{"update:visible":function(t){e.dialogVisible=t}}},[a("el-form",{ref:"dialogForm",attrs:{"label-width":"100px",model:e.dialogForm}},[a("el-form-item",{attrs:{label:"测试系统编号"}},[a("el-input",{model:{value:e.dialogForm.code,callback:function(t){e.$set(e.dialogForm,"code",t)},expression:"dialogForm.code"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"测试系统名称"}},[a("el-input",{model:{value:e.dialogForm.nameMedium,callback:function(t){e.$set(e.dialogForm,"nameMedium",t)},expression:"dialogForm.nameMedium"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"开发架构"}},[a("el-select",{model:{value:e.dialogForm.inheriteArcId,callback:function(t){e.$set(e.dialogForm,"inheriteArcId",t)},expression:"dialogForm.inheriteArcId"}},e._l(e.inheriteArcs,(function(e){return a("el-option",{key:e.id,attrs:{label:e.value,value:e.id}})})),1)],1),e._v(" "),a("el-form-item",{attrs:{label:"描述"}},[a("el-input",{staticClass:"textarea",attrs:{type:"textarea"},model:{value:e.dialogForm.descShort,callback:function(t){e.$set(e.dialogForm,"descShort",t)},expression:"dialogForm.descShort"}})],1),e._v(" "),a("div",{staticClass:"dialogButtonDiv"},[a("el-button",{attrs:{type:"warning",size:"small",plain:""},on:{click:e.cancel}},[e._v("取消\n\t\t\t\t\t\t")]),e._v(" "),0===e.titleIndex?a("el-button",{attrs:{type:"primary",size:"small"},on:{click:e.addSure}},[e._v("添加\n\t\t\t\t\t\t")]):a("el-button",{attrs:{type:"primary",size:"small"},on:{click:e.editSure}},[e._v("修改\n\t\t\t\t\t\t")])],1)],1)],1)],1)],1)}),[],!1,Ba,"data-v-bf8c1a62",null).exports;function Qa(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);t&&(s=s.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,s)}return a}function Ha(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?Qa(a,!0).forEach((function(t){re()(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):Qa(a).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}var Wa={components:{},mixins:[L.a],data:function(){return{goToPage:0,runners:[],runnerselected:[],runnerExecuteType:"appointed",caselibIds:[],caselibId:82,executionround:"1",recordflag:2,exeScope:"1",selectState:"",userId:sessionStorage.getItem("userId")||3,projectName:sessionStorage.getItem("projectNameStorage")||"(电子商务网站购物测试)",fullFlag:!0,testPlans:[],testrounds:[],testPlanId:sessionStorage.getItem("testPlanId")||1210,testCaseList:[],testSceneList:[],checkallSceneIds:[],sceneIds:[],sceneCaseMap:new Map,sceneCaseIds:[],flowNodesMap:new Map,allscenes:null,selectedScenes:[],selectedSceneCases:[],checkall:!1,selectedCases:[],checkedFlowNodes:[],caseIds:[],flowNodeIds:new Map,selectedScene:[],exeImgs:{0:"/static/img/waiting.png",10:"/static/img/init.png",2:"/static/img/success.png",3:"/static/img/error.png",13:"/static/img/running.gif",4:"/static/img/success.png",5:"/static/img/jump.png",11:"/static/img/warn.png",12:"/static/img/warn.png"},batchId:null,exeStautShow:'<i class="icon-meh"></i>无计划',exeStauts:!0,expandString:"展开",unexpandString:"收起",selectTestPlan:"",addModalShow:!1,addRoundModalShow:!1,addRowData:Ha({},{nameMedium:"",descMedium:"",testPhaseId:"",testRoundId:""}),addRoundRowData:Ha({},{roundName:"",roundDesc:"",recordmanagementflag:1,timeexecutesetting:""}),addModalTitle:"新增测试计划",editType:1,testPlanArray:[],testPhaseArray:[],testRoundArray:[],orderType:"asc",orderColumns:"id",page:{totalCount:1,currentPage:1,totalPage:1,pageSize:5},scenePage:{currentPage:1,pageSize:5,order:"",sort:"",totalPage:1,totalCount:1},logShow:!1,interruptTime:5,interruptExe:0,interruptData:{},isPageNumberError:!1}},mounted:function(){var e=this,t=sessionStorage.getItem("testPlanId");new Promise((function(a,s){console.log("++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++"),ka.a.ajax({url:"testPlanController/queryTestPlan",data:{caseLibId:e.caselibId,nameMedium:"",descMedium:""},success:function(l){console.log("++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++"),"0000"!==l.respCode?s("出了点问题吧"):l.testPlanEntityList&&l.testPlanEntityList.length>0?(null==t?(e.testPlanId=l.testPlanEntityList[0].id,console.log("我来自查询出来的")):(console.log("我来自跳转转过来的出来的"),e.testPlanId=t,sessionStorage.removeItem("testPlanId")),e.testPlans=l.testPlanEntityList,a()):s("请添加测试计划！")}})})).then((function(){e.getCases()})).catch((function(e){ka.a.alert(e)})),rt()("#add-modal").on("hidden.bs.modal",(function(t){for(var a=e.selectedScene,s=0,l=a.length;s<l;s++)a.shift()}))},methods:{onSubmit:function(){console.log("submit!")},getTestPlanList:function(){var e=this;d({url:"testPlanController/queryTestPlan",method:"post",params:{nameMedium:"",descMedium:"",caseLibId:+this.caseLibId}}).then((function(t){e.testPlanId=data.testPlanEntityList[0].id,e.testPlans=data.testPlanEntityList,resolve()})).catch((function(e){console.log(e)}))},queryRunners:function(){var e=this;ka.a.ajax({url:"executeController/queryRunners ",type:"post",contentType:"application/json",data:JSON.stringify({serviceName:"web.ui"}),success:function(t){"0000"==t.respCode?(e.runners=t.runners,0==t.runners.length&&ka.a.alert("查询不到执行机")):ka.a.alert(t.respMsg)},error:function(){ka.a.alert("网络错误！请点击重新查询！")}})},hideAlert:function(){this.alertShow=!1},stopExe:function(){var e=this;ka.a.ajax({url:"batchRunCtrlController/terminateBatch ",type:"post",contentType:"application/json",data:JSON.stringify({batchId:e.batchId}),success:function(t){"0000"==t.respCode?(ka.a.alert(t.respMsg),e.startQueryResult()):ka.a.alert(t.respMsg)},error:function(){ka.a.alert("网络错误！请点击重新查询！")}})},executeAll:function(){var e=this;if(e.userId)if(e.recordflag)if(e.exeScope)if(e.testPlanId)if("appointed"!=e.runnerExecuteType||0!==e.runnerselected.length)if(e.exeStauts){var t=[];if(1==e.exeScope);else for(var a=0;a<e.selectedSceneCases.length;a++){var s={},l=e.selectedSceneCases[a].split("-");s.caseId=l[l.length-1],s.sceneId=l[1],t.push(s)}e.logShow=!0,e.exeStautShow='<i class="icon-spinner"></i>执行中',ka.a.ajax({url:"executeController/t1",type:"post",contentType:"application/json",data:JSON.stringify({userId:e.userId,recordflag:e.recordFlag,exeScope:e.exeScope,selectState:e.selectState,selectedExeInstances:t,testPlanId:e.testPlanId,identifiableRunnerName:e.runnerExecuteType,appointedRunners:e.runnerselected}),success:function(t){"0000"===t.respCode?(e.startQueryLog(),ka.a.ajax({url:"batchRunCtrlController/queryLatestBatchIdForTestPlan",type:"post",contentType:"application/json",data:JSON.stringify({testPlanId:e.testPlanId}),success:function(t){e.batchId=t.batchId,e.startQueryResult()},error:function(){ka.a.alert("网络错误，执行失败！"),e.setResultIcon()}})):(ka.a.alert(t.respMsg),e.setResultIcon())},error:function(){ka.a.alert("网络错误，执行失败！"),e.setResultIcon()}})}else ka.a.alert("该测试计划正在执行中，若想再次执行，请终止当前执行");else ka.a.alert("请选择执行机");else ka.a.alert("请选择测试计划");else ka.a.alert("请填写执行范围");else ka.a.alert("请填写recordflag");else ka.a.alert("请填写用户id")},fullScreen:function(){var e=document.getElementsByClassName("logcontainer")[0];e.style.width="100%",e.style.height="80vh",this.fullFlag=!1},showScreen:function(){this.logShow=!this.logShow,this.subScreen()},updateScreen:function(){var e=document.getElementsByClassName("logcontainer")[0];e.style.width="auto",e.style.height="auto",this.logShow=!this.logShow},subScreen:function(){var e=document.getElementsByClassName("logcontainer")[0];e.style.width="500px",e.style.height="500px",this.fullFlag=!0},startQueryResult:function(){var e=this;ka.a.ajax({url:"batchRunCtrlController/syncQueryIncInsStatus",type:"post",contentType:"application/json",data:JSON.stringify({batchId:e.batchId,reqSyncNo:null,sessionId:null}),success:function(t){"0000"==t.respCode?-1==t.respSyncNo?(e.setResultIcon(t.insStatuses),e.exeStautShow='<i class="icon-ok"></i>已执行',console.log("finish this branch")):(e.setResultIcon(t.insStatuses),e.syncQueryIncInsStatus(t)):ka.a.alert(t.respMsg)},error:function(){ka.a.alert("网络错误！请点击重新查询！")}})},syncQueryIncInsStatus:function(e){var t=this;ka.a.ajax({url:"batchRunCtrlController/syncQueryIncInsStatus",type:"post",contentType:"application/json",data:JSON.stringify({batchId:e.batchId,reqSyncNo:e.respSyncNo,sessionId:e.sessionId}),success:function(a){-1==a.respSyncNo?(t.setResultIcon(a.insStatuses),console.log("finish this branch"),t.exeStautShow='<i class="icon-ok"></i>已执行'):-2==a.respSyncNo?t.syncQueryIncInsStatus(e):(t.setResultIcon(a.insStatuses),1==a.insStatuses[0].manualChooseErrExecuting&&3==a.insStatuses[0].status?(t.interruptData=a,t.runInterrupt()):t.syncQueryIncInsStatus(a),console.log("continue this branch"))},error:function(){ka.a.alert("网络错误！请点击重新查询！")}})},runInterrupt:function(){rt()("#runInterrupt").modal("show");var e=this,t=setInterval((function(){return 2==e.interruptExe?(clearInterval(t),e.interruptTime=5,e.interruptExe=0,e.instanceErrorChoice(2),!1):e.interruptTime<1||1==e.interruptExe?(rt()("#runInterrupt").modal("hide"),e.interruptExe=0,clearInterval(t),e.interruptTime=5,e.instanceErrorChoice(1),!0):void e.interruptTime--}),1e3)},runContinue:function(){this.interruptExe=1,rt()("#runInterrupt").modal("hide")},runStop:function(){this.interruptExe=2,rt()("#runInterrupt").modal("hide")},instanceErrorChoice:function(e){var t=this,a=2!=e;ka.a.ajax({url:"batchRunCtrlController/instanceErrorChoice",type:"post",contentType:"application/json",data:JSON.stringify({batchId:t.interruptData.batchId,sceneId:t.interruptData.insStatuses[0].sceneId,caseId:t.interruptData.insStatuses[0].testcaseId,errorContinuing:a}),success:function(e){"0000"==e.respCode?a&&t.syncQueryIncInsStatus(t.interruptData):ka.a.alert(e.respMsg)},error:function(){ka.a.alert("网络错误！请点击重新查询！")}})},startQueryLog:function(){ka.a.ajax({url:"executeController/syncQueryLog",type:"post",contentType:"application/json",data:JSON.stringify({logType:2,reqSyncNo:null,sessionId:null,testPlanId:this.testPlanId,latestLineNum:50}),success:function(e){if("0000"==e.respCode){var t=rt()("#logarea");t.text(e.logSeg);var a=document.getElementById("logarea");hljs.highlightBlock(a),t.scrollTop(99999999999),function e(t){ka.a.ajax({url:"executeController/syncQueryLog",type:"post",contentType:"application/json",data:JSON.stringify({logType:2,reqSyncNo:t.respSyncNo,sessionId:t.sessionId,testPlanId:t.testPlanId,latestLineNum:50}),success:function(t){if("0000"==t.respCode){var a=rt()("#logarea");if(null!=t.logSeg){a.text(a.text()+t.logSeg);var s=document.getElementById("logarea");hljs.highlightBlock(s)}a.scrollTop(99999999999),e(t)}else ka.a.alert(t.respMsg)},error:function(){ka.a.alert("网络错误！请点击重新查询！")}})}(e)}else ka.a.alert(e.respMsg)},error:function(){ka.a.alert("网络错误！请点击重新查询！")}})},reQuery:function(){var e=this;ka.a.ajax({url:"batchRunCtrlController/queryLatestBatchIdForTestPlan",type:"post",contentType:"application/json",data:JSON.stringify({testPlanId:e.testPlanId}),success:function(t){e.batchId=t.batchId,e.startQueryResult()},error:function(){ka.a.alert("网络错误，执行失败！"),e.setResultIcon()}}),e.batchId&&e.startQueryResult()},setResultIcon:function(e){var t=this;if(e){var a=!0,s=!1,l=void 0;try{for(var n,o=e[Symbol.iterator]();!(a=(n=o.next()).done);a=!0){var i=n.value;i.flowNodeId?null!=document.querySelector("#img-".concat(i.sceneId,"-").concat(i.testcaseId,"-").concat(i.flowNodeId))&&(document.querySelector("#img-".concat(i.sceneId,"-").concat(i.testcaseId,"-").concat(i.flowNodeId)).src=this.exeImgs[i.status]):null!=document.querySelector("#img-".concat(i.sceneId,"-").concat(i.testcaseId))&&(document.querySelector("#img-".concat(i.sceneId,"-").concat(i.testcaseId)).src=this.exeImgs[i.status]);var r="#runner-"+i.sceneId+"-"+i.testcaseId;if(null!=rt()(r)&&(console.log(i.runnerName),null!=i.runnerName)){var c=i.runnerName.replace(/-/g,"_").split("/");console.log(rt()(r).children().text("分配执行机为："+c[0]))}}}catch(e){s=!0,l=e}finally{try{a||null==o.return||o.return()}finally{if(s)throw l}}}else ot()(document.querySelectorAll('img[id^="img-"]')).forEach((function(e){e.src=t.exeImgs[0]}))},testPlanManager:function(){rt()("#testplan_modal").modal("show")},addScene:function(){this.getScene(this.scenePage.currentPage,this.scenePage.pageSize,this.scenePage.order,this.scenePage.sort)},getScene:function(e,t,a,s){var l=this;console.log(l.caselibId),ka.a.ajax({url:"sceneController/pagedBatchQueryScene",data:JSON.stringify({currentPage:e,pageSize:t,orderType:a,orderColumns:s,caseLibId:l.caselibId}),success:function(e){"0000"==e.respCode?(console.log("陈工了"),l.allscenes=e.sceneEntityList,l.scenePage.currentPage=e.currentPage,l.scenePage.totalCount=e.totalCount,l.scenePage.totalPage=e.totalPage,rt()("#add-modal").modal("show"),console.log("陈工了2223")):ka.a.alert("场景获取失败!")}})},turnToScenePage:function(e){var t=this;if(!(e=parseInt(e))||e>t.scenePage.totalPage||e<1)return alert("页码输入有误！"),!1;this.scenePage.currentPage=e,this.getScene(t.scenePage.currentPage,t.scenePage.pageSize,t.scenePage.order,t.scenePage.sort)},removeSceneAndCase:function(){var e=this,t=this;this.selectedScenes.length?ka.a.confirm("","","","确认要移除场景和用例吗？").then((function(){var a={testPlanId:e.testPlanId,sceneList:e.selectedScenes,testcaseList:e.selectedCases};ka.a.ajax({url:"caseExecuteInstance/deleteCaseExecuteInstance",data:a,success:function(e){"0000"===e.respCode?(rt()("#vac-confirm").modal("hide"),t.selectedScenes=[],ka.a.alert("移除成功"),t.getCases()):ka.a.alert("移除失败")}})}),(function(){})):ka.a.alert("请选择要删除的场景!")},sendSceneData:function(){var e=this,t={testPlanId:+this.testPlanId,testcaseList:[],sceneList:this.selectedScene,creatorId:+sessionStorage.getItem("userId")||3};ka.a.ajax({url:"caseExecuteInstance/insertCaseExecuteInstance",data:t,success:function(t){rt()("#add-modal").modal("hide"),"0000"===t.respCode?(ka.a.alert("添加成功"),e.getCases()):ka.a.alert(t.respMsg)},error:function(){rt()("#add-modal").modal("hide"),ka.a.alert("添加失败")}})},selectAll:function(e){var t=this;e.target.checked?this.allscenes.forEach((function(e){t.selectedScene.includes(e.id)||t.selectedScene.push(e.id)})):this.allscenes.forEach((function(e){t.selectedScene.pop()}))},setDraggable:function(){rt()(".sortable_caselist").length>0&&(rt()(".sortable_caselist").sortable({handle:".handle"}),rt()(".sortable_caselist").disableSelection()),rt()(".sortable_sceneslist").length>0&&(rt()("#sortable_sceneslist").sortable({handle:".handle2"}),rt()("#sortable_sceneslist").disableSelection()),rt()(".sortable_scene_caselist").length>0&&(rt()(".sortable_scene_caselist").sortable({handle:".handle1"}),rt()(".sortable_scene_caselist").disableSelection()),rt()("#testround-main").length>0&&rt()("#testround-main").disableSelection()},senceAddedStatus:function(e){for(var t=this.testSceneList,a=0;a<t.length;a++)if(+t[a].sceneId==+e)return!0;return!1},getBatchIdForTestPlan:function(e){var t=this;ka.a.ajax({url:"batchRunCtrlController/queryLatestBatchIdForTestPlan",type:"post",contentType:"application/json",data:JSON.stringify({testPlanId:e}),success:function(e){"0000"==e.respCode?(t.batchId=e.batchId,t.getSinglebranchStatus()):"10012000"==e.respCode?(t.exeStautShow='<i class="icon-circle-blank"></i>尚未执行',t.exeStauts=!0,ka.a.alert(e.respMsg)):ka.a.alert("查询branchId出错啦")},error:function(){ka.a.alert("网络错误")}})},getSinglebranchStatus:function(){var e=this;ka.a.ajax({url:"batchRunCtrlController/syncQueryIncInsStatus",type:"post",contentType:"application/json",data:JSON.stringify({batchId:e.batchId,reqSyncNo:null,sessionId:null}),success:function(t){"0000"==t.respCode?-1==t.respSyncNo?(e.setResultIcon(t.insStatuses),e.exeStautShow='<i class="icon-ok"></i>已执行',e.exeStauts=!0):(e.setResultIcon(t.insStatuses),e.exeStautShow='<i class="icon-spinner"></i>执行中',e.exeStauts=!1):(e.exeStautShow='<i class="icon-question"></i>未知',e.exeStauts=!1,ka.a.alert(t.respMsg))},error:function(){ka.a.alert("网络错误！请点击重新查询！")}})},getCases:function(){var e=this,t={caselibId:e.caselibId,testPlanId:e.testPlanId,roundFlag:2,scopeFlag:1};e.testPlanId?(ka.a.ajax({url:"caseExecuteInstance/queryCaseExecuteInstance",data:t,success:function(t){if("0000"!=t.respCode)ka.a.alert(t.respMsg);else{if(console.log(),e.testCaseList=t.executeInstanceResult.testCaseList,e.testSceneList=t.executeInstanceResult.testSceneList,e.$nextTick((function(){e.setDraggable()})),!e.testSceneList||!e.testSceneList.length)return;e.caseIds.length=0,e.flowNodeIds.clear(),null!=e.testCaseList&&e.testCaseList.forEach((function(t){if(ka.a.pushNoRepeat(e.caseIds,t.caseId),2==t.caseCompositeType){var a=[],s=!0,l=!1,n=void 0;try{for(var o,i=t.flowNodes[Symbol.iterator]();!(s=(o=i.next()).done);s=!0){var r=o.value;a.push(+r.flowNodeId)}}catch(e){l=!0,n=e}finally{try{s||null==i.return||i.return()}finally{if(l)throw n}}e.flowNodeIds.set(+t.caseId,a)}}))}if(e.sceneIds.length=[],e.sceneCaseMap.clear(),e.flowNodesMap.clear(),e.testSceneList.sort(e.compare("orderNum")),e.testSceneList)for(var a=0;a<e.testSceneList.length;a++){var s=e.testSceneList[a];e.sceneIds.push(s.sceneId);for(var l=[],n=0;n<s.testCaseList.length;n++){var o=s.testCaseList[n];if(l.push(s.sceneId+"-"+o.caseId),2==o.caseCompositeType){e.sceneCaseIds.push(s.sceneId+"-"+o.caseId);var i=[],r=!0,c=!1,d=void 0;try{for(var u,m=o.flowNodes[Symbol.iterator]();!(r=(u=m.next()).done);r=!0){var p=u.value;l.push(s.sceneId+"-"+o.caseId+"-"+p.flowNodeId),i.push(s.sceneId+"-"+o.caseId+"-"+p.flowNodeId)}}catch(e){c=!0,d=e}finally{try{r||null==m.return||m.return()}finally{if(c)throw d}}e.flowNodesMap.set(s.sceneId+"-"+o.caseId,i)}}e.sceneCaseMap.set(s.sceneId,l)}}}),e.getBatchIdForTestPlan(t.testPlanId)):ka.a.alert("请选择测试计划")},compare:function(e){return function(t,a){return t[e]-a[e]}},hideCaseList:function(e){var t=rt()(".case-list",rt()(e.currentTarget).parent())[0];t.style.display="block",rt()(e.currentTarget).find("span").html()==this.unexpandString?(rt()(e.currentTarget).find("i").removeClass("icon-caret-down").addClass("icon-caret-right"),t.style.display="none",rt()(e.currentTarget).find("span").html(this.expandString)):(rt()(e.currentTarget).find("i").removeClass("icon-caret-right").addClass("icon-caret-down"),rt()(e.currentTarget).find("span").html(this.unexpandString)),e.stopPropagation()},changeCase:function(e,t){var a,s=this;switch(t){case 1:a=this.selectedCases;break;case 2:a=this.checkedFlowNodes;break;case 3:a=this.selectedSceneCases}console.log(e);var l=a.findIndex((function(t){return t===e}));-1!==l?a.splice(l,1):a.push(e);var n=(e+"").split("-");if(3===n.length){var o=n.slice(0,2).join("-");if(this.flowNodesMap.get(o).every((function(e){return s.selectedSceneCases.includes(e)})))ka.a.pushNoRepeat(this.selectedSceneCases,o);else{var i=new Set(this.selectedSceneCases);i.delete(o),this.selectedSceneCases=ot()(i)}}if(3===t){var r=n[0];if(this.sceneCaseMap.get(+r).every((function(e){return s.selectedSceneCases.includes(e)})))this.checkallSceneIds.push(+r);else{var c=new Set(this.checkallSceneIds);c.delete(+r),this.checkallSceneIds=ot()(c)}}this.setBackground(this.selectedSceneCases)},saveSort:function(e){for(var t=rt()("input[value^=sort-"+e+"]"),a=[],s=0;s<t.length;s++)a.push(+rt()(t[s]).attr("name"));ka.a.ajax({url:"sceneController/sceneTestcaseSortSave",data:{sceneId:e,caseIdList:a},success:function(e){"0000"===e.respCode?ka.a.alert("排序保存成功"):ka.a.alert("排序保存失败")}})},saveScenesSort:function(){for(var e=rt()("input.checkscene"),t=[],a=0;a<e.length;a++)t.push(+rt()(e[a]).attr("name"));ka.a.ajax({url:"sceneController/sceneSortSave",data:{keyIdList:t},success:function(e){"0000"===e.respCode?ka.a.alert("场景排序保存成功"):ka.a.alert("场景排序保存失败")}})},viewCase:function(e,t,a,s,l,n,o){var i={testPlanId:this.testPlanId,batchId:this.batchId,sceneId:e,caseId:t,testPhase:l||this.testphaseValue,testRound:n||this.testroundValue,flowNodeId:s,sourcechannel:a,recorderStatus:o||"2"},r=JSON.stringify(i);sessionStorage.setItem("executeInstanceInfo",r),window.open("case-operation.html")},turnToPage:function(e){e>0&&e<=this.page.totalPage?(this.page.currentPage=e,this.getTestPlans()):ka.a.alert("不在页码范围")},add:function(){var e=this,t=1===this.editType?"testPlanController/insertTestPlan":"testPlanController/updateTestPlan",a=1===this.editType?this.addRowData:{id:this.selectTestPlan,nameMedium:this.addRowData.nameMedium,descMedium:this.addRowData.descMedium,modifierId:this.addRowData.creatorId};console.log(this.addRowData),ka.a.ajax({url:t,data:a,success:function(t){rt()("#addTestPlan").modal("hide"),"0000"===t.respCode?(ka.a.alert(t.respMsg),e.addModalShow=!1,e.addRowData=Ha({},initialAddRowData),e.getTestPlans()):ka.a.alert(t.respMsg)},error:function(){ka.a.alert("出错啦~7")}})},delete:function(){var e=this;ka.a.ajax({url:"testPlanController/deleteTestPlan",data:{id:this.selectTestPlan},success:function(t){"0000"===t.respCode&&(e.selectTestPlan="",e.getTestPlans()),ka.a.alert(t.respMsg)},error:function(){ka.a.alert("出错啦~8")}})},showAddModal:function(){this.addRowData=Ha({},initialAddRowData),this.editType=1,rt()("#addTestPlan").on("show.bs.modal",(function(e){rt()(this).find(".modal-title").text("新增测试计划")})),rt()("#addTestPlan").modal("show")},showUpdateModal:function(e){var t=this;if(this.selectTestPlan=e,""!==this.selectTestPlan){this.editType=2,rt()("#addTestPlan").on("show.bs.modal",(function(e){rt()(this).find(".modal-title").text("修改测试计划")})),rt()("#addTestPlan").modal("show");var a=this.testPlanArray.find((function(e){return+t.selectTestPlan==+e.id}));this.addRowData.nameMedium=a.nameMedium,this.addRowData.descMedium=a.descMedium,this.addRowData.testPhaseId=a.testPhaseId,this.addRowData.testRoundId=a.testRoundId}else ka.a.alert("请选择测试计划")},getTestPlans:function(){var e=this;ka.a.ajax({url:"testPlanController/pagedBatchQueryTestPlan",data:{pageSize:this.page.pageSize,currentPage:this.page.currentPage,orderType:this.orderType,orderColumns:this.orderColumns,nameMedium:"",descMedium:"",caseLibId:+initialAddRowData.caseLibId},success:function(t){"0000"===t.respCode?(e.testPlanArray=t.testPlanEntityList,e.testPlans=t.testPlanEntityList,e.page.totalCount=t.totalCount,e.page.totalPage=t.totalPage):ka.a.alert(t.respMsg)},error:function(){ka.a.alert("出错啦~2")}})},getTestPhases:function(){var e=this;ka.a.ajax({url:"testphaseController/selectAllTestphase",data:{},success:function(t){"0000"===t.respCode?e.testPhaseArray=t.testphaseEntityList:ka.a.alert(t.respMsg)},error:function(){ka.a.alert("出错啦~4")}})},getTestRound:function(){var e=this;ka.a.ajax({url:"testroundController/selectAllTestround",data:{},success:function(t){"0000"===t.respCode?e.testRoundArray=t.testroundEntityList:ka.a.alert(t.respMsg)}})},changeSelect:function(e){+e==+this.selectTestPlan&&(this.selectTestPlan="")},addTestRound:function(){var e=this;ka.a.ajax({url:"testroundController/insertTestround",data:this.addRoundRowData,success:function(t){"0000"===t.respCode?(e.addRoundModalShow=!1,e.getTestRound(),rt()("#addTestRoundId").modal("hide")):ka.a.alert(t.respMsg)},error:function(){ka.a.alert("网络错误，请稍候再试")}})},resort:function(e){"desc"===e.getAttribute("data-sort")?(this.orderType="asc",e.getElementsByTagName("span")[0].setAttribute("class","icon-sort-up"),e.setAttribute("data-sort","asc")):(this.orderType="desc",e.getElementsByTagName("span")[0].setAttribute("class","icon-sort-down"),e.setAttribute("data-sort","desc")),this.orderColumns=e.getAttribute("data-order"),this.getTestPlans()}}};var Ja=function(e){a("CegM"),a("bE5C")},Ka=Object(m.a)(Wa,(function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[a("div",[a("div",{staticClass:"content"},[a("section",{attrs:{id:"main-content"}},[a("section",{staticClass:"content-wrapper",staticStyle:{"margin-bottom":"50px"}},[a("div",{staticClass:"main",staticStyle:{padding:"15px","user-select":"none"}},[a("div",{staticClass:"main-content",staticStyle:{padding:"15px 0"},attrs:{id:"testround-main"}},[a("div",{staticClass:"row"},[a("form",{staticClass:"form-horizontal col-lg-12"},[a("div",{staticClass:"form-group col-lg-8"},[a("label",{staticClass:"option-name control-label col-lg-3"},[e._v("测试计划及状态")]),e._v(" "),a("div",{staticClass:" col-lg-4"},[a("el-select",{attrs:{placeholder:"请选择"},model:{value:e.testPlanId,callback:function(t){e.testPlanId=t},expression:"testPlanId"}},e._l(e.testPlans,(function(e,t){return a("el-option",{key:"testplans"+t,attrs:{label:e.nameMedium,value:e.id}})})),1)],1),e._v(" "),a("label",{staticClass:"option-name control-label col-lg-2",domProps:{innerHTML:e._s(e.exeStautShow)}}),e._v(" "),a("div",{staticClass:" col-lg-3"},[a("el-button",{attrs:{type:"primary",size:"mini"},on:{click:function(t){return e.testPlanManager()}}},[e._v("测试计划管理")])],1)]),e._v(" "),a("div",{staticClass:"form-group col-lg-4"},[a("label",{staticClass:"option-name col-lg-4 control-label"},[e._v("\r\n                                            执行范围\r\n                                        ")]),e._v(" "),a("div",{staticClass:"col-lg-8"},[a("el-select",{attrs:{placeholder:"请选择"},model:{value:e.exeScope,callback:function(t){e.exeScope=t},expression:"exeScope"}},[a("el-option",{attrs:{label:"所有",value:"1"}}),e._v(" "),a("el-option",{attrs:{label:"已选择",value:"0"}})],1)],1)])])]),e._v(" "),a("div",{staticClass:"row"},[a("form",{staticClass:"form-horizontal col-lg-12"},[a("div",{staticClass:"form-group col-lg-8"},[a("label",{staticClass:"option-name control-label col-lg-3"},[e._v("执行机分配模式")]),e._v(" "),a("div",{staticClass:"col-lg-4"},[a("el-select",{attrs:{placeholder:"请选择"},model:{value:e.runnerExecuteType,callback:function(t){e.runnerExecuteType=t},expression:"runnerExecuteType"}},[a("el-option",{attrs:{label:"指定执行机",value:"appointed"}}),e._v(" "),a("el-option",{attrs:{label:"自动分配",value:"auto"}})],1)],1),e._v(" "),a("label",{staticClass:"option-name control-label col-lg-2"},[e._v("执行机选择")]),e._v(" "),a("div",{staticClass:" col-lg-3 "},[a("el-select",{attrs:{placeholder:"请选择执行机",multiple:!0},model:{value:e.runnerselected,callback:function(t){e.runnerselected=t},expression:"runnerselected"}},e._l(e.runners,(function(e,t){return a("el-option",{key:"runner"+t,attrs:{label:e.runnerName,value:e.identifiableName}})})),1)],1)]),e._v(" "),e._m(0)])]),e._v(" "),a("div",{staticClass:"test-control container",staticStyle:{margin:"15px 5px"}},[a("div",{staticStyle:{"font-size":"12px",color:"#999"}}),e._v(" "),a("el-button",{attrs:{type:"primary",size:"mini"},on:{click:function(t){return e.executeAll()}}},[a("i",{staticClass:"icon-play"}),e._v(" 批量执行")]),e._v(" "),a("el-button",{attrs:{type:"primary",size:"mini"},on:{click:function(t){return e.stopExe()}}},[a("i",{staticClass:"icon-stop"}),e._v(" 终止执行")]),e._v(" "),a("el-button",{attrs:{type:"primary",size:"mini"},on:{click:function(t){return e.getCases()}}},[a("i",{staticClass:"icon-eye-open"}),e._v(" 查询")]),e._v(" "),a("el-button",{attrs:{type:"primary",size:"mini"},on:{click:function(t){return e.addScene()}}},[a("i",{staticClass:"icon-plus"}),e._v(" 添加场景")]),e._v(" "),a("el-button",{attrs:{type:"primary",size:"mini"},on:{click:function(t){return e.removeSceneAndCase()}}},[a("i",{staticClass:"icon-remove"}),e._v(" 移除场景与用例")]),e._v(" "),a("el-button",{attrs:{type:"primary",size:"mini"},on:{click:function(t){return e.reQuery()}}},[a("i",{staticClass:"icon-refresh"}),e._v(" 重新查询执行结果")])],1),e._v(" "),a("div",{attrs:{id:""}},[a("div",{staticClass:"logcontainer"},[e.logShow?a("el-card",{staticClass:"box-card"},[a("div",{staticClass:"clearfix",attrs:{slot:"header"},slot:"header"},[a("span",[e._v("日志信息")]),e._v(" "),a("el-button",{staticStyle:{float:"right","margin-right":"5px",padding:"0px"},attrs:{type:"text"},on:{click:function(t){return e.updateScreen()}}},[a("i",{staticClass:"icon-double-angle-right"})]),e._v(" "),e.fullFlag?a("el-button",{staticClass:"el-icon-full-screen",staticStyle:{float:"right","margin-right":"5px",padding:"0px"},attrs:{type:"text"},on:{click:function(t){return e.fullScreen()}}}):a("el-button",{staticStyle:{float:"right","margin-right":"5px",padding:"0px"},attrs:{type:"text"},on:{click:function(t){return e.subScreen()}}},[a("i",{staticClass:"fa fa-compress"})])],1),e._v(" "),a("div",{attrs:{id:"area"}},[a("pre",{staticClass:"pre"},[a("code",{staticClass:"javascript",attrs:{id:"logarea"}})])])]):a("div",{attrs:{id:"loghidden"}},[a("div",{attrs:{id:"hidden"}},[a("el-button",{attrs:{size:"small"},on:{click:function(t){return e.showScreen()}}},[a("i",{staticClass:"icon-double-angle-left"},[a("font",{attrs:{color:"black"}},[e._v("展开日志")])],1)])],1)])],1),e._v(" "),a("div",{staticClass:"main-content2"},[e.testCaseList&&e.testCaseList.length?a("div",{staticClass:"case-list-wrapper list-wrapper",staticStyle:{padding:"10px 20px 10px 20px"}},[a("header",{staticClass:"panel-heading",staticStyle:{margin:"0 -15px"}},[e._v("用例列表")]),e._v(" "),a("button",{staticClass:"hide-case-list btn btn-xs btn-info",staticStyle:{padding:"3px 6px",margin:"5px 10px"},on:{click:function(t){return e.hideCaseList(t)},mousedown:function(e){e.stopPropagation()}}},[a("span",[e._v("收起")]),e._v("  "),a("i",{staticClass:"icon-caret-down"})]),e._v(" "),a("div",{staticClass:"case-list"},[e.testCaseList&&e.testCaseList.length?a("div",{staticClass:"check-all-case",staticStyle:{margin:"10px 10px"}},[e._v("全选\r\n                                                "),a("input",{directives:[{name:"model",rawName:"v-model",value:e.checkall,expression:"checkall"}],attrs:{type:"checkbox"},domProps:{checked:Array.isArray(e.checkall)?e._i(e.checkall,null)>-1:e.checkall},on:{change:[function(t){var a=e.checkall,s=t.target,l=!!s.checked;if(Array.isArray(a)){var n=e._i(a,null);s.checked?n<0&&(e.checkall=a.concat([null])):n>-1&&(e.checkall=a.slice(0,n).concat(a.slice(n+1)))}else e.checkall=l},function(t){return e.checkallBox(t)}]}})]):e._e(),e._v(" "),a("div",{attrs:{id:"sortable_caselist"}},e._l(e.testCaseList,(function(t,s){return a("div",{key:"case_wrapper"+s,staticClass:"case-lib"},["1"==t.caseCompositeType?[a("div",{staticClass:"checkbox-wrapper"},[a("i",{staticClass:"icon-move handle",staticStyle:{color:"#ff6c60"}}),e._v("  \r\n                                                            "),a("div",{staticStyle:{display:"inline-block",width:"20px",height:"20px"},on:{mousedown:function(e){e.stopPropagation()}}},[a("input",{directives:[{name:"model",rawName:"v-model",value:e.selectedCases,expression:"selectedCases"}],staticClass:"checkall",attrs:{type:"checkbox"},domProps:{value:t.caseId,checked:Array.isArray(e.selectedCases)?e._i(e.selectedCases,t.caseId)>-1:e.selectedCases},on:{mousedown:function(e){e.stopPropagation()},change:[function(a){var s=e.selectedCases,l=a.target,n=!!l.checked;if(Array.isArray(s)){var o=t.caseId,i=e._i(s,o);l.checked?i<0&&(e.selectedCases=s.concat([o])):i>-1&&(e.selectedCases=s.slice(0,i).concat(s.slice(i+1)))}else e.selectedCases=n},function(t){return e.checkallToggle(t)}]}})])]),e._v(" "),a("div",{staticClass:"case-wrapper"},[a("div",{staticClass:"case",on:{click:function(a){return e.changeCase(t.caseId,1)},mousedown:function(e){e.stopPropagation()}}},[a("div",{staticClass:"case-header"},[a("img",{attrs:{src:e.exeImgs[0],id:"img-"+t.caseId}}),e._v(" "),a("p",{staticClass:"width-limit",attrs:{title:t.casecode}},[e._v(e._s(t.caseCode))]),e._v(" "),a("input",{directives:[{name:"model",rawName:"v-model",value:e.selectedCases,expression:"selectedCases"}],staticClass:"check-case single-case-incaselib",attrs:{type:"checkbox"},domProps:{value:t.caseId,checked:Array.isArray(e.selectedCases)?e._i(e.selectedCases,t.caseId)>-1:e.selectedCases},on:{change:[function(a){var s=e.selectedCases,l=a.target,n=!!l.checked;if(Array.isArray(s)){var o=t.caseId,i=e._i(s,o);l.checked?i<0&&(e.selectedCases=s.concat([o])):i>-1&&(e.selectedCases=s.slice(0,i).concat(s.slice(i+1)))}else e.selectedCases=n},function(t){return e.checkChanged(t)}]}}),e._v(" "),a("p",[a("a",{staticClass:"view-case",on:{click:function(a){return a.stopPropagation(),e.viewCase(t.caseId,"PE4")}}},[a("span",[e._v("查看")])])])]),e._v(" "),a("footer",{staticClass:"case-footer"})])])]:[a("div",{staticClass:"checkbox-wrapper"},[a("i",{staticClass:"icon-move handle",staticStyle:{color:"#ff6c60"}}),e._v("  \r\n                                                            "),a("div",{staticStyle:{display:"inline-block",width:"20px",height:"20px"},on:{mousedown:function(e){e.stopPropagation()}}},[a("input",{directives:[{name:"model",rawName:"v-model",value:e.selectedCases,expression:"selectedCases"}],staticClass:"checkall",attrs:{type:"checkbox"},domProps:{value:t.caseId,checked:Array.isArray(e.selectedCases)?e._i(e.selectedCases,t.caseId)>-1:e.selectedCases},on:{change:[function(a){var s=e.selectedCases,l=a.target,n=!!l.checked;if(Array.isArray(s)){var o=t.caseId,i=e._i(s,o);l.checked?i<0&&(e.selectedCases=s.concat([o])):i>-1&&(e.selectedCases=s.slice(0,i).concat(s.slice(i+1)))}else e.selectedCases=n},function(t){return e.checkallToggle(t)}],mousedown:function(e){e.stopPropagation()}}})])]),e._v(" "),a("div",{staticClass:"case-wrapper"},e._l(t.flowNodes,(function(s,l){return a("div",{key:"case_wrapper"+l,staticClass:"case",on:{mousedown:function(e){e.stopPropagation()},click:function(t){return e.changeCase(s.flowNodeId,2)}}},[a("div",{staticClass:"case-header"},[a("img",{attrs:{src:e.exeImgs[0],id:"img-"+s.flowNodeId}}),e._v(" "),a("p",{staticClass:"width-limit",attrs:{title:s.casecode}},[e._v(e._s(s.casecode))]),e._v(" "),a("input",{directives:[{name:"model",rawName:"v-model",value:e.checkedFlowNodes,expression:"checkedFlowNodes"}],staticClass:"check-case flow-node-incaselib",attrs:{type:"checkbox"},domProps:{value:s.flowNodeId,checked:Array.isArray(e.checkedFlowNodes)?e._i(e.checkedFlowNodes,s.flowNodeId)>-1:e.checkedFlowNodes},on:{change:[function(t){var a=e.checkedFlowNodes,l=t.target,n=!!l.checked;if(Array.isArray(a)){var o=s.flowNodeId,i=e._i(a,o);l.checked?i<0&&(e.checkedFlowNodes=a.concat([o])):i>-1&&(e.checkedFlowNodes=a.slice(0,i).concat(a.slice(i+1)))}else e.checkedFlowNodes=n},function(t){return e.checkChanged(t)}]}}),e._v(" "),a("p",[a("a",{staticClass:"view-case",on:{click:function(a){return a.stopPropagation(),e.viewCase(t.caseId,"PE4")}}},[a("span",[e._v("查看")])])])]),e._v(" "),a("footer",{staticClass:"case-footer"},[e._v("\r\n                                                                    2\r\n                                                                ")])])})),0)]],2)})),0)])]):e._e()])]),e._v(" "),e.testSceneList.length?a("header",{staticClass:"panel-heading"},[e._v("场景列表\r\n                                "),a("button",{staticClass:"hide-case-list btn btn-xs btn-info",on:{mousedown:function(e){e.stopPropagation()},click:function(t){return e.saveScenesSort()}}},[e._v("保存场景排序\r\n                                ")]),e._v(" "),e._m(1)]):e._e(),e._v(" "),a("div",{staticStyle:{"margin-top":"20px"},attrs:{id:"sortable_sceneslist"}},e._l(e.testSceneList,(function(t,s){return a("div",{key:s,staticClass:"scene-list-wrapper  -wrapper",staticStyle:{padding:"0px 20px 10px 20px"}},[a("i",{staticClass:"icon-move handle2",staticStyle:{color:"#5a3c3c"}}),e._v("  \r\n                                    "),a("div",{staticClass:"checkbox-wrapper",staticStyle:{display:"inline-block",padding:"2px 5px"},on:{mousedown:function(e){e.stopPropagation()}}},[a("input",{directives:[{name:"model",rawName:"v-model",value:e.selectedScenes,expression:"selectedScenes"}],staticClass:"checkscene",attrs:{type:"checkbox",name:t.id},domProps:{value:t.sceneId,checked:Array.isArray(e.selectedScenes)?e._i(e.selectedScenes,t.sceneId)>-1:e.selectedScenes},on:{change:function(a){var s=e.selectedScenes,l=a.target,n=!!l.checked;if(Array.isArray(s)){var o=t.sceneId,i=e._i(s,o);l.checked?i<0&&(e.selectedScenes=s.concat([o])):i>-1&&(e.selectedScenes=s.slice(0,i).concat(s.slice(i+1)))}else e.selectedScenes=n}}})]),e._v(" "),a("span",{staticClass:"scene-list-title list-title",staticStyle:{top:"2px"}},[e._v(e._s(t.sceneName))]),e._v(" "),a("button",{staticClass:"hide-case-list btn btn-xs btn-info",on:{click:function(t){return e.hideCaseList(t)},mousedown:function(e){e.stopPropagation()}}},[a("span",[e._v("展开")]),e._v("  "),a("i",{staticClass:"icon-caret-right"})]),e._v(" "),a("button",{staticClass:"hide-case-list btn btn-xs btn-info",on:{mousedown:function(e){e.stopPropagation()},click:function(a){return e.saveSort(t.sceneId)}}},[e._v("保存排序\r\n                                    ")]),e._v(" "),a("div",{staticClass:"case-list",staticStyle:{display:"none"}},[t.testCaseList&&t.testCaseList.length?a("div",{staticClass:"check-all-case",staticStyle:{padding:"2px 5px",margin:"10px 10px"},on:{mousedown:function(e){e.stopPropagation()}}},[e._v("全选用例\r\n                                            "),a("input",{directives:[{name:"model",rawName:"v-model",value:e.checkallSceneIds,expression:"checkallSceneIds"}],staticClass:"checkall-inscene",attrs:{type:"checkbox"},domProps:{value:t.sceneId,checked:Array.isArray(e.checkallSceneIds)?e._i(e.checkallSceneIds,t.sceneId)>-1:e.checkallSceneIds},on:{change:[function(a){var s=e.checkallSceneIds,l=a.target,n=!!l.checked;if(Array.isArray(s)){var o=t.sceneId,i=e._i(s,o);l.checked?i<0&&(e.checkallSceneIds=s.concat([o])):i>-1&&(e.checkallSceneIds=s.slice(0,i).concat(s.slice(i+1)))}else e.checkallSceneIds=n},function(t){return e.checkAllInScene(t)}]}})]):e._e(),e._v(" "),a("div",{staticClass:"sortable_scene_caselist"},e._l(t.testCaseList,(function(s,l){return a("div",{key:"case_wrapper"+l,staticClass:"case-lib case-lib-pad"},["1"==s.caseCompositeType?[a("div",{staticClass:"checkbox-wrapper"},[a("i",{staticClass:"icon-move handle1",staticStyle:{color:"#B8860B"}}),e._v("  \r\n                                                        "),a("div",{staticStyle:{display:"inline-block",width:"20px",height:"20px"},on:{mousedown:function(e){e.stopPropagation()}}},[a("input",{directives:[{name:"model",rawName:"v-model",value:e.selectedSceneCases,expression:"selectedSceneCases"}],staticClass:"check-flownodes",attrs:{type:"checkbox",name:s.caseId},domProps:{value:"sort-"+t.sceneId+"-"+s.caseId,checked:Array.isArray(e.selectedSceneCases)?e._i(e.selectedSceneCases,"sort-"+t.sceneId+"-"+s.caseId)>-1:e.selectedSceneCases},on:{change:[function(a){var l=e.selectedSceneCases,n=a.target,o=!!n.checked;if(Array.isArray(l)){var i="sort-"+t.sceneId+"-"+s.caseId,r=e._i(l,i);n.checked?r<0&&(e.selectedSceneCases=l.concat([i])):r>-1&&(e.selectedSceneCases=l.slice(0,r).concat(l.slice(r+1)))}else e.selectedSceneCases=o},function(t){return e.checkAllFlowNodes(t)}]}})])]),e._v(" "),a("div",{staticClass:"case-wrapper"},[a("div",{staticClass:"case",on:{click:function(a){return e.changeCase(t.sceneId+"-"+s.caseId,3)},mousedown:function(e){e.stopPropagation()}}},[a("div",{staticClass:"case-header"},[a("img",{attrs:{src:e.exeImgs[0],id:"img-"+t.sceneId+"-"+s.caseId}}),e._v(" "),a("p",{staticClass:"width-limit",attrs:{title:s.caseCode}},[e._v("\r\n                                                                    "+e._s(s.caseCode))]),e._v(" "),a("input",{directives:[{name:"model",rawName:"v-model",value:e.selectedSceneCases,expression:"selectedSceneCases"}],staticClass:"check-case check-case-inscene",attrs:{type:"checkbox"},domProps:{value:"sort-"+t.sceneId+"-"+s.caseId,checked:Array.isArray(e.selectedSceneCases)?e._i(e.selectedSceneCases,"sort-"+t.sceneId+"-"+s.caseId)>-1:e.selectedSceneCases},on:{change:[function(a){var l=e.selectedSceneCases,n=a.target,o=!!n.checked;if(Array.isArray(l)){var i="sort-"+t.sceneId+"-"+s.caseId,r=e._i(l,i);n.checked?r<0&&(e.selectedSceneCases=l.concat([i])):r>-1&&(e.selectedSceneCases=l.slice(0,r).concat(l.slice(r+1)))}else e.selectedSceneCases=o},function(t){return e.checkFlowNode(t)}]}}),e._v(" "),a("p",[a("a",{staticClass:"view-case",on:{click:function(a){return a.stopPropagation(),e.viewCase(t.sceneId,s.caseId,"PE6")}}},[a("span",[e._v("查看")])])])])]),e._v(" "),a("div",{staticClass:"runnerclass",attrs:{id:"runner-"+t.sceneId+"-"+s.caseId}},[a("p")])])]:[a("div",{staticClass:"checkbox-wrapper"},[a("i",{staticClass:"icon-move handle1",staticStyle:{color:"#B8860B"}}),e._v("  \r\n                                                        "),a("div",{staticStyle:{display:"inline-block",width:"20px",height:"20px"},on:{mousedown:function(e){e.stopPropagation()}}},[a("input",{directives:[{name:"model",rawName:"v-model",value:e.selectedSceneCases,expression:"selectedSceneCases"}],staticClass:"check-flownodes",attrs:{type:"checkbox",name:s.caseId},domProps:{value:"sort-"+t.sceneId+"-"+s.caseId,checked:Array.isArray(e.selectedSceneCases)?e._i(e.selectedSceneCases,"sort-"+t.sceneId+"-"+s.caseId)>-1:e.selectedSceneCases},on:{change:[function(a){var l=e.selectedSceneCases,n=a.target,o=!!n.checked;if(Array.isArray(l)){var i="sort-"+t.sceneId+"-"+s.caseId,r=e._i(l,i);n.checked?r<0&&(e.selectedSceneCases=l.concat([i])):r>-1&&(e.selectedSceneCases=l.slice(0,r).concat(l.slice(r+1)))}else e.selectedSceneCases=o},function(t){return e.checkAllFlowNodes(t)}]}})])]),e._v(" "),a("div",{staticClass:"case-wrapper"},[e._l(s.flowNodes,(function(l,n){return a("div",{key:"case_wrapper2"+n,staticClass:"case caseFlow",on:{mousedown:function(e){e.stopPropagation()},click:function(a){return e.changeCase(t.sceneId+"-"+s.caseId+"-"+l.flowNodeId,3)}}},[a("div",{staticStyle:{display:"flex","align-items":"center"}},[a("div",{staticClass:"case-header case-header-Flow"},[a("img",{attrs:{src:e.exeImgs[0],id:"img-"+t.sceneId+"-"+s.caseId+"-"+l.flowNodeId}}),e._v(" "),a("p",{staticClass:"width-limit",attrs:{title:l.flowNodeCode}},[e._v(e._s(l.flowNodeCode)+" ")]),e._v(" "),a("input",{directives:[{name:"model",rawName:"v-model",value:e.selectedSceneCases,expression:"selectedSceneCases"}],staticClass:"check-case check-case-inscene",attrs:{type:"checkbox"},domProps:{value:t.sceneId+"-"+s.caseId+"-"+l.flowNodeId,checked:Array.isArray(e.selectedSceneCases)?e._i(e.selectedSceneCases,t.sceneId+"-"+s.caseId+"-"+l.flowNodeId)>-1:e.selectedSceneCases},on:{change:[function(a){var n=e.selectedSceneCases,o=a.target,i=!!o.checked;if(Array.isArray(n)){var r=t.sceneId+"-"+s.caseId+"-"+l.flowNodeId,c=e._i(n,r);o.checked?c<0&&(e.selectedSceneCases=n.concat([r])):c>-1&&(e.selectedSceneCases=n.slice(0,c).concat(n.slice(c+1)))}else e.selectedSceneCases=i},function(t){return e.checkFlowNode(t)}]}}),e._v(" "),a("p",[a("a",{staticClass:"view-case",on:{click:function(a){return a.stopPropagation(),e.viewCase(t.sceneId,s.caseId,"PE6",l.flowNodeId)}}},[e._v("查看\r\n                                                                        ")])])]),e._v(" "),n!=s.flowNodes.length-1?a("i",{staticClass:"icon-long-arrow-right"}):e._e()])])})),e._v(" "),a("div",{staticClass:"runnerclass",attrs:{id:"runner-"+t.sceneId+"-"+s.caseId}},[a("p")])],2)]],2)})),0)])])})),0)])])])])])]),e._v(" "),a("div",{staticClass:"modal fade",attrs:{id:"add-modal",tabindex:"-1",role:"dialog"}},[a("div",{staticClass:"modal-dialog",staticStyle:{"min-width":"max-content"},attrs:{role:"document"}},[a("div",{staticClass:"modal-content"},[e._m(2),e._v(" "),a("div",{staticClass:"modal-body"},[a("table",{staticClass:"table table-bordered"},[a("thead",[a("tr",[a("th",{attrs:{scope:"th"}},[a("input",{attrs:{type:"checkbox"},on:{change:function(t){return e.selectAll(t)}}}),e._v("全选\r\n                            ")]),e._v(" "),a("th",{attrs:{scope:"col"}},[e._v("场景名称")]),e._v(" "),a("th",{attrs:{scope:"col"}},[e._v("场景描述")])])]),e._v(" "),a("tbody",e._l(e.allscenes,(function(t,s){return a("tr",{key:"scene"+s},[e.senceAddedStatus(t.id)?a("td",[e._v("已选择")]):a("td",[a("input",{directives:[{name:"model",rawName:"v-model",value:e.selectedScene,expression:"selectedScene"}],attrs:{type:"checkbox"},domProps:{value:t.id,checked:Array.isArray(e.selectedScene)?e._i(e.selectedScene,t.id)>-1:e.selectedScene},on:{change:function(a){var s=e.selectedScene,l=a.target,n=!!l.checked;if(Array.isArray(s)){var o=t.id,i=e._i(s,o);l.checked?i<0&&(e.selectedScene=s.concat([o])):i>-1&&(e.selectedScene=s.slice(0,i).concat(s.slice(i+1)))}else e.selectedScene=n}}})]),e._v(" "),a("td",[e._v(e._s(t.nameMedium))]),e._v(" "),a("td",[e._v(e._s(t.descShort))])])})),0)])]),e._v(" "),a("div",{staticClass:"col-lg-12 text-center"},[0!=e.scenePage.totalPage?a("div",{staticClass:"pagination-wrap"},[a("div",{staticClass:"num"},[a("select",{directives:[{name:"model",rawName:"v-model",value:e.scenePage.pageSize,expression:"scenePage.pageSize"}],staticClass:"form-control",attrs:{size:"1",name:"sample_1_length","aria-controls":"sample_1",id:"pageSizeSelect"},on:{change:function(t){var a=Array.prototype.filter.call(t.target.options,(function(e){return e.selected})).map((function(e){return"_value"in e?e._value:e.value}));e.$set(e.scenePage,"pageSize",t.target.multiple?a:a[0])}}},[a("option",{attrs:{value:"5",selected:""}},[e._v("5条/页")]),e._v(" "),a("option",{attrs:{value:"10"}},[e._v("10条/页")]),e._v(" "),a("option",{attrs:{value:"20"}},[e._v("20条/页")]),e._v(" "),a("option",{attrs:{value:"50"}},[e._v("50条/页")])])]),e._v(" "),a("ul",{staticClass:"pagination"},[a("li",{class:1==e.scenePage.currentPage?"disabled":""},[a("a",{attrs:{href:"javascript:;"},on:{click:function(t){return e.turnToScenePage(1)}}},[e._v("首页")])]),e._v(" "),a("li",{class:1==e.scenePage.currentPage?"disabled":""},[a("a",{attrs:{href:"javascript:;"},on:{click:function(t){return e.turnToScenePage(e.scenePage.currentPage-1)}}},[e._v("上一页")])]),e._v(" "),a("li",[e.scenePage.currentPage-3>0?a("a",{attrs:{href:"javascript:;"},domProps:{textContent:e._s(e.scenePage.currentPage-3)},on:{click:function(t){return e.turnToScenePage(e.scenePage.currentPage-3)}}}):e._e()]),e._v(" "),a("li",[e.scenePage.currentPage-2>0?a("a",{attrs:{href:"javascript:;"},domProps:{textContent:e._s(e.scenePage.currentPage-2)},on:{click:function(t){return e.turnToScenePage(e.scenePage.currentPage-2)}}}):e._e()]),e._v(" "),a("li",[e.scenePage.currentPage-1>0?a("a",{attrs:{href:"javascript:;"},domProps:{textContent:e._s(e.scenePage.currentPage-1)},on:{click:function(t){return e.turnToScenePage(e.scenePage.currentPage-1)}}}):e._e()]),e._v(" "),a("li",{staticClass:"active"},[a("a",{attrs:{href:"javascript:;"},domProps:{textContent:e._s(e.scenePage.currentPage)},on:{click:function(t){return e.turnToScenePage(e.scenePage.currentPage)}}},[e._v("3")])]),e._v(" "),a("li",[e.scenePage.currentPage+1<=e.scenePage.totalPage?a("a",{attrs:{href:"javascript:;"},domProps:{textContent:e._s(e.scenePage.currentPage+1)},on:{click:function(t){return e.turnToScenePage(e.scenePage.currentPage+1)}}}):e._e()]),e._v(" "),a("li",[e.scenePage.currentPage+2<=e.scenePage.totalPage?a("a",{attrs:{href:"javascript:;"},domProps:{textContent:e._s(e.scenePage.currentPage+2)},on:{click:function(t){return e.turnToScenePage(e.scenePage.currentPage+2)}}}):e._e()]),e._v(" "),a("li",{class:e.scenePage.currentPage==e.scenePage.totalPage?"disabled":""},[a("a",{attrs:{href:"javascript:;"},on:{click:function(t){return e.turnToScenePage(e.scenePage.currentPage+1)}}},[e._v("下一页")])]),e._v(" "),a("li",{class:e.scenePage.currentPage==e.scenePage.totalPage?"disabled":""},[a("a",{attrs:{href:"javascript:;"},on:{click:function(t){return e.turnToScenePage(e.scenePage.totalPage)}}},[e._v("尾页")])])]),e._v(" "),a("div",{staticClass:"go"},[a("div",{class:e.isPageNumberError?"input-group error":"input-group"},[a("input",{directives:[{name:"model",rawName:"v-model",value:e.goToPage,expression:"goToPage"}],staticClass:"form-control",attrs:{type:"number",min:"1",max:e.scenePage.totalPage},domProps:{value:e.goToPage},on:{input:function(t){t.target.composing||(e.goToPage=t.target.value)}}}),e._v(" "),a("a",{staticClass:"input-group-addon",attrs:{href:"javascript:;"},on:{click:function(t){return e.turnToScenePage(e.goToPage)}}},[e._v("Go")])])]),e._v(" "),a("p",{staticClass:"page-info nowrap"},[e._v(" 当前第 "),a("span",{staticClass:"text-primary",domProps:{textContent:e._s(e.scenePage.currentPage)}}),e._v(" /\r\n                            "),a("span",{staticClass:"text-primary",domProps:{textContent:e._s(e.scenePage.totalPage)}}),e._v("页，共有 "),a("span",{staticClass:"text-primary",domProps:{textContent:e._s(e.scenePage.totalCount)}}),e._v("条\r\n                        ")])]):e._e()]),e._v(" "),a("div",{staticClass:"modal-footer"},[a("button",{staticClass:"btn btn-default",attrs:{type:"button","data-dismiss":"modal"}},[e._v("取消")]),e._v(" "),a("button",{staticClass:"btn btn-primary",attrs:{type:"button"},on:{click:function(t){return e.sendSceneData()}}},[e._v("确认")])])])])]),e._v(" "),a("div",{staticClass:"modal fade",attrs:{id:"testplan_modal",tabindex:"-1",role:"dialog"}},[a("div",{staticClass:"modal-dialog modal-width",attrs:{role:"document"}},[a("div",{staticClass:"modal-content"},[e._m(3),e._v(" "),a("div",{staticClass:"modal-body"},[a("div",{staticClass:"top-bar"},[a("button",{staticClass:"btn btn-white",attrs:{type:"button","data-toggle":"modal"},on:{click:function(t){return e.showAddModal()}}},[a("i",{staticClass:"icon-plus"}),e._v("\r\n                            新增\r\n                        ")])]),e._v(" "),a("div",{staticClass:"main-content",staticStyle:{padding:"20px"}},[a("table",{staticClass:"table table-bordered",attrs:{id:"testplan-table"}},[e._m(4),e._v(" "),a("tbody",e._l(e.testPlanArray,(function(t,s){return a("tr",{key:"testPlan"+s},[a("td",[e._v(e._s(t.nameMedium))]),e._v(" "),a("td",[e._v(e._s(t.descMedium))]),e._v(" "),a("td",{staticClass:"center ",attrs:{width:""}},[a("button",{staticClass:"btn btn-xs btn-success",on:{click:function(a){return e.showUpdateModal(t.id)}}},[e._v("修改")])])])})),0)]),e._v(" "),a("div",{staticClass:"row"},[a("div",{staticClass:"col-lg-12 text-center"},[0!=e.page.totalPage?a("div",{staticClass:"pagination-wrap"},[a("div",{staticClass:"num"},[a("select",{directives:[{name:"model",rawName:"v-model",value:e.page.pageSize,expression:"page.pageSize"}],staticClass:"form-control",attrs:{size:"1",name:"sample_1_length","aria-controls":"sample_1"},on:{change:[function(t){var a=Array.prototype.filter.call(t.target.options,(function(e){return e.selected})).map((function(e){return"_value"in e?e._value:e.value}));e.$set(e.page,"pageSize",t.target.multiple?a:a[0])},function(t){return e.turnToPage(1)}]}},[a("option",{attrs:{value:"5"}},[e._v("5条/页")]),e._v(" "),a("option",{attrs:{value:"10",selected:""}},[e._v("10条/页")]),e._v(" "),a("option",{attrs:{value:"20"}},[e._v("20条/页")]),e._v(" "),a("option",{attrs:{value:"50"}},[e._v("50条/页")])])]),e._v(" "),a("ul",{staticClass:"pagination"},[a("li",{class:1==e.page.currentPage?"disabled":""},[a("a",{attrs:{href:"javascript:;"},on:{click:function(t){return e.turnToPage(1)}}},[e._v("首页")])]),e._v(" "),a("li",{class:1==e.page.currentPage?"disabled":""},[a("a",{attrs:{href:"javascript:;"},on:{click:function(t){return e.turnToPage(e.page.currentPage-1)}}},[e._v("上一页")])]),e._v(" "),a("li",[e.page.currentPage-3>0?a("a",{attrs:{href:"javascript:;"},domProps:{textContent:e._s(e.page.currentPage-3)},on:{click:function(t){return e.turnToPage(e.page.currentPage-3)}}}):e._e()]),e._v(" "),a("li",[e.page.currentPage-2>0?a("a",{attrs:{href:"javascript:;"},domProps:{textContent:e._s(e.page.currentPage-2)},on:{click:function(t){return e.turnToPage(e.page.currentPage-2)}}}):e._e()]),e._v(" "),a("li",[e.page.currentPage-1>0?a("a",{attrs:{href:"javascript:;"},domProps:{textContent:e._s(e.page.currentPage-1)},on:{click:function(t){return e.turnToPage(e.page.currentPage-1)}}}):e._e()]),e._v(" "),a("li",{staticClass:"active"},[a("a",{attrs:{href:"javascript:;"},domProps:{textContent:e._s(e.page.currentPage)},on:{click:function(t){return e.turnToPage(e.page.currentPage)}}},[e._v("3")])]),e._v(" "),a("li",[e.page.currentPage+1<=e.page.totalPage?a("a",{attrs:{href:"javascript:;"},domProps:{textContent:e._s(e.page.currentPage+1)},on:{click:function(t){return e.turnToPage(e.page.currentPage+1)}}}):e._e()]),e._v(" "),a("li",[e.page.currentPage+2<=e.page.totalPage?a("a",{attrs:{href:"javascript:;"},domProps:{textContent:e._s(e.page.currentPage+2)},on:{click:function(t){return e.turnToPage(e.page.currentPage+2)}}}):e._e()]),e._v(" "),a("li",[e.page.currentPage+3<=e.page.totalPage?a("a",{attrs:{href:"javascript:;"},domProps:{textContent:e._s(e.page.currentPage+3)},on:{click:function(t){return e.turnToPage(e.page.currentPage+3)}}}):e._e()]),e._v(" "),a("li",{class:e.page.currentPage==e.page.totalPage?"disabled":""},[a("a",{attrs:{href:"javascript:;"},on:{click:function(t){return e.turnToPage(e.page.currentPage+1)}}},[e._v("下一页")])]),e._v(" "),a("li",{class:e.page.currentPage==e.page.totalPage?"disabled":""},[a("a",{attrs:{href:"javascript:;"},on:{click:function(t){return e.turnToPage(e.page.totalPage)}}},[e._v("尾页")])])]),e._v(" "),a("div",{staticClass:"go"},[a("div",{class:e.isPageNumberError?"input-group error":"input-group"},[a("input",{directives:[{name:"model",rawName:"v-model",value:e.goToPage,expression:"goToPage"}],staticClass:"form-control",attrs:{type:"number",min:"1"},domProps:{value:e.goToPage},on:{input:function(t){t.target.composing||(e.goToPage=t.target.value)}}}),a("a",{staticClass:"input-group-addon",attrs:{href:"javascript:;"},on:{click:function(t){return e.turnToPage(e.goToPage)}}},[e._v("Go")])])]),e._v(" "),a("small",{staticClass:"small nowrap"},[e._v(" 当前第 "),a("span",{staticClass:"text-primary",domProps:{textContent:e._s(e.page.currentPage)}}),e._v(" / "),a("span",{staticClass:"text-primary",domProps:{textContent:e._s(e.page.totalPage)}}),e._v("页，共有 "),a("span",{staticClass:"text-primary",domProps:{textContent:e._s(e.page.totalCount)}}),e._v(" 条\r\n                                    ")])]):e._e()])])])]),e._v(" "),a("div",{staticClass:"modal-footer"},[a("button",{staticClass:"btn btn-default",attrs:{type:"button","data-dismiss":"modal"}},[e._v("取消")]),e._v(" "),a("button",{staticClass:"btn btn-primary",attrs:{type:"button"},on:{click:function(t){return e.sendSceneData()}}},[e._v("确认")])])])])]),e._v(" "),a("div",{staticClass:"modal fade",attrs:{tabindex:"-1",role:"dialog",id:"addTestRoundId","aria-hidden":"true","aria-labelledby":"addTestRound","data-toggle":"modal"}},[a("div",{staticClass:"modal-dialog "},[a("div",{staticClass:"modal-content"},[e._m(5),e._v(" "),a("div",{staticClass:"modal-body"},[a("form",{staticClass:"form-horizontal"},[a("div",{staticClass:"form-group"},[a("label",{staticClass:"col-sm-2 control-label"},[e._v("名称")]),e._v(" "),a("div",{staticClass:"col-sm-10"},[a("input",{directives:[{name:"model",rawName:"v-model",value:e.addRoundRowData.roundName,expression:"addRoundRowData.roundName"}],staticClass:"form-control",attrs:{type:"text",autocomplete:"off"},domProps:{value:e.addRoundRowData.roundName},on:{input:function(t){t.target.composing||e.$set(e.addRoundRowData,"roundName",t.target.value)}}})])]),e._v(" "),a("div",{staticClass:"form-group"},[a("label",{staticClass:"col-sm-2 control-label"},[e._v("描述")]),e._v(" "),a("div",{staticClass:"col-sm-10"},[a("textarea",{directives:[{name:"model",rawName:"v-model",value:e.addRoundRowData.roundDesc,expression:"addRoundRowData.roundDesc"}],staticClass:"form-control",attrs:{resize:"disabled",autocomplete:"off"},domProps:{value:e.addRoundRowData.roundDesc},on:{input:function(t){t.target.composing||e.$set(e.addRoundRowData,"roundDesc",t.target.value)}}})])]),e._v(" "),a("div",{staticClass:"form-group"},[a("label",{staticClass:"col-sm-2 control-label"},[e._v("记录单保存方式")]),e._v(" "),a("div",{staticClass:"col-sm-10"},[a("select",{directives:[{name:"model",rawName:"v-model",value:e.addRoundRowData.recordmanagementflag,expression:"addRoundRowData.recordmanagementflag"}],staticClass:"form-control",on:{change:function(t){var a=Array.prototype.filter.call(t.target.options,(function(e){return e.selected})).map((function(e){return"_value"in e?e._value:e.value}));e.$set(e.addRoundRowData,"recordmanagementflag",t.target.multiple?a:a[0])}}},e._l([{value:1,label:"仅保存一份"},{value:2,label:"保存多份"}],(function(t){return a("option",{key:t.value,domProps:{value:t.value}},[e._v("\r\n                                        "+e._s(t.label)+"\r\n                                    ")])})),0)])]),e._v(" "),a("div",{staticClass:"form-group"},[a("label",{staticClass:"col-sm-2 control-label"},[e._v("定时执行方式")]),e._v(" "),a("div",{staticClass:"col-sm-10"},[a("input",{directives:[{name:"model",rawName:"v-model",value:e.addRoundRowData.timeexecutesetting,expression:"addRoundRowData.timeexecutesetting"}],staticClass:"form-control",attrs:{type:"text",autocomplete:"off"},domProps:{value:e.addRoundRowData.timeexecutesetting},on:{input:function(t){t.target.composing||e.$set(e.addRoundRowData,"timeexecutesetting",t.target.value)}}})])])]),e._v(" "),a("div",{staticClass:"modal-footer"},[a("button",{staticClass:"btn btn-default",attrs:{type:"button","data-dismiss":"modal"}},[e._v("关闭")]),e._v(" "),a("button",{staticClass:"btn btn-primary",attrs:{type:"button"},on:{click:function(t){return e.addTestRound()}}},[e._v("确认")])])])])])]),e._v(" "),a("div",{staticClass:"modal fade",attrs:{"data-toggle":"modal",id:"addTestPlan",tabindex:"-1",role:"dialog","aria-labelledby":"testPlanLabel","aria-hidden":"true"}},[a("div",{staticClass:"modal-dialog"},[a("div",{staticClass:"modal-content"},[e._m(6),e._v(" "),a("div",{staticClass:"modal-body"},[a("form",{staticClass:"form-horizontal"},[a("div",{staticClass:"form-group"},[a("label",{staticClass:"col-sm-2 control-label",attrs:{for:"testplan-name"}},[e._v("测试计划名称")]),e._v(" "),a("div",{staticClass:"col-sm-10"},[a("input",{directives:[{name:"model",rawName:"v-model",value:e.addRowData.nameMedium,expression:"addRowData.nameMedium"}],staticClass:"form-control",attrs:{type:"text",autocomplete:"off"},domProps:{value:e.addRowData.nameMedium},on:{input:function(t){t.target.composing||e.$set(e.addRowData,"nameMedium",t.target.value)}}})])]),e._v(" "),a("div",{staticClass:"form-group"},[a("label",{staticClass:"col-sm-2 control-label",attrs:{for:"testplan-desc"}},[e._v("测试计划描述")]),e._v(" "),a("div",{staticClass:"col-sm-10"},[a("input",{directives:[{name:"model",rawName:"v-model",value:e.addRowData.descMedium,expression:"addRowData.descMedium"}],staticClass:"form-control",attrs:{type:"text",autocomplete:"off"},domProps:{value:e.addRowData.descMedium},on:{input:function(t){t.target.composing||e.$set(e.addRowData,"descMedium",t.target.value)}}})])]),e._v(" "),a("div",{directives:[{name:"show",rawName:"v-show",value:1===e.editType,expression:"1 === editType"}],staticClass:"form-group display"},[a("label",{staticClass:"col-sm-2 control-label"},[e._v("测试阶段")]),e._v(" "),a("div",{staticClass:"col-sm-10"},[a("select",{directives:[{name:"model",rawName:"v-model",value:e.addRowData.testPhaseId,expression:"addRowData.testPhaseId"}],staticClass:"form-control",attrs:{name:"testPhaseId",id:""},on:{change:function(t){var a=Array.prototype.filter.call(t.target.options,(function(e){return e.selected})).map((function(e){return"_value"in e?e._value:e.value}));e.$set(e.addRowData,"testPhaseId",t.target.multiple?a:a[0])}}},e._l(e.testPhaseArray,(function(t){return a("option",{key:t.id,domProps:{value:t.id}},[e._v("\r\n                                        "+e._s(t.name)+"\r\n                                    ")])})),0)])]),e._v(" "),a("div",{directives:[{name:"show",rawName:"v-show",value:1===e.editType,expression:"1 === editType"}],staticClass:"form-group display"},[a("label",{staticClass:"col-sm-2 control-label"},[e._v("测试轮次")]),e._v(" "),a("div",{staticClass:"col-sm-10"},[a("select",{directives:[{name:"model",rawName:"v-model",value:e.addRowData.testRoundId,expression:"addRowData.testRoundId"}],staticStyle:{width:"80%",height:"34px"},attrs:{name:"testRoundId",filterable:"",placeholder:"请选择"},on:{change:function(t){var a=Array.prototype.filter.call(t.target.options,(function(e){return e.selected})).map((function(e){return"_value"in e?e._value:e.value}));e.$set(e.addRowData,"testRoundId",t.target.multiple?a:a[0])}}},e._l(e.testRoundArray,(function(e){return a("option",{key:e.id,attrs:{label:e.name},domProps:{value:e.id}})})),0),e._v(" "),a("button",{staticClass:"btn btn-primary btn-sm",staticStyle:{"margin-left":"20px"},attrs:{type:"button","data-toggle":"modal","data-target":"#addTestRoundId"}},[e._v("新增\r\n                                ")])])])])]),e._v(" "),a("div",{staticClass:"modal-footer"},[a("button",{staticClass:"btn btn-default",attrs:{"data-dismiss":"modal",type:"button"}},[e._v("取消")]),e._v(" "),a("button",{staticClass:"btn btn-success",attrs:{type:"button",id:"btn-add"},on:{click:function(t){return e.add()}}},[e._v("确定")])])])])]),e._v(" "),a("div",{staticClass:"modal fade",attrs:{tabindex:"-1",role:"dialog",id:"runInterrupt","aria-hidden":"true","aria-labelledby":"addTestRound","data-toggle":"modal"}},[a("div",{staticClass:"modal-dialog "},[a("div",{staticClass:"modal-content"},[e._m(7),e._v(" "),a("div",{staticClass:"modal-body"},[a("form",{staticClass:"form-horizontal"},[a("div",{staticClass:"form-group"},[a("label",{staticClass:"col-sm-8 control-label"},[e._v("执行用例出错，请选择是否继续执行，"+e._s(e.interruptTime)+"后自动继续执行")])])]),e._v(" "),a("div",{staticClass:"modal-footer"},[a("button",{staticClass:"btn btn-default",attrs:{type:"button"},on:{click:function(t){return e.runContinue()}}},[e._v("继续执行")]),e._v(" "),a("button",{staticClass:"btn btn-primary",attrs:{type:"button"},on:{click:function(t){return e.runStop()}}},[e._v("取消")])])])])])])])}),[function(){var e=this.$createElement,t=this._self._c||e;return t("div",{staticClass:"form-group col-lg-4",attrs:{hidden:""}},[t("label",{staticClass:"option-name col-lg-13 control-label"},[this._v("\r\n                                        当前测试轮次\r\n                                        ")]),this._v(" "),t("div",{staticClass:"col-lg-9"},[t("span",{staticClass:"execute-range form-control",attrs:{id:"currentRound"}},[this._v("正在等待数据加载")])])])},function(){var e=this.$createElement,t=this._self._c||e;return t("span",{staticClass:"exe-info"},[t("i",{staticClass:" icon-info-sign"}),this._v("\r\n                                    场景内的用例串行执行，场景之间并行执行\r\n                                ")])},function(){var e=this.$createElement,t=this._self._c||e;return t("div",{staticClass:"modal-header"},[t("button",{staticClass:"close",attrs:{type:"button","data-dismiss":"modal","aria-label":"Close"}},[t("span",{attrs:{"aria-hidden":"true"}},[this._v("×")])]),this._v(" "),t("h4",{staticClass:"modal-title"},[this._v("新增场景")])])},function(){var e=this.$createElement,t=this._self._c||e;return t("div",{staticClass:"modal-header"},[t("button",{staticClass:"close",attrs:{type:"button","data-dismiss":"modal","aria-label":"Close"}},[t("span",{attrs:{"aria-hidden":"true"}},[this._v("×")])]),this._v(" "),t("h4",{staticClass:"modal-title"},[this._v("测试计划管理")])])},function(){var e=this.$createElement,t=this._self._c||e;return t("thead",[t("tr",[t("th",{staticClass:"text-center",attrs:{scope:"col"}},[this._v("名称")]),this._v(" "),t("th",{staticClass:"text-center",attrs:{scope:"col"}},[this._v("描述")]),this._v(" "),t("th",{staticClass:"text-center",attrs:{scope:"col"}},[this._v("操作")])])])},function(){var e=this.$createElement,t=this._self._c||e;return t("div",{staticClass:"modal-header"},[t("button",{staticClass:"close",attrs:{type:"button","data-dismiss":"modal","aria-hidden":"true"}},[this._v("×")]),this._v(" "),t("h4",{staticClass:"modal-title",attrs:{id:"addTestRound"}},[this._v("新增测试轮次")])])},function(){var e=this.$createElement,t=this._self._c||e;return t("div",{staticClass:"modal-header"},[t("button",{staticClass:"close",attrs:{type:"button","data-dismiss":"modal","aria-hidden":"true"}},[this._v("×")]),this._v(" "),t("h4",{staticClass:"modal-title",attrs:{id:"testPlanLabel"}},[this._v("新增测试计划")])])},function(){var e=this.$createElement,t=this._self._c||e;return t("div",{staticClass:"modal-header"},[t("button",{staticClass:"close",attrs:{type:"button","data-dismiss":"modal","aria-hidden":"true"}},[this._v("×")]),this._v(" "),t("h4",{staticClass:"modal-title",attrs:{id:"addTestRound"}},[this._v("用理执行出错")])])}],!1,Ja,"data-v-30ec0152",null).exports,Ya={name:"ruleExecutionQuery",mixins:[L.a],data:function(){return{selectedTime:"",startTime:"",endTime:"",timeSlot:"左侧日历表选择",dateDisabled:!1,params:{caseLibId:82,caseSourceChannel:"",currentPage:1,pageSize:20,queryEndTime:"",queryStartTime:"",runStatus:"",testPlanId:""},caseSources:["测试计划","场景","数据编写","模块调试"],selectedCaseSource:"",testPlans:[],selectedNameMedium:"",selectedExecutionStatus:"",executionStatuses:["初始","执行中","执行完毕","错误终止","人工终止"],tableData:[],total:0,cakePicVisable:!1,cakeTitle:"饼状图详情",chartData:{},useColor:["#22ee55","#e72210","#53becc"]}},created:function(){this.selectAllTestPlan(),this.params.queryEndTime=Date.now(),this.params.queryStartTime=this.params.queryEndTime-124416e6,this.startTime=new Date(this.params.queryStartTime),this.endTime=new Date(this.params.queryEndTime),this.executeQuery()},mounted:function(){},methods:{selectAllTestPlan:function(){var e=this;d({url:"/testPlanController/selectAllTestPlan",method:"POST",params:{}}).then((function(t){console.log("获取成功",t),e.testPlans=t.testPlanEntityList})).catch((function(e){console.log("获取失败",e)}))},timeSlotSelect:function(){if(console.log("时间段",this.timeSlot),"左侧日历表选择"!=this.timeSlot){this.dateDisabled=!0;var e=Date.now();this.params.queryEndTime=e,"近一天"===this.timeSlot?this.params.queryStartTime=this.params.queryEndTime-864e5:"近一周"===this.timeSlot?this.params.queryStartTime=this.params.queryEndTime-6048e5:this.params.queryStartTime=this.params.queryEndTime-2592e6,console.log("今天",e),console.log("开始时间：",this.params.queryStartTime,"结束时间",this.params.queryEndTime);var t=new Date(this.params.queryStartTime),a=new Date(this.params.queryEndTime);console.log("开始时间：",t,"结束时间",a),this.startTime=t,this.endTime=a}else this.dateDisabled=!1,this.params.queryStartTime="",this.params.queryEndTime="",this.startTime="",this.endTime=""},executeQuery:function(){var e=this;console.log("params",this.params),this.params.queryStartTime=new Date(this.startTime).getTime(),this.params.queryEndTime=new Date(this.endTime).getTime(),d({url:"/batchRunCtrlController/pagedBatchQueryBatchRunCtrl",method:"POST",params:this.params}).then((function(t){console.log("查询成功",t),e.tableData=t.batchRunCtrlList,e.total=t.totalCount,console.log("total",e.total)})).catch((function(e){console.log("查询失败",e)}))},handleSizeChange:function(e){console.log("每页".concat(e,"条")),this.params.pageSize=e,this.executeQuery()},handleCurrentChange:function(e){console.log("当前".concat(e,"页")),this.params.currentPage=e,this.executeQuery()},handleRunStatusChange:function(){this.params.runStatus=this.executionStatuses.indexOf(this.selectedExecutionStatus),console.log("selectedExecutionStatus",this.params.runStatus)},handleTestPlanChange:function(){},queryRecord:function(e){console.log(e),this.$router.push({name:"QueryExecutionRecord",query:{batchId:e.batchId,testPlan:e.testPlan}})},archive:function(e){this.$message.success("归档:".concat(e.testPlanName))},openCakePic:function(e){this.$message.success("查看饼状图"),console.log(e);document.getElementById("leftCake");var t=parseInt(e.successInsCount),a=parseInt(e.failedInsCount),s=parseInt(e.notRunInsCount);this.cakePicVisable=!0,this.chartData={columns:["name","number"],rows:[{name:"成功用例",number:t},{name:"失败用例",number:a},{name:"跳过用例",number:s}]}},handleBeforeClose:function(e){return e(),!0},cancelPicDialog:function(){this.cakePicVisable=!1}}};var Xa=function(e){a("j3ZR")},Ga=Object(m.a)(Ya,(function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"page-inner"},[a("el-container",[a("el-main",[a("el-row",{attrs:{gutter:20}},[a("el-col",{staticClass:"timeCol",attrs:{span:1.2,offset:0}},[a("span",[e._v("起始日期:")])]),e._v(" "),a("el-col",{staticClass:"timePicker",staticStyle:{"margin-right":"10px"},attrs:{span:3.5,offset:0}},[a("el-date-picker",{attrs:{type:"datetime",placeholder:"开始日期",disabled:e.dateDisabled},model:{value:e.startTime,callback:function(t){e.startTime=t},expression:"startTime"}})],1),e._v(" "),a("el-col",{staticClass:"toStyle",attrs:{span:.1,offset:0}},[a("span",[e._v("至")])]),e._v(" "),a("el-col",{staticClass:"timePicker",attrs:{span:5,offset:0}},[a("el-date-picker",{attrs:{type:"datetime",placeholder:"结束日期",disabled:e.dateDisabled},model:{value:e.endTime,callback:function(t){e.endTime=t},expression:"endTime"}})],1),e._v(" "),a("el-col",{staticClass:"timeRange",attrs:{span:1.2,offset:0}},[a("span",[e._v("时间段")])]),e._v(" "),a("el-col",{staticClass:"timePicker",attrs:{span:6,offset:0}},[a("el-select",{on:{change:e.timeSlotSelect},model:{value:e.timeSlot,callback:function(t){e.timeSlot=t},expression:"timeSlot"}},[a("el-option",{attrs:{value:"左侧日历表选择"}}),e._v(" "),a("el-option",{attrs:{value:"近一天"}}),e._v(" "),a("el-option",{attrs:{value:"近一周"}}),e._v(" "),a("el-option",{attrs:{value:"近一月"}})],1)],1)],1),e._v(" "),a("el-row",{staticClass:"rowStyle",attrs:{gutter:20}},[a("el-col",{staticClass:"timeCol",attrs:{span:1.2,offset:0}},[a("span",[e._v("用例来源:")])]),e._v(" "),a("el-col",{staticClass:"timePicker",attrs:{span:4,offset:0}},[a("el-select",{model:{value:e.selectedCaseSource,callback:function(t){e.selectedCaseSource=t},expression:"selectedCaseSource"}},e._l(e.caseSources,(function(e,t){return a("el-option",{key:t,attrs:{value:e}})})),1)],1),e._v(" "),a("el-col",{staticClass:"timeCol",attrs:{span:1.2}},[a("span",[e._v("测试计划:")])]),e._v(" "),a("el-col",{staticClass:"timePicker",attrs:{span:4,offset:0}},[a("el-select",{on:{change:e.handleTestPlanChange},model:{value:e.params.testPlanId,callback:function(t){e.$set(e.params,"testPlanId",t)},expression:"params.testPlanId"}},e._l(e.testPlans,(function(t,s){return a("el-option",{key:s,attrs:{value:t.id}},[e._v(e._s(t.nameMedium))])})),1)],1),e._v(" "),a("el-col",{staticClass:"executionStatus",attrs:{span:1.2,offset:0}},[a("span",[e._v("执行状态")])]),e._v(" "),a("el-col",{staticClass:"timePicker",attrs:{span:4,offset:0}},[a("el-select",{on:{change:e.handleRunStatusChange},model:{value:e.selectedExecutionStatus,callback:function(t){e.selectedExecutionStatus=t},expression:"selectedExecutionStatus"}},e._l(e.executionStatuses,(function(e,t){return a("el-option",{key:t,attrs:{value:e}})})),1)],1),e._v(" "),a("el-button",{attrs:{type:"primary",size:"small",icon:"el-icon-search"},on:{click:e.executeQuery}},[e._v("查询")])],1),e._v(" "),a("el-table",{staticClass:"tableStyle",attrs:{scripe:"",border:"",data:e.tableData}},[a("el-table-column",{attrs:{align:"center",width:"162px",label:"操作"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("el-button",{attrs:{type:"primary",size:"mini"},on:{click:function(a){return e.queryRecord(t.row)}}},[e._v("查看记录单")])]}}])}),e._v(" "),a("el-table-column",{attrs:{align:"center",width:"90px",label:"发起用户",prop:"startUser"}}),e._v(" "),a("el-table-column",{attrs:{width:"90px",label:"用例来源",align:"center",prop:"instanceSource"}}),e._v(" "),a("el-table-column",{attrs:{width:"149px",align:"center",label:"测试计划"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("el-button",{attrs:{type:"primary",size:"mini"}},[e._v(e._s(t.row.testPlanName))])]}}])}),e._v(" "),a("el-table-column",{attrs:{width:"90px",label:"执行轮次",align:"center",prop:"executionRound"}}),e._v(" "),a("el-table-column",{attrs:{width:"90px",label:"用例总数",align:"center",prop:"totalInsCount"}}),e._v(" "),a("el-table-column",{attrs:{width:"103px",label:"成功用例数",align:"center",prop:"successInsCount"}}),e._v(" "),a("el-table-column",{attrs:{width:"105px",label:"失败用例数",align:"center"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("span",{staticClass:"failedStyle"},[e._v(e._s(t.row.failedInsCount))])]}}])}),e._v(" "),a("el-table-column",{attrs:{width:"104px",label:"跳过用例数",align:"center",prop:"notRunInsCount"}}),e._v(" "),a("el-table-column",{attrs:{width:"111px",align:"center",label:"用例饼状图"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("el-button",{attrs:{type:"primary",size:"mini"},on:{click:function(a){return e.openCakePic(t.row)}}},[e._v("查看饼状图")])]}}])}),e._v(" "),a("el-table-column",{attrs:{width:"95px",label:"执行状态",align:"center",prop:"executingStatus"}}),e._v(" "),a("el-table-column",{attrs:{width:"95px",label:"执行结果",align:"center"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("span",{class:"全部失败"===t.row.executedResult?"failedStyle":""},[e._v(e._s(t.row.executedResult))])]}}])}),e._v(" "),a("el-table-column",{attrs:{width:"160px",label:"创建时间",align:"center",prop:"createTime",formatter:e.transTime}}),e._v(" "),a("el-table-column",{attrs:{width:"160px",label:"完成时间",align:"center",prop:"finishTime",formatter:e.transTime}})],1),e._v(" "),a("div",{staticClass:"paginationStyle"},[a("el-pagination",{attrs:{"page-size":e.params.pageSize,"page-sizes":[5,10,20,50],"current-page":e.params.currentPage,total:e.total,layout:"total,sizes,prev,pager,next,jumper"},on:{"size-change":e.handleSizeChange,"current-change":e.handleCurrentChange}})],1),e._v(" "),a("el-dialog",{attrs:{width:"40%",title:e.cakeTitle,visible:e.cakePicVisable,"before-close":e.handleBeforeClose},on:{"update:visible":function(t){e.cakePicVisable=t}}},[a("div",{staticClass:"mainCakeDiv"},[a("div",{staticClass:"leftCakeDiv",attrs:{id:"leftCake"}},[a("ve-pie",{attrs:{data:e.chartData,colors:e.useColor}})],1),e._v(" "),a("div",{staticClass:"rightCakeDiv"},[a("table",[a("tr",[a("td",[a("div",{staticClass:"colorSuccess"})]),e._v(" "),a("td",{staticClass:"statusDes"},[e._v("成功用例数")])]),e._v(" "),a("tr",[a("td",[a("div",{staticClass:"colorFail"})]),e._v(" "),a("td",{staticClass:"statusDes"},[e._v("失败用例数")])]),e._v(" "),a("tr",[a("td",[a("div",{staticClass:"colorJump"})]),e._v(" "),a("td",{staticClass:"statusDes"},[e._v("跳过用例数")])])])])]),e._v(" "),a("hr",{staticClass:"hrDiv"}),e._v(" "),a("el-row",{staticClass:"cancelRowStyle"},[a("el-col",{attrs:{span:22,offset:0}}),e._v(" "),a("el-col",{attrs:{span:1,offset:0}},[a("el-button",{attrs:{type:"danger",size:"small"},on:{click:e.cancelPicDialog}},[e._v("取消")])],1)],1)],1)],1)],1)],1)}),[],!1,Xa,"data-v-2decd4cc",null).exports,Za={name:"testrecord",mixins:[L.a],data:function(){return{queryMethods:["按批量执行"],selectedQueryMethod:"按批量执行",testRounds:[],selectedTestRound:"",testPlans:[],selectedTestPlan:sessionStorage.getItem("testPlanId"),recordStatus:[{label:"全部",value:""},{label:"激活",value:"2"},{label:"未激活",value:"1"},{label:"已删除",value:"3"}],selectedStatus:"",inTestRound:"",executionStatus:[{label:"初始未执行",value:"10"},{label:"已分配等待执行",value:"12"},{label:"正在执行",value:"13"},{label:"成功",value:"2"},{label:"失败",value:"3"},{label:"跳过执行",value:"9"},{label:"部分成功",value:"4"}],selectedExecutionStatus:"",tableData:[],casecode:"",pageSize:20,currentPage:1,totalCount:0,dialogVisible:!1,formByBatch:{},batchId:void 0}},mounted:function(){var e=this;return Ue.a.async((function(t){for(;;)switch(t.prev=t.next){case 0:if(this.$route.query.batchId&&this.$route.query.testPlan){t.next=4;break}return this.$message({type:"warning",message:"请选择执行单！"}),setTimeout((function(t){e.$router.push({name:"QueryRuleExecution"})}),0),t.abrupt("return");case 4:return this.batchId=this.$route.query.batchId,this.selectedTestPlan=this.$route.query.testPlan,this.selectAllTestround(),this.selectAllScene(),this.pagedBatchQueryScene(),t.next=11,Ue.a.awrap(this.selectAllTestPlan());case 11:this.getRecord(this.currentPage,this.pageSize,"casecode","asc");case 12:case"end":return t.stop()}}),null,this)},methods:{queryByTestRound:function(){var e=this;d({url:"/testRecordController/pagedBatchQueryTestRecordByTestRound",method:"POST",params:{casecode:this.casecode,currentPage:this.currentPage,executeStatus:this.selectedExecutionStatus,orderColumns:"casecode",orderType:"asc",pageSize:this.pageSize,recorderStatus:this.selectedStatus,sceneId:"",testRound:this.selectedTestRound}}).then((function(t){console.log("查询成功",t),0==t.totalCount?(e.tableData=[],e.totalCount=t.totalCount,e.$message.success(t.respMsg)):(e.tableData=t.list,e.totalCount=t.totalCount)})).catch((function(t){console.log("查询失败",t),e.$message.warning("无此类数据"),e.tableData=[],e.totalCount=0}))},getRecord:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1,a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:10,s=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"id",l=arguments.length>3&&void 0!==arguments[3]?arguments[3]:"asc";console.log("111111111111111"),d({url:"/testRecordController/pagedBatchQueryTestRecordByRunId",method:"POST",params:{runId:this.batchId,testPlanId:this.selectedTestPlan,pageSize:a,currentPage:t,orderType:l,orderColumns:s}}).then((function(t){"0000"===t.respCode?(e.tableData=t.list,e.totalCount=t.totalCount,e.pageSize=a):e.$message({type:"error",message:t.respMsg})})).catch((function(t){console.log(t),e.$message({type:"error",message:t})}))},queryByBatch:function(){var e=this;this.formByBatch={casecode:0,currentPage:this.currentPage,executeRound:this.inTestRound,executeStatus:this.selectedExecutionStatus,orderColumns:"casecode",orderType:"asc",pageSize:this.pageSize,sceneId:0,testPlanId:this.selectedTestPlan},console.log("参数",this.formByBatch),d({url:"/testRecordController/pagedBatchQueryTestRecordByTestPlan",method:"POST",params:this.formByBatch}).then((function(e){console.log("数据获取成功",e)})).catch((function(t){e.$message.error("数据获取失败")}))},throwAway:function(){this.$message.warning("丢弃")},viewReport:function(e){this.$message.success("查看报告")},showDetail:function(e){this.$message.success("操作详情")},handleSizeChange:function(e){console.log("当前".concat(e,"条")),this.pageSize=e,this.queryByTestRound()},handleCurrentChange:function(e){this.currentPage=e,this.queryByTestRound()},selectAllTestround:function(){var e=this;d({url:"/testroundController/selectAllTestround",method:"GET"}).then((function(t){e.testRounds=t.testroundEntityList,e.selectedTestRound=t.testroundEntityList[0].name})).catch((function(e){}))},selectAllScene:function(){d({url:"/sceneController/selectAllScene",method:"GET"}).then((function(e){})).catch((function(e){}))},selectAllTestPlan:function(){var e=this;return d({url:"/testPlanController/selectAllTestPlan",method:"POST",params:{}}).then((function(t){console.log("测试计划列表获取成功",t),e.testPlans=t.testPlanEntityList,e.selectedTestPlan||(e.selectedTestPlan=t.testPlanEntityList[0].id)})).catch((function(e){}))},pagedBatchQueryScene:function(){d({url:"/sceneController/pagedBatchQueryScene",method:"POST",params:{caseLibId:82,currentPage:this.currentPage,orderColumns:"modified_time",orderType:"DESC",pageSize:this.pageSize}}).then((function(e){})).catch((function(e){}))}}};var es=function(e){a("40O6")},ts=Object(m.a)(Za,(function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"page-inner"},[a("el-container",[a("el-main",[a("el-form",{staticClass:"formTop",attrs:{"label-width":"94px"}},[a("el-row",{attrs:{gutter:20}},[a("el-col",{attrs:{span:5,offset:0}},[a("el-form-item",{attrs:{label:"查询方式"}},[a("el-select",{model:{value:e.selectedQueryMethod,callback:function(t){e.selectedQueryMethod=t},expression:"selectedQueryMethod"}},e._l(e.queryMethods,(function(e,t){return a("el-option",{key:t,attrs:{value:e}})})),1)],1)],1),e._v(" "),a("el-col",{attrs:{span:5}},[a("el-form-item",{attrs:{label:"按测试轮次"===e.selectedQueryMethod?"测试轮次":"测试计划"}},["按测试轮次"===e.selectedQueryMethod?a("el-select",{model:{value:e.selectedTestRound,callback:function(t){e.selectedTestRound=t},expression:"selectedTestRound"}},e._l(e.testRounds,(function(e,t){return a("el-option",{key:t,attrs:{value:e.name}})})),1):a("el-select",{model:{value:e.selectedTestPlan,callback:function(t){e.selectedTestPlan=t},expression:"selectedTestPlan"}},e._l(e.testPlans,(function(e,t){return a("el-option",{key:t,attrs:{label:e.nameMedium,value:e.id}})})),1)],1)],1),e._v(" "),a("el-col",{attrs:{span:5}},[a("el-form-item",{attrs:{"label-width":"90px",label:"按测试轮次"===e.selectedQueryMethod?"记录单状态":"执行轮次"}},["按测试轮次"===e.selectedQueryMethod?a("el-select",{attrs:{clearable:""},on:{clear:e.queryByTestRound},model:{value:e.selectedStatus,callback:function(t){e.selectedStatus=t},expression:"selectedStatus"}},e._l(e.recordStatus,(function(e,t){return a("el-option",{key:t,attrs:{value:e.value,label:e.label}})})),1):a("el-input",{attrs:{placeholder:"请输入测试轮次"},model:{value:e.inTestRound,callback:function(t){e.inTestRound=t},expression:"inTestRound"}})],1)],1),e._v(" "),a("el-col",{staticClass:"buttons",attrs:{span:9,offset:0}},["按测试轮次"===e.selectedQueryMethod?a("el-button",{attrs:{type:"primary",size:"small",icon:"el-icon-search"},on:{click:e.queryByTestRound}},[e._v("查询\n            ")]):a("el-button",{attrs:{type:"primary",size:"small",icon:"el-icon-search"},on:{click:e.queryByBatch}},[e._v("查询\n            ")]),e._v(" "),a("el-button",{attrs:{type:"danger",size:"small",icon:"el-icon-delete"},on:{click:e.throwAway}},[e._v("丢弃\n            ")])],1)],1),e._v(" "),a("el-row",{attrs:{gutter:20}},[a("el-col",{attrs:{span:5}},[a("el-form-item",{attrs:{label:"执行状态(选)"}},[a("el-select",{attrs:{clearable:""},on:{clear:e.queryByTestRound},model:{value:e.selectedExecutionStatus,callback:function(t){e.selectedExecutionStatus=t},expression:"selectedExecutionStatus"}},e._l(e.executionStatus,(function(e,t){return a("el-option",{key:t,attrs:{value:e.value,label:e.label}})})),1)],1)],1),e._v(" "),a("el-col",{attrs:{span:5}},[a("el-form-item",{attrs:{label:"用例编号(选)"}},[a("el-input",{attrs:{placeholder:"填写用例编号"},model:{value:e.casecode,callback:function(t){e.casecode=t},expression:"casecode"}})],1)],1)],1)],1),e._v(" "),a("el-table",{attrs:{width:"100%",border:"",scrope:"","highlight-current-row":!0,data:e.tableData}},[a("el-table-column",{attrs:{"min-width":"4.95%",align:"center",type:"selection"}}),e._v(" "),a("el-table-column",{attrs:{"min-width":"12.95%",align:"center",prop:"sceneName",label:"场景名称"}}),e._v(" "),a("el-table-column",{attrs:{"min-width":"6.46%",align:"center",prop:"executeRound",label:"执行轮次"}}),e._v(" "),a("el-table-column",{attrs:{"min-width":"12.5%",align:"center",prop:"casecode",label:"用例编号",sortable:""}}),e._v(" "),a("el-table-column",{attrs:{"min-width":"8.46%",align:"center",prop:"flownodeName",label:"节点名称"}}),e._v(" "),a("el-table-column",{attrs:{"min-width":"10.06%",align:"center",prop:"recorderStatus",label:"记录单状态"}}),e._v(" "),a("el-table-column",{attrs:{"min-width":"7.51%",align:"center",label:"执行结果状态"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("el-tag",{attrs:{type:"成功"==t.row.executeStatus?"success":"部分成功"==t.row.executeStatus?"primary":"跳过执行"==t.row.executeStatus?"warning":"失败"==t.row.executeStatus?"danger":"info"},domProps:{textContent:e._s(t.row.executeStatus)}})]}}])}),e._v(" "),a("el-table-column",{attrs:{"min-width":"20.4%",align:"center",prop:"sourceChannel",label:"来源渠道"}}),e._v(" "),a("el-table-column",{attrs:{"min-width":"9.61%",align:"center",label:"执行报告"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("el-button",{attrs:{type:"primary",size:"mini"},on:{click:function(a){return e.viewReport(t.row)}}},[e._v("点击查看\n            ")])]}}])}),e._v(" "),a("el-table-column",{attrs:{"min-width":"7.1%",align:"center",label:"操作"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("el-button",{attrs:{type:"primary",size:"mini"},on:{click:function(a){return e.showDetail(t.row)}}},[e._v("详情\n            ")])]}}])})],1),e._v(" "),a("el-pagination",{staticClass:"pagination",attrs:{"page-size":e.pageSize,"page-sizes":[5,10,20,50],"current-page":e.currentPage,total:e.totalCount,layout:"total,sizes,prev,pager,next,jumper"},on:{"size-change":e.handleSizeChange,"current-change":e.handleCurrentChange}}),e._v(" "),a("el-dialog",{attrs:{title:"提示",width:"30%",visible:e.dialogVisible},on:{"update:visible":function(t){e.dialogVisible=t}}},[a("h2",{staticClass:"dialogText"},[e._v("空记录！请尝试查询！")]),e._v(" "),a("el-divider"),e._v(" "),a("div",{staticClass:"buttonBottom"},[a("el-button",{attrs:{type:"primary"},on:{click:function(t){e.dialogVisible=!1}}},[e._v("确定\n          ")])],1)],1)],1)],1)],1)}),[],!1,es,"data-v-aa825cf6",null).exports,as={mixin:[L.a],name:"RecordDetailElementLib",data:function(){return{addUIVisible:!1,addElementVisible:!1,addBatchVisible:!1,filterText:"",dialogUiName:"",uiId:"",expandUiId:"",elementId:"",elementName:"",classType:"",relateIdentifyObjectId:"",relateParentIdentifyObjectId:"",mainPropertyName:"",mainPropertyValue:"",rightTitle:"名称",maskFlag:!0,isUI:!0,uiFrom:{uiName:"",relateIdentifyObjectId:""},elementForm:{elementName:"",classType:"",relateIdentifyObjectId:"",relateParentIdentifyObjectId:""},UIObjectVisible:!1,recordRuleVisible:!1,element:{},tableType:"",tableRow:-1,selectRows:[],getUIs:[],getTransactId:"",getRepositoryId:"",getAutId:"",fileName:"",ruleName:"",ruleDesc:""}},props:{transactId:{type:Number,default:0},omClassRespDTOList:{type:Array,default:[]},repositoryId:{type:Number,default:0},autId:{type:Number,default:0}},watch:{filterText:function(e){this.$refs.tree.filter(e)}},computed:{defaultProps:function(e){return{children:"elements",label:function(e){return e.uiName?e.uiName:e.elementName}}},uploadUrl:function(){return"http://10.101.167.184:8080/atfcloud2.0a/elementRepository/batchImportElementAndUi"}},created:function(){this.getTransactId=this.transactId,this.getRepositoryId=this.repositoryId,this.getAutId=this.autId,this.queryAllElementsForATransact(this.getTransactId)},methods:{change:function(e,t,a){this.queryAllElementsForATransact(e),this.getTransactId=e,this.getAutId=t,this.getRepositoryId=a,console.log("changed",e,t,a)},queryAllElementsForATransact:function(e){console.log("queryAllElementsForATransact",e);var t=this;d({url:"/elementRepository/queryAllElementsForATransact",method:"POST",params:{transactId:e}}).then((function(e){"0000"===e.respCode?t.getUIs=e.uis:(t.$message.error(e.respMsg),t.getUIs=[])})).catch((function(e){t.$message.error(e.split("；")[e.split("；").length-1]),t.getUIs=[]}))},filterNode:function(e,t){return console.log("handleNodeClick",e,t),!e||(t.uiName?-1!==t.uiName.indexOf(e):-1!==t.elementName.indexOf(e))},addUI:function(){this.addUIVisible=!0},delUI:function(){var e=this,t=this;""===t.uiId?t.$message.warning("请选择一条UI"):d({url:"/elementRepository/deleteSingleUI",method:"POST",params:{repositoryId:t.getRepositoryId,uiId:t.uiId}}).then((function(a){"0000"===a.respCode?(t.$message.success("删除成功"),t.queryAllElementsForATransact(e.getTransactId),t.maskFlag=!0):t.$message.error(a.respMsg)})).catch((function(e){t.$message.error(e.respMsg)}))},addElement:function(){""===this.uiId?this.$message.warning("请选择UI"):this.addElementVisible=!0},addSingleElement:function(){var e=this,t={repositoryId:this.getRepositoryId,uiId:this.uiId,element:{relateIdentifyObjectId:this.relateIdentifyObjectId,relateParentIdentifyObjectId:this.relateParentIdentifyObjectId,elementName:this.elementName,classType:this.classType,mainProperties:[{isRelative:null,method:"",name:this.mainPropertyName,toolName:"",value:this.mainPropertyValue}]}};d({url:"/elementRepository/addSingleElement",method:"POST",params:t}).then((function(t){"0000"===t.respCode?(e.$message.success("添加成功"),e.addElementVisible=!1,e.elementId=t.elementId,e.queryAllElementsForATransact(e.getTransactId)):e.$message.error(t.respMsg)})).catch((function(e){his.$message.error(e.split("；")[e.split("；").length-1])}))},delElement:function(){var e=this,t={elementId:this.elementId,repositoryId:this.getRepositoryId,uiId:this.uiId};d({url:"/elementRepository/deleteSingleElement",method:"POST",params:t}).then((function(t){"0000"===t.respCode?(e.$message.success("删除成功"),e.queryAllElementsForATransact(e.getTransactId),e.maskFlag=!0):e.$message.error(t.respMsg)})).catch((function(t){e.$message.error(t.respMsg)}))},addBatch:function(){this.addBatchVisible=!0},batchAddUI:function(){var e=this,t=this.dialogUiName.split(","),a=[];t.forEach((function(e){a.push({uiName:e})})),d({url:"/elementRepository/batchAddUI",method:"POST",params:{repositoryId:this.getRepositoryId,uis:a}}).then((function(t){"0000"===t.respCode?(e.$message.success("添加UI成功"+e.getTransactId),e.queryAllElementsForATransact(e.getTransactId),e.addUIVisible=!1):e.$message.error(t.respMsg)})).catch((function(e){his.$message.error(e.split("；")[e.split("；").length-1])}))},dowmloadTemplate:function(){window.location="http://10.101.167.184:8080/atfcloud2.0a/elementRepository/getExcelTemporary/1609"},querySingleUI:function(e,t){d({url:"/elementRepository/querySingleUI",method:"POST",params:{repositoryId:e,uiId:t}}).then((function(e){console.log("handleNodeClick",e)})).catch((function(e){console.log("获取失败")}))},querySingleElement:function(){var e=this;d({url:"/elementRepository/querySingleElement",method:"POST",params:{elementId:this.elementId,repositoryId:this.getRepositoryId,uiId:this.uiId}}).then((function(t){e.element=t.element,e.element.relateProperties=e.element.relateProperties?e.element.relateProperties:[]})).catch((function(t){e.$message.error("查询失败")}))},cancelDialog:function(){this.addUIVisible=!1,this.addElementVisible=!1,this.addBatchVisible=!1,this.UIObjectVisible=!1,this.recordRuleVisible=!1},handleNodeClick:function(e){console.log("handleNodeClick",e,e.uiId,this.getRepositoryId),this.maskFlag=!1,e.uiId?(this.querySingleUI(this.getRepositoryId,e.uiId),this.uiId=e.uiId,this.rightTitle=e.uiName,this.uiFrom.uiName=e.uiName,this.expandUiId=e.uiId,console.log("handleNodeClick 点击UI"),this.isUI=!0):(this.uiId=this.expandUiId,this.elementId=e.elementId,this.rightTitle=e.elementName,this.element.elementName=e.elementName,this.element.classType=e.classType,this.isUI=!1,this.querySingleElement(),console.log("handleNodeClick 点击元素"))},handleNodeExpand:function(e){console.log("handleNodeClick",e,e.uiId),this.expandUiId=e.uiId},uiLinkLib:function(){this.UIObjectVisible=!0},uilLinkSure:function(){this.UIObjectVisible=!1},modifySingleUI:function(){var e=this;console.log("params",{}),d({url:"/elementRepository/modifySingleUI",method:"POST",params:{relateIdentifyObjectId:this.uiFrom.relateIdentifyObjectId,repositoryId:this.getRepositoryId,uiId:this.uiId,uiName:this.uiFrom.uiName}}).then((function(t){"0000"===t.respCode?(e.$message.success("保存成功"),e.queryAllElementsForATransact(e.getTransactId),e.maskFlag=!0):e.$message.error("保存失败")})).catch((function(t){e.$message.error("保存失败")}))},recordrule:function(){console.log("规则录入"),""===this.uiId?this.$message.warning("请选择一条UI"):this.recordRuleVisible=!0},handleSelectionChange:function(e,t){var a=this,s=[this.element.mainProperties,this.element.additionalProperties,this.element.assistantProperties,this.element.relateProperties];this.tableType=t,e.forEach((function(e){s[t-1].forEach((function(t,s){t.name===e.name&&a.selectRows.push(s)}))})),console.log("")},deleteAttrTable:function(e){this.element.mainProperties,this.element.additionalProperties,this.element.assistantProperties,this.element.relateProperties},addAttrTable:function(e){console.log("addAttrTable",e);[this.element.mainProperties,this.element.additionalProperties,this.element.assistantProperties,this.element.relateProperties][e-1].push({isRelative:null,method:"",name:"",toolName:"",value:""})},modifySingleElement:function(){var e=this;d({url:"/elementRepository/modifySingleElement",method:"POST",params:{element:this.element,repositoryId:this.getRepositoryId,uiId:this.uiId}}).then((function(t){"0000"===t.respCode&&(e.$message.success("保存成功"),e.queryAllElementsForATransact(e.getTransactId),e.maskFlag=!0)})).catch((function(t){e.$message.error("保存失败")}))},handlePreview:function(e){console.log("handlePreview",e)},handleRemove:function(e,t){console.log(e,t),this.fileName=""},handleExceed:function(e,t){this.$message.warning("只能同时上传一个文件")},handleChange:function(e){this.fileName=e.name},submitForm:function(){var e=this,t=new FormData(document.getElementById("elForm"));t.append("repositoryId",this.getRepositoryId),t.append("uploadUserId",3),t.append("autId",this.getAutId),d({url:"/elementRepository/batchImportElementAndUi",method:"POST",params:t}).then((function(t){e.$message.success(t.respMsg),e.fileName="",e.queryAllElementsForATransact(e.getTransactId),e.addBatchVisible=!1})).catch((function(t){e.$message.error("批量导入失败")}))},ruleSure:function(){this.$router.push({path:"/recordFunction/RecordManagementRouter/ruleInput"})}}};var ss=function(e){a("+8oR")},ls=Object(m.a)(as,(function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[a("el-card",{staticClass:"leftCard"},[a("p",{staticClass:"title"},[e._v("元素列表")]),e._v(" "),a("div",{staticClass:"body"},[a("el-row",[a("el-input",{staticClass:"searchInput",attrs:{placeholder:"请输入关键字",clearable:""},model:{value:e.filterText,callback:function(t){e.filterText=t},expression:"filterText"}},[a("el-button",{attrs:{slot:"append",icon:"el-icon-search"},slot:"append"})],1)],1),e._v(" "),a("el-row",{staticClass:"buttonRow"},[a("el-button",{attrs:{type:"primary",size:"small"},on:{click:e.addUI}},[e._v("添加UI")]),e._v(" "),a("el-button",{attrs:{type:"warning",size:"small"},on:{click:e.delUI}},[e._v("删除UI")]),e._v(" "),a("el-button",{attrs:{type:"primary",size:"small"},on:{click:e.addElement}},[e._v("添加元素")]),e._v(" "),a("el-button",{attrs:{type:"warning",size:"small"},on:{click:e.delElement}},[e._v("删除元素")]),e._v(" "),a("el-button",{attrs:{type:"primary",size:"small"},on:{click:e.addBatch}},[e._v("批量添加")])],1),e._v(" "),a("el-tree",{ref:"tree",attrs:{accordion:"",data:e.getUIs,props:e.defaultProps,"filter-node-method":e.filterNode},on:{"node-click":e.handleNodeClick,"node-expand":e.handleNodeExpand}})],1)]),e._v(" "),a("el-card",{staticClass:"rightCard"},[a("p",{staticClass:"title"},[e._v(e._s(e.rightTitle))]),e._v(" "),a("div",{staticClass:"body"},[a("p",{directives:[{name:"show",rawName:"v-show",value:e.maskFlag,expression:"maskFlag"}],staticClass:"mask"},[e._v("请选择UI或元素")]),e._v(" "),a("div",{directives:[{name:"show",rawName:"v-show",value:!e.maskFlag,expression:"!maskFlag"}]},[a("div",{directives:[{name:"show",rawName:"v-show",value:e.isUI,expression:"isUI"}]},[a("el-form",{staticClass:"uiForm",attrs:{"label-width":"150px"}},[a("el-form-item",{attrs:{label:"UI名称"}},[a("el-input",{staticClass:"uiNameInput",model:{value:e.uiFrom.uiName,callback:function(t){e.$set(e.uiFrom,"uiName",t)},expression:"uiFrom.uiName"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"关联对象库中对象"}},[a("el-input",{attrs:{disabled:""},model:{value:e.uiFrom.relateIdentifyObjectId,callback:function(t){e.$set(e.uiFrom,"relateIdentifyObjectId",t)},expression:"uiFrom.relateIdentifyObjectId"}}),e._v(" "),a("el-button",{attrs:{type:"primary",size:"small"},on:{click:e.uiLinkLib}},[e._v("关联对象")]),e._v(" "),a("el-button",{attrs:{type:"warning",size:"small"}},[e._v("解除关联")]),e._v(" "),a("el-button",{attrs:{type:"success",size:"small"},on:{click:e.modifySingleUI}},[e._v("保存")])],1)],1)],1),e._v(" "),a("div",{directives:[{name:"show",rawName:"v-show",value:!e.isUI,expression:"!isUI"}]},[a("el-form",{staticClass:"eleForm",attrs:{"label-width":"140px",inline:!0}},[a("el-form-item",{attrs:{label:"元素名称"}},[a("el-input",{attrs:{placeholder:"元素名称"},model:{value:e.element.elementName,callback:function(t){e.$set(e.element,"elementName",t)},expression:"element.elementName"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"类型"}},[a("el-select",{attrs:{placeholder:"类型"},model:{value:e.element.classType,callback:function(t){e.$set(e.element,"classType",t)},expression:"element.classType"}},e._l(e.omClassRespDTOList,(function(e){return a("el-option",{key:e.id,attrs:{label:e.name,value:e.name}})})),1)],1),e._v(" "),a("el-row",[a("el-form-item",{staticClass:"linkRow",attrs:{label:"对象库中父对象"}},[a("el-input",{attrs:{placeholder:"对象库中的父对象",disabled:""},model:{value:e.elementForm.relateIdentifyObjectId,callback:function(t){e.$set(e.elementForm,"relateIdentifyObjectId",t)},expression:"elementForm.relateIdentifyObjectId"}}),e._v(" "),a("el-button",{attrs:{type:"primary",size:"small"},on:{click:e.uiLinkLib}},[e._v("设置父对象")]),e._v(" "),a("el-button",{attrs:{type:"warning",size:"small"}},[e._v("解除关联")])],1)],1),e._v(" "),a("el-row",[a("el-form-item",{staticClass:"linkRow",attrs:{label:"对象库中关联对象"}},[a("el-input",{attrs:{placeholder:"对象库中关联对象",disabled:""},model:{value:e.elementForm.relateParentIdentifyObjectId,callback:function(t){e.$set(e.elementForm,"relateParentIdentifyObjectId",t)},expression:"elementForm.relateParentIdentifyObjectId"}}),e._v(" "),a("el-button",{attrs:{type:"primary",size:"small"},on:{click:e.uiLinkLib}},[e._v("设置关联对象")]),e._v(" "),a("el-button",{attrs:{type:"warning",size:"small"}},[e._v("解除关联")])],1)],1)],1),e._v(" "),a("div",{staticClass:"attrList"},[a("h4",{staticClass:"title"},[e._v("属性")]),e._v(" "),a("hr"),e._v(" "),a("div",{staticClass:"attrTable"},[a("el-row",[a("span",[e._v("主属性")]),e._v(" "),a("div",[a("el-button",{attrs:{type:"danger",size:"mini",icon:"el-icon-delete",title:"删除",plain:""},on:{click:function(t){return e.deleteAttrTable(1)}}}),e._v(" "),a("el-button",{attrs:{type:"success",size:"mini",icon:"el-icon-plus",title:"添加",plain:""},on:{click:function(t){return e.addAttrTable(1)}}})],1)]),e._v(" "),a("el-table",{attrs:{stripe:"",border:"","highlight-current-row":"",data:e.element.mainProperties},on:{"selection-change":function(t){return e.handleSelectionChange(t,1)}}},[a("el-table-column",{attrs:{type:"selection",width:"55px"}}),e._v(" "),a("el-table-column",{attrs:{"min-width":"40%",label:"属性名"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("el-input",{model:{value:t.row.name,callback:function(a){e.$set(t.row,"name",a)},expression:"scope.row.name"}})]}}])}),e._v(" "),a("el-table-column",{attrs:{"min-width":"40%",label:"属性值"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("el-input",{model:{value:t.row.value,callback:function(a){e.$set(t.row,"value",a)},expression:"scope.row.value"}})]}}])})],1)],1),e._v(" "),a("div",{staticClass:"attrTable"},[a("el-row",[a("span",[e._v("附加属性")]),e._v(" "),a("div",[a("el-button",{attrs:{type:"danger",size:"mini",icon:"el-icon-delete",title:"删除",plain:""},on:{click:function(t){return e.deleteAttrTable(2)}}}),e._v(" "),a("el-button",{attrs:{type:"success",size:"mini",icon:"el-icon-plus",title:"添加",plain:""},on:{click:function(t){return e.addAttrTable(2)}}})],1)]),e._v(" "),a("el-table",{attrs:{stripe:"",border:"","highlight-current-row":"",data:e.element.additionalProperties},on:{"selection-change":function(t){return e.handleSelectionChange(t,2)}}},[a("el-table-column",{attrs:{type:"selection",width:"55px"}}),e._v(" "),a("el-table-column",{attrs:{"min-width":"40%",label:"属性名"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("el-input",{model:{value:t.row.name,callback:function(a){e.$set(t.row,"name",a)},expression:"scope.row.name"}})]}}])}),e._v(" "),a("el-table-column",{attrs:{"min-width":"40%",label:"属性值"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("el-input",{model:{value:t.row.value,callback:function(a){e.$set(t.row,"value",a)},expression:"scope.row.value"}})]}}])})],1)],1),e._v(" "),a("div",{staticClass:"attrTable"},[a("el-row",[a("span",[e._v("辅助属性")]),e._v(" "),a("div",[a("el-button",{attrs:{type:"danger",size:"mini",icon:"el-icon-delete",title:"删除",plain:""},on:{click:function(t){return e.deleteAttrTable(3)}}}),e._v(" "),a("el-button",{attrs:{type:"success",size:"mini",icon:"el-icon-plus",title:"添加",plain:""},on:{click:function(t){return e.addAttrTable(3)}}})],1)]),e._v(" "),a("el-table",{attrs:{stripe:"",border:"","highlight-current-row":"",data:e.element.assistantProperties},on:{"selection-change":function(t){return e.handleSelectionChange(t,3)}}},[a("el-table-column",{attrs:{type:"selection",width:"55px"}}),e._v(" "),a("el-table-column",{attrs:{"min-width":"40%",label:"属性名"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("el-input",{model:{value:t.row.name,callback:function(a){e.$set(t.row,"name",a)},expression:"scope.row.name"}})]}}])}),e._v(" "),a("el-table-column",{attrs:{"min-width":"40%",label:"属性值"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("el-input",{model:{value:t.row.value,callback:function(a){e.$set(t.row,"value",a)},expression:"scope.row.value"}})]}}])})],1)],1),e._v(" "),a("div",{staticClass:"attrTable"},[a("el-row",[a("span",[e._v("关联属性")]),e._v(" "),a("div",[a("el-button",{attrs:{type:"danger",size:"mini",icon:"el-icon-delete",title:"删除",plain:""},on:{click:function(t){return e.deleteAttrTable(4)}}}),e._v(" "),a("el-button",{attrs:{type:"success",size:"mini",icon:"el-icon-plus",title:"添加",plain:""},on:{click:function(t){return e.addAttrTable(4)}}})],1)]),e._v(" "),a("el-table",{attrs:{stripe:"",border:"","highlight-current-row":"",data:e.element.relateProperties},on:{"selection-change":function(t){return e.handleSelectionChange(t,4)}}},[a("el-table-column",{attrs:{type:"selection",width:"55px"}}),e._v(" "),a("el-table-column",{attrs:{"min-width":"40%",label:"属性名"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("el-input",{model:{value:t.row.name,callback:function(a){e.$set(t.row,"name",a)},expression:"scope.row.name"}})]}}])}),e._v(" "),a("el-table-column",{attrs:{"min-width":"40%",label:"属性值"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("el-input",{model:{value:t.row.value,callback:function(a){e.$set(t.row,"value",a)},expression:"scope.row.value"}})]}}])})],1)],1),e._v(" "),a("el-row",{staticClass:"bottomButton"},[a("el-button",{attrs:{type:"primary",size:"small"},on:{click:e.modifySingleElement}},[e._v("保存")])],1)],1)],1)])])]),e._v(" "),a("el-dialog",{staticClass:"uiDialog",attrs:{title:"添加UI",width:"25%",visible:e.addUIVisible},on:{"update:visible":function(t){e.addUIVisible=t}}},[a("el-form",{attrs:{"label-width":"100px"}},[a("el-form-item",{attrs:{label:"UI名称"}},[a("el-input",{attrs:{placeholder:"请输入UI名称"},model:{value:e.dialogUiName,callback:function(t){e.dialogUiName=t},expression:"dialogUiName"}}),e._v(" "),a("p",[e._v("若要添加多个，请以英文逗号“,”隔开。")])],1)],1),e._v(" "),a("el-row",{staticClass:"bottomRowButton"},[a("el-button",{attrs:{type:"warning",size:"small",plain:""},on:{click:e.cancelDialog}},[e._v("取消")]),e._v(" "),a("el-button",{attrs:{type:"primary",size:"small"},on:{click:e.batchAddUI}},[e._v("添加")])],1)],1),e._v(" "),a("el-dialog",{staticClass:"elementDialog",attrs:{title:"添加元素",width:"25%",visible:e.addElementVisible},on:{"update:visible":function(t){e.addElementVisible=t}}},[a("el-form",{attrs:{"label-width":"100px"}},[a("el-form-item",{attrs:{label:"元素名称"}},[a("el-input",{attrs:{placeholder:"请输入元素名称"},model:{value:e.elementName,callback:function(t){e.elementName=t},expression:"elementName"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"控件类型"}},[a("el-select",{attrs:{placeholder:"请选择控件类型"},model:{value:e.classType,callback:function(t){e.classType=t},expression:"classType"}},e._l(e.omClassRespDTOList,(function(e){return a("el-option",{key:e.id,attrs:{value:e.name,label:e.name}})})),1)],1),e._v(" "),a("el-form-item",{attrs:{label:"主属性名"}},[a("el-input",{attrs:{placeholder:"请输入主属性名"},model:{value:e.mainPropertyName,callback:function(t){e.mainPropertyName=t},expression:"mainPropertyName"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"主属性值"}},[a("el-input",{attrs:{placeholder:"请输入主属性值"},model:{value:e.mainPropertyValue,callback:function(t){e.mainPropertyValue=t},expression:"mainPropertyValue"}})],1)],1),e._v(" "),a("el-row",{staticClass:"bottomRowButton"},[a("el-button",{attrs:{type:"warning",size:"small",plain:""},on:{click:e.cancelDialog}},[e._v("取消")]),e._v(" "),a("el-button",{attrs:{type:"primary",size:"small"},on:{click:e.addSingleElement}},[e._v("添加")])],1)],1),e._v(" "),a("el-dialog",{staticClass:"batchDialog",attrs:{title:"批量添加",width:"25%",visible:e.addBatchVisible},on:{"update:visible":function(t){e.addBatchVisible=t}}},[a("el-form",{attrs:{action:e.uploadUrl,method:"post",enctype:"multipart/www-form-data",id:"elForm"}},[a("el-row",[a("el-upload",{staticClass:"uploadForm",attrs:{action:e.uploadUrl,"auto-upload":!1,limit:1,"on-preview":e.handlePreview,"on-remove":e.handleRemove,"on-exceed":e.handleExceed,"on-change":e.handleChange}},[a("el-button",{attrs:{slot:"trigger",type:"primary",size:"small"},slot:"trigger"},[e._v("选取文件")]),e._v(" "),a("el-input",{attrs:{placeholder:"请选择文件",disabled:""},model:{value:e.fileName,callback:function(t){e.fileName=t},expression:"fileName"}})],1)],1),e._v(" "),a("div",{staticClass:"el-upload__tip",attrs:{slot:"tip"},slot:"tip"},[e._v("上传修改的模板文件，只允许同时上传一个")]),e._v(" "),a("el-row",{staticClass:"row"},[a("el-button",{attrs:{type:"success",size:"small",icon:"el-icon-download"},on:{click:e.dowmloadTemplate}},[e._v("模板下载")]),e._v(" "),a("div",{staticClass:"bottomRowButton"},[a("el-button",{attrs:{type:"warning",size:"small",plain:""},on:{click:e.cancelDialog}},[e._v("取消")]),e._v(" "),a("el-button",{attrs:{type:"primary",size:"small"},on:{click:e.submitForm}},[e._v("添加")])],1)],1)],1)],1),e._v(" "),a("el-dialog",{staticClass:"objectLibDialog",attrs:{title:"对象库",width:"30%",visible:e.UIObjectVisible},on:{"update:visible":function(t){e.UIObjectVisible=t}}},[a("div",{staticClass:"body"}),e._v(" "),a("el-row",[a("el-button",{attrs:{type:"warning",size:"small",plain:""},on:{click:e.cancelDialog}},[e._v("取消")]),e._v(" "),a("el-button",{attrs:{type:"primary",size:"small"},on:{click:e.uilLinkSure}},[e._v("确定")])],1)],1),e._v(" "),a("el-dialog",{staticClass:"ruleRecordDialog",attrs:{title:"录制规则录入",width:"25%",visible:e.recordRuleVisible},on:{"update:visible":function(t){e.recordRuleVisible=t}}},[a("el-form",{attrs:{"label-width":"100px"}},[a("el-form-item",{attrs:{label:"规则名称"}},[a("el-input",{staticClass:"inputRule",attrs:{placeholder:"请输入规则名称"},model:{value:e.ruleName,callback:function(t){e.ruleName=t},expression:"ruleName"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"规则描述"}},[a("el-input",{staticClass:"inputRule",attrs:{placeholder:"请输入规则描述"},model:{value:e.ruleDesc,callback:function(t){e.ruleDesc=t},expression:"ruleDesc"}})],1)],1),e._v(" "),a("hr"),e._v(" "),a("el-row",{staticClass:"ruleButton"},[a("el-button",{attrs:{type:"warning",size:"small",plain:""},on:{click:e.cancelDialog}},[e._v("取消")]),e._v(" "),a("el-button",{attrs:{type:"primary",size:"small"},on:{click:e.ruleSure}},[e._v("确定")])],1)],1)],1)}),[],!1,ss,"data-v-00d68fa4",null).exports,ns=re()({components:{ElSlPanel:g.a},mixins:[L.a],name:"recordDetail",data:function(){return{autId:"",id:"",titleForm:{selectedSystem:"",searchSystem:"",selectedFunc:"",funcSearch:""},autRespDTOList:[],funcList:[],detailForm:{code:"",nameMedium:"",descShort:""},uis:[],transactRespDTOs:[],elementRepositoryId:"",omClassRespDTOList:[],objects:[],scriptTemplateList:[],scriptId:""}},created:function(){this.id=this.$route.query.id,this.autId=this.$route.query.autId,this.elementRepositoryId=this.$route.query.elementRepositoryId,this.queryListAut(),this.queryTransactsByAutId(this.autId),this.queryAutVisibleOmClasses(this.autId),this.queryAllObjectForATransact(this.id),this.querySingleTransact(this.id),this.queryTemplateByTransId(this.id),this.titleForm.selectedSystem=Number(this.autId)},methods:{queryListAut:function(){var e=this;d({url:"/aut/queryListAut",method:"POST",params:{}}).then((function(t){"0000"===t.respCode&&(e.autRespDTOList=t.autRespDTOList,console.log("autRespDTOList".this.autRespDTOList))})).catch((function(e){console.log("网络连接失败")}))},queryAllElementsForATransact:function(e,t){var a=this;d({url:"/elementRepository/queryAllElementsForATransact",method:"POST",params:{transactId:e}}).then((function(s){a.$refs.elelib.change(e,t,s.elementRepositoryId)})).catch((function(e){}))},querySingleTransact:function(e){var t=this,a=this;d({url:"/transactController/querySingleTransact",method:"POST",params:{id:e}}).then((function(s){"0000"===s.respCode?(console.log(s),a.detailForm.code=s.code,a.detailForm.nameMedium=s.nameMedium,a.detailForm.descShort=s.descShort,a.titleForm.selectedFunc=s.id,t.queryAllElementsForATransact(e,s.autId)):console.log(s.respMsg)})).catch((function(e){t.$message.error("网络连接失败")}))},queryTransactsByAutId:function(e){var t=this,a=this;d({url:"/transactController/queryTransactsByAutId",method:"POST",params:{id:e}}).then((function(e){if("0000"===e.respCode){if(a.transactRespDTOs=e.transactRespDTOs,0===a.transactRespDTOs.length)console.log("transactRespDTOs",!0),a.titleForm.selectedFunc="暂无数据";else{a.titleForm.selectedFunc=a.transactRespDTOs[0].id;var s=a.transactRespDTOs[0];a.id=a.transactRespDTOs[0].id,a.querySingleTransact(a.id),a.$refs.elelib.change(a.id,s.autId,s.elementRepositoryId)}console.log("change",e.transactRespDTOs)}else t.$message.warning(e.respMsg)})).catch((function(e){console.log("网络连接失败")}))},queryAutVisibleOmClasses:function(e){var t=this,a=this;d({url:"/aut/queryAutVisibleOmClasses",method:"POST",params:{id:a.autId}}).then((function(e){"0000"===e.respCode?a.omClassRespDTOList=e.omClassRespDTOList:console.log(e.respMsg)})).catch((function(e){t.$message.error("网络连接失败")}))},queryAllObjectForATransact:function(e){var t=this;d({url:"/objectRepository/queryAllObjectForATransact",method:"POST",params:{transactId:e}}).then((function(e){"0000"===e.respCode?t.objects=e.objects:t.$message.warning(e.respMsg)})).catch((function(e){console.log("网络连接失败")}))},queryTemplateByTransId:function(e){var t=this;d({url:"/scriptTemplate/queryTemplateByTransId",method:"POST",params:{id:e}}).then((function(e){"0000"===e.respCode?(console.log("queryTemplateByTransId",e),t.scriptTemplateList=e.scriptTemplateList,t.scriptId=t.scriptTemplateList[0].id,t.queryScriptInfo(t.scriptId)):t.$message.error(e.respMsg)})).catch((function(e){t.$message.error(e.respMsg)}))},queryScriptInfo:function(e){d({url:"/scriptTemplate/queryScriptInfo",method:"POST",params:{autId:this.autId,scriptId:e}}).then((function(e){console.log(e)})).catch((function(e){console.log(e)}))},searchedSystem:function(e){var t=this;return e.filter((function(e){if(e.nameMedium.includes(t.titleForm.searchSystem))return e}))},handleSelectChange:function(e){console.log("handleSelectChange",e),this.queryTransactsByAutId(e)},handleFuncChange:function(e){console.log("handleFuncChange",e),this.querySingleTransact(e)},modifySingleTransact:function(){var e=this;console.log(this.id),d({url:"/transactController/modifySingleTransact",method:"POST",params:{code:this.detailForm.code,descShort:this.detailForm.descShort,id:this.id,nameMedium:this.detailForm.nameMedium}}).then((function(t){"0000"===t.respCode?e.$message.success(t.respMsg):e.$message.warning("功能点编码与该被测系统下的其他功能点重复")})).catch((function(t){e.$message.error("功能点编码与该被测系统下的其他功能点重复")}))},downloadTools:function(){window.location="http://10.101.167.184:8080/atf-data/atf-recorder.zip"},ruleRecord:function(){console.log("规则录入"),this.$refs.elelib.recordrule()},handleTabClick:function(e,t){console.log("handleTabClick",e,t),"详情"===e.label&&(this.$refs.elelib.maskFlag=!0)}}},"components",{"element-library":ls});var os=function(e){a("6ADj")},is=Object(m.a)(ns,(function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"page-base-inner"},[a("el-container",[a("el-main",[a("el-row",{staticClass:"topRow"},[a("el-form",{staticClass:"titleFormStyle",attrs:{model:e.titleForm,"label-width":"80px"}},[a("el-col",{attrs:{span:12}},[a("el-form-item",{attrs:{label:"被测系统"}},[a("el-select",{on:{change:e.handleSelectChange},model:{value:e.titleForm.selectedSystem,callback:function(t){e.$set(e.titleForm,"selectedSystem",t)},expression:"titleForm.selectedSystem"}},[a("el-input",{model:{value:e.titleForm.searchSystem,callback:function(t){e.$set(e.titleForm,"searchSystem",t)},expression:"titleForm.searchSystem"}}),e._v(" "),e._l(e.searchedSystem(e.autRespDTOList),(function(e){return a("el-option",{key:e.id,attrs:{value:e.id,label:e.nameMedium}})}))],2)],1)],1),e._v(" "),a("el-col",{attrs:{span:12}},[a("el-form-item",{attrs:{label:"功能点"}},[a("el-select",{on:{change:e.handleFuncChange},model:{value:e.titleForm.selectedFunc,callback:function(t){e.$set(e.titleForm,"selectedFunc",t)},expression:"titleForm.selectedFunc"}},[a("el-input",{model:{value:e.titleForm.funcSearch,callback:function(t){e.$set(e.titleForm,"funcSearch",t)},expression:"titleForm.funcSearch"}}),e._v(" "),e._l(e.transactRespDTOs,(function(e){return a("el-option",{key:e.id,attrs:{value:e.id,label:e.nameMedium}})}))],2)],1)],1)],1),e._v(" "),a("el-button",{attrs:{type:"primary",size:"small",icon:"el-icon-upload"},on:{click:e.ruleRecord}},[e._v("录制规则录入")]),e._v(" "),a("el-button",{attrs:{type:"primary",size:"small",icon:"el-icon-download"},on:{click:e.downloadTools}},[e._v("录制工具下载")])],1),e._v(" "),a("el-tabs",{staticClass:"mainTab",attrs:{type:"border-card"},on:{"tab-click":e.handleTabClick}},[a("el-tab-pane",{staticClass:"detailTabPane",attrs:{label:"详情"}},[a("el-form",{staticClass:"detailForm",attrs:{"label-width":"60px",model:e.detailForm}},[a("el-form-item",{attrs:{label:"编码"}},[a("el-input",{model:{value:e.detailForm.code,callback:function(t){e.$set(e.detailForm,"code",t)},expression:"detailForm.code"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"名称"}},[a("el-input",{model:{value:e.detailForm.nameMedium,callback:function(t){e.$set(e.detailForm,"nameMedium",t)},expression:"detailForm.nameMedium"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"描述"}},[a("el-input",{attrs:{type:"textarea"},model:{value:e.detailForm.descShort,callback:function(t){e.$set(e.detailForm,"descShort",t)},expression:"detailForm.descShort"}})],1),e._v(" "),a("div",{staticClass:"buttonDiv"},[a("el-button",{attrs:{type:"warning",size:"small",plain:""}},[e._v("取消")]),e._v(" "),a("el-button",{attrs:{type:"success",size:"small"},on:{click:e.modifySingleTransact}},[e._v("修改")])],1)],1),e._v(" "),a("div",{staticClass:"copyRightDiv"},[e._v("\n              Copyright © 1998－2019 BUPT All Rights Reserved\n              教育部信息网络工程研究中心 版权所有\n            ")])],1),e._v(" "),a("el-tab-pane",{attrs:{label:"元素库"}},[a("element-library",{ref:"elelib",attrs:{transactId:Number(e.id),repositoryId:Number(e.elementRepositoryId),autId:Number(e.autId),omClassRespDTOList:e.omClassRespDTOList}})],1)],1)],1)],1)],1)}),[],!1,os,"data-v-8641bc18",null).exports,rs={components:{ElSlPanel:g.a},mixins:[L.a],name:"recordTransact",data:function(){return{autId:"",autRespDTOList:[],ownedSystem:"",currentPage:1,creatorId:3,totalCount:30,pageSize:10,tableData:[],selectedRowIndex:"",dialogModelFlag:0,dialogVisible:!1,dialogImportVisible:!1,dialogFailVisible:!1,successDialogVisible:!1,ruleForm:{nameMedium:"",functionType:"UI",code:"",descShort:""},rules:{nameMedium:[{validator:function(e,t,a){return""===t?a(new Error("nameMedium 不能为空")):a()},trigger:"blur"}]},fileList:{},fileName:"",rowInfo:{},updateId:"",isAdded:!0,elementRepositoryId:"",objectRepositoryId:""}},created:function(){this.autId=this.$route.query.autId,this.ownedSystem=sessionStorage.getItem("autName"),this.getAllFunction(),this.getAllSystem()},mounted:function(){},computed:{changedParams:function(){return{autId:this.autId,currentPage:this.currentPage,orderColumns:"modified_time",orderType:"desc",pageSize:this.pageSize}},dialogTitle:function(){return["添加功能点","导入","修改功能点","操作失败","该系统无功能点,请添加功能点"][this.dialogModelFlag]},dialogOperateButton:function(){return["新增","确定","修改","确定","新增"][this.dialogModelFlag]},importURL:function(){return"http://10.101.167.184:8080/atfcloud2.0a/transactController/batchImportTransact"}},methods:{addFunctionButton:function(){this.isAdded=!0,this.dialogModelFlag=0,this.dialogVisible=!0},importFunctionButton:function(){this.dialogModelFlag=1,this.dialogImportVisible=!0},updateFunctionButton:function(){if(""===this.selectedRowIndex)this.$message.error("请先选中一个功能点");else{this.dialogModelFlag=2,this.dialogVisible=!0,this.isAdded=!1;var e=this.rowInfo,t=e.nameMedium,a=e.code,s=e.descShort;this.ruleForm={nameMedium:t,code:a,descShort:s}}},failedOperation:function(){this.dialogModelFlag=3,this.dialogFailVisible=!0},changeAutId:function(e){for(var t=0;t<this.autRespDTOList.length;t++)if(this.autRespDTOList[t].nameMedium===e){this.autId=this.autRespDTOList[t].id;break}this.getAllFunction()},selectRow:function(e,t){this.rowInfo=t,this.selectedRowIndex=e,this.updateId=t.id,this.elementRepositoryId=this.rowInfo.elementRepositoryId,this.objectRepositoryId=this.rowInfo.objectRepositoryId,console.log("选中的行"+this.rowInfo.transType,this.elementRepositoryId,this.objectRepositoryId,this.rowInfo)},toDatail:function(e,t,a){console.log("recordDetail",e,t,a),this.$router.push({path:"/recordFunction/RecordManagementRouter/recordDetail",query:{id:e,autId:t,elementRepositoryId:a}})},cancelButton:function(){this.dialogImportVisible=!1,this.dialogVisible=!1,this.dialogFailVisible=!1},handleOnChange:function(e){this.$message.success("选择文件成功"),this.fileName=e.name},handleBeforeClose:function(e){return e(),!0},downloadTemplate:function(){window.location.href=this.address4+"atfcloud2.0a/transactController/downloadTemplate"},handleRemove:function(e,t){this.fileName="删除"+e.name},handlePreview:function(e){this.fileName="点击"+e.name},handleExceed:function(e,t){this.$message.warning("只允许上传1个文件")},handleSizeChange:function(e){this.pageSize=e,this.getAllFunction()},handleCurrentChange:function(e){this.currentPage=e,this.getAllFunction()},getAllSystem:function(){var e=this;d({url:"/aut/queryListAut",method:"POST",params:{}}).then((function(t){e.autRespDTOList=t.autRespDTOList})).catch((function(e){console.log("获取失败",e)}))},getAllFunction:function(){var e=this;console.log("pagedBatchQueryTransact",this.changedParams),d({url:"/transactController/pagedBatchQueryTransact",method:"post",params:this.changedParams}).then((function(t){if(0===t.list.length)e.dialogModelFlag=4,e.dialogVisible=!0,e.tableData=[];else{for(var a=0;a<t.list.length;a++)1==t.list[a].transType?t.list[a].transType="UI":t.list[a].transType="接口";e.tableData=t.list,e.totalCount=t.totalCount}}),(function(e){console.log("pagination查询出错"+e)})).catch((function(e){console.log("pagination查询出错"+e)}))},submitForm:function(e){var t=this,a=this,s=""===a.ruleForm.nameMedium;this.$message.info("nameMedium: ".concat(a.ruleForm.nameMedium,"\n\t\t\t\t\t\t\t\t\tfunctionType: ").concat(a.ruleForm.functionType,"\n\t\t\t\t\t\t\t\t\tcode: ").concat(a.ruleForm.code,"\n\t\t\t\t\t\t\t\t\tdescShort: ").concat(a.ruleForm.descShort)),s?this.$message.warning("*为必填项"):a.$refs[e].validate((function(e){e?"新增"==document.getElementById("buttonName").innerText?"UI"===a.ruleForm.functionType?d({url:"/transactController/addSingleTransact",method:"POST",params:{autId:a.autId,code:a.ruleForm.code,descShort:a.ruleForm.descShort,nameMedium:a.ruleForm.nameMedium}}).then((function(e){console.log("添加成功",e),a.dialogVisible=!1,a.successDialogVisible=!0,a.getAllFunction()})).catch((function(e){console.log("添加失败",e),"10011000"==e.respCode&&a.$message.error(e.respMsg)})):d({url:"/interface/addSingleInterface",method:"POST",params:{creatorId:"3",description:a.ruleForm.descShort,interfaceCode:a.ruleForm.code,name:a.ruleForm.nameMedium,systemId:a.autId}}).then((function(e){console.log("接口添加成功",e),a.dialogVisible=!1,a.getAllFunction()})).catch((function(e){console.log("接口添加失败",e),"10011000"==e.respCode&&a.$message.error(e.respMsg)})):"修改"==document.getElementById("buttonName").innerText&&d({url:"/transactController/modifySingleTransact",method:"POST",params:{code:a.ruleForm.code,descShort:a.ruleForm.descShort,id:a.updateId,nameMedium:a.ruleForm.nameMedium}}).then((function(e){console.log("修改成功",e),a.dialogVisible=!1,a.getAllFunction()})).catch((function(e){console.log("添加失败",e),"10011000"===e.respCode&&t.$message.warning(e.respMsg)})):console.log("验证失败")}))},cancelButtonClicked:function(){this.dialogVisible=!1,this.successDialogVisible=!1},importData:function(){var e=this,t=new FormData(document.getElementById("formData"));t.append("autId",this.autId),t.append("creatorId",this.creatorId),d({url:"transactController/batchImportTransact",method:"POST",params:t}).then((function(t){e.$message.success(t.respMsg),e.dialogImportVisible=!1,e.getAllFunction(),e.fileList=[],e.fileName=""})).catch((function(t){e.$message.error("上传失败")}))}}};var cs=function(e){a("DQMu")},ds=Object(m.a)(rs,(function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"page-base-inner"},[a("el-container",[a("el-header",{staticClass:"headerRow"},[a("el-button",{attrs:{type:"primary",icon:"el-icon-plus",size:"small"},on:{click:e.addFunctionButton}},[e._v("添加")]),e._v(" "),a("el-button",{attrs:{type:"primary",icon:"el-icon-folder-add",size:"small"},on:{click:e.importFunctionButton}},[e._v("批量导入")]),e._v(" "),a("el-button",{attrs:{type:"primary",icon:"el-icon-edit-outline",size:"small"},on:{click:e.updateFunctionButton}},[e._v("修改")]),e._v(" "),a("br")],1),e._v(" "),a("el-main",{staticClass:"el-main-base-inner"},[a("div",{staticClass:"row"},[a("span",{staticClass:"spanRow"},[e._v("功能点")])]),e._v(" "),a("el-row",[a("el-col",{staticClass:"systemCol"},[a("span",{staticClass:"ownedSystem"},[e._v("所属被测系统")])]),e._v(" "),a("el-col",{attrs:{span:4}},[a("el-select",{attrs:{placeholder:"所属被测系统"},on:{change:e.changeAutId},model:{value:e.ownedSystem,callback:function(t){e.ownedSystem=t},expression:"ownedSystem"}},e._l(e.autRespDTOList,(function(t,s){return a("el-option",{key:s,attrs:{value:t.nameMedium}},[e._v(e._s(t.nameMedium))])})),1)],1)],1),e._v(" "),a("el-table",{ref:"singleTable",staticClass:"table",staticStyle:{"margin-top":"15px"},attrs:{data:e.tableData,"default-sort":{prop:"modifiedTime",order:"descending"},stripe:"","highlight-current-row":"",border:""}},[a("el-table-column",{attrs:{label:"选择",width:"50px",align:"center"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("el-radio",{attrs:{label:t.$index},on:{change:function(a){return e.selectRow(t.$index,t.row)}},model:{value:e.selectedRowIndex,callback:function(t){e.selectedRowIndex=t},expression:"selectedRowIndex"}},[e._v(" ")])]}}])}),e._v(" "),a("el-table-column",{attrs:{label:"行号",width:"50px",align:"center",type:"index"}}),e._v(" "),a("el-table-column",{attrs:{prop:"code",label:"编码",align:"center"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("a",{staticClass:"numberA",on:{click:function(a){return a.preventDefault(),e.toDatail(t.row.id,t.row.autId,t.row.elementRepositoryId)}}},[e._v(e._s(t.row.code))])]}}])}),e._v(" "),a("el-table-column",{attrs:{prop:"nameMedium",label:"名称",align:"center"}}),e._v(" "),a("el-table-column",{attrs:{prop:"transType",label:"类型",align:"center"}}),e._v(" "),a("el-table-column",{attrs:{prop:"descShort",label:"描述",align:"center"}}),e._v(" "),a("el-table-column",{attrs:{prop:"createTime",label:"创建时间",align:"center",formatter:e.transTime,sortable:""}}),e._v(" "),a("el-table-column",{attrs:{prop:"modifiedTime",label:"修改时间",align:"center",formatter:e.transTime,sortable:""}})],1),e._v(" "),a("div",[a("el-col",{staticClass:"footSelect"},[a("el-pagination",{attrs:{"page-sizes":[5,10,20,50],"current-page":e.currentPage,"page-size":e.pageSize,total:e.totalCount,layout:"total, sizes, prev ,pager ,next, jumper"},on:{"size-change":e.handleSizeChange,"current-change":e.handleCurrentChange}})],1)],1),e._v(" "),a("el-dialog",{attrs:{width:"26%",title:e.dialogTitle,visible:e.dialogVisible,"before-close":e.handleBeforeClose},on:{"update:visible":function(t){e.dialogVisible=t}}},[a("el-form",{ref:"ruleForm",attrs:{model:e.ruleForm,rules:e.rules,"status-icon":""}},[a("el-form-item",{staticClass:"formItem",attrs:{label:"名称","label-width":"110px",prop:"nameMedium"}},[a("el-input",{staticClass:"formInput",attrs:{placeholder:"必输项"},model:{value:e.ruleForm.nameMedium,callback:function(t){e.$set(e.ruleForm,"nameMedium",t)},expression:"ruleForm.nameMedium"}}),e._v(" "),a("span",{staticClass:"spanTextColor"},[e._v("*")])],1),e._v(" "),e.isAdded?a("el-form-item",{staticClass:"formItem",attrs:{label:"类型","label-width":"110px",prop:"functionType"}},[a("el-select",{staticClass:"formInput",model:{value:e.ruleForm.functionType,callback:function(t){e.$set(e.ruleForm,"functionType",t)},expression:"ruleForm.functionType"}},[a("el-option",{attrs:{value:"UI",selected:"true"}}),e._v(" "),a("el-option",{attrs:{value:"接口"}})],1)],1):e._e(),e._v(" "),a("el-form-item",{staticClass:"formItem",attrs:{label:"编码","label-width":"110px",prop:"code"}},[a("el-input",{staticClass:"formInput",attrs:{placeholder:"为空时自动生成"},model:{value:e.ruleForm.code,callback:function(t){e.$set(e.ruleForm,"code",t)},expression:"ruleForm.code"}})],1),e._v(" "),a("el-form-item",{staticClass:"formItem",attrs:{label:"描述","label-width":"110px",prop:"descShort"}},[a("el-input",{staticClass:"formInput",attrs:{type:"textarea",cols:"5",rows:"5"},model:{value:e.ruleForm.descShort,callback:function(t){e.$set(e.ruleForm,"descShort",t)},expression:"ruleForm.descShort"}})],1),e._v(" "),a("hr",{attrs:{color:"#F5F5F5"}}),e._v(" "),a("el-form-item",[a("div",{staticClass:"dialogBottom"},[a("el-button",{attrs:{id:"buttonName",type:"primary",size:"small"},on:{click:function(t){return e.submitForm("ruleForm")}}},[e._v(e._s(e.dialogOperateButton))]),e._v(" "),a("el-button",{attrs:{type:"danger",size:"small",plain:""},on:{click:e.cancelButton}},[e._v("取消")])],1)])],1)],1),e._v(" "),a("el-dialog",{attrs:{width:"26%",title:e.dialogTitle,"before-close":e.handleBeforeClose,visible:e.dialogImportVisible},on:{"update:visible":function(t){e.dialogImportVisible=t}}},[a("el-form",{attrs:{action:e.importURL,enctype:"multipart/www-form-data",method:"post",id:"formData"}},[a("el-upload",{ref:"upload",attrs:{limit:1,action:e.importURL,"auto-upload":!1,"file-list":e.fileList,"on-preview":e.handlePreview,"on-remove":e.handleRemove,"on-exceed":e.handleExceed,"on-change":e.handleOnChange}},[a("el-button",{staticClass:"btnSelectFile",attrs:{slot:"trigger",type:"success",size:"small",plain:""},slot:"trigger"},[e._v("选择文件")]),e._v(" "),a("el-input",{staticClass:"formInput",attrs:{placeholder:"请选择导入的文件",disabled:"true"},model:{value:e.fileName,callback:function(t){e.fileName=t},expression:"fileName"}})],1),e._v(" "),a("hr",{attrs:{color:"#F5F5F5"}}),e._v(" "),a("el-form-item",[a("div",{staticClass:"dialogImportBottom"},[a("div",[a("el-button",{attrs:{type:"primary",icon:"el-icon-download",size:"small"},on:{click:e.downloadTemplate}},[e._v("模板下载")])],1),e._v(" "),a("div",[a("el-button",{attrs:{type:"primary",size:"small"},on:{click:e.importData}},[e._v("导入")]),e._v(" "),a("el-button",{attrs:{size:"small",type:"warning",plain:""},on:{click:e.cancelButton}},[e._v("取消")])],1)])])],1)],1),e._v(" "),a("el-dialog",{attrs:{width:"27%",title:e.dialogTitle,visible:e.dialogFailVisible,"before-close":e.handleBeforeClose},on:{"update:visible":function(t){e.dialogFailVisible=t}}},[a("el-form",[a("el-form",[a("el-form-item",{attrs:{"label-width":"10px"}},[a("p",{staticClass:"failContent"},[e._v("请选择一个功能点")])])],1),e._v(" "),a("hr",{attrs:{width:"100%",color:"#F5F5F5"}}),e._v(" "),a("el-form-item",[a("div",{staticClass:"dialogFailBottom"},[a("el-button",{attrs:{type:"success",size:"small"},on:{click:e.cancelButton}},[e._v("确定")])],1)])],1)],1),e._v(" "),a("el-dialog",{attrs:{width:"25%",title:"添加成功",visible:e.successDialogVisible,"before-close":e.handleBeforeClose},on:{"update:visible":function(t){e.successDialogVisible=t}}},[a("el-form",[a("el-form-item",{attrs:{"label-width":"50px"}},[a("h3",[e._v("操作成功")])]),e._v(" "),a("hr",{attrs:{width:"100%",color:"#F5F5F5"}}),e._v(" "),a("el-form-item",{staticClass:"formFoot",attrs:{"label-width":"200px"}},[a("el-button",{attrs:{type:"primary",size:"small"},on:{click:e.cancelButtonClicked}},[e._v("确定")]),e._v(" "),a("el-button",{attrs:{type:"primary",size:"small"}},[e._v("进入功能点")])],1)],1)],1)],1)],1)],1)}),[],!1,cs,"data-v-e2c54f14",null).exports,us={mixins:[L.a],name:"RuleInput",data:function(){return{ruleName:sessionStorage.getItem("ruleName"),ruleDesc:sessionStorage.getItem("ruleDesc"),uiId:sessionStorage.getItem("uiId"),modal:{type:"",elementId:"",index:""},elements:{},elementRepositoryId:sessionStorage.getItem("elementRepositoryId"),isRestraint:!1,inputMust:!1,inputValue:"",inputMinLength:"",inputMaxLength:"",inputElement:[],setOrder:-1,selectValue:[],clickButton:[],selectEleVal:"",dialogVisible:!1,singleButtonValue:[{value:"a",order:"3",elementId:69}],checkPoint:{checkStyle:"弹窗",checkInfo:""},checkStyleList:[{value:"popup",label:"弹窗"}]}},created:function(){},methods:{saveRule:function(){var e=this,t={},a=parseInt(sessionStorage.getItem("transactId"));t.inputElement=this.inputElement,t.selectValue=this.selectValue,t.clickButton=this.clickButton,t.singleButtonValue=[],t.uiId=this.uiId,t.repositoryId=this.elementRepositoryId,t.nameMedium=this.ruleName,t.descShort=this.ruleDesc,t.transId=a,d({url:"/regulationController/saveRegulation",method:"post",params:t}).then((function(t){e.$alert("保存规则成功","成功",{confirmButtonText:"确定"})}),(function(t){e.$alert("保存规则失败","失败",{confirmButtonText:"确定"})})).catch((function(t){e.$alert("保存规则失败","失败",{confirmButtonText:"确定"})}))},checkVisible:function(){this.dialogVisible=!this.dialogVisible},setCheckPoint:function(){this.dialogVisible=!this.dialogVisible}}};var ms=function(e){a("PpDn")},ps={path:"/recordFunction",name:"RecordFunction",component:Aa,redirect:"/recordFunction/RecordManagementRouter/recordManagement",meta:{name:"录制功能"},children:[{path:"RecordManagementRouter",name:"RecordManagementRouter",component:Ea,redirect:"/recordFunction/RecordManagementRouter/recordManagement",meta:{name:"录制管理",parent:"RecordFunction",icon:"el-icon-video-camera"},children:[{path:"recordManagement",name:"RecordManagement",component:Ua,meta:{name:"录制管理",parent:"RecordFunction",icon:"el-icon-video-camera",hide:!0}},{path:"recordTransact",name:"RecordTransact",component:ds,meta:{name:"录制功能点管理",parent:"recordFunction",icon:"el-icon-view",hide:!0}},{path:"recordDetail",name:"RecordDetail",component:is,meta:{name:"UI管理",parent:"recordFunction",icon:"el-icon-view",hide:!0}}]},{path:"recordTransact",name:"RecordTransact",component:ds,hidden:!0,meta:{name:"功能点",parent:"RecordFunction",hide:!0}},{path:"ruleInput",name:"RuleInput",component:Object(m.a)(us,(function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"page-banner"},[a("el-form",{ref:"form"},[a("el-row",[a("el-col",{attrs:{span:5}},[a("el-form-item",{attrs:{label:"规则名称","label-width":"30%"}},[a("el-input",{attrs:{disabled:!0},model:{value:e.ruleName,callback:function(t){e.ruleName=t},expression:"ruleName"}})],1)],1),e._v(" "),a("el-col",{attrs:{span:5,offset:1}},[a("el-form-item",{attrs:{label:"规则描述","label-width":"30%"}},[a("el-input",{attrs:{disabled:!0},model:{value:e.ruleDesc,callback:function(t){e.ruleDesc=t},expression:"ruleDesc"}})],1)],1),e._v(" "),a("el-col",{attrs:{span:10,offset:2}},[a("el-button",{attrs:{icon:"el-icon-folder"},on:{click:e.saveRule}},[e._v("\n                    保存规则\n                ")]),e._v(" "),a("el-button",{attrs:{icon:"el-icon-edit"},on:{click:e.checkVisible}},[e._v("\n                    设置检测点类型\n                ")])],1)],1)],1),e._v(" "),a("el-divider"),e._v(" "),a("el-dialog",{attrs:{width:"50%",title:"设置检查点类型",visible:e.dialogVisible},on:{"update:visible":function(t){e.dialogVisible=t}}},[a("el-form",{attrs:{model:e.checkPoint}},[a("el-row",[a("el-col",{attrs:{span:10}},[a("el-form-item",{attrs:{label:"检查点类型及内容","label-width":"60%"}},[a("el-select",{attrs:{size:"small"},model:{value:e.checkPoint.checkStyle,callback:function(t){e.$set(e.checkPoint,"checkStyle",t)},expression:"\n\t\t\t\t\t\t\tcheckPoint.checkStyle\n\t\t\t\t\t\t"}},e._l(e.checkStyleList,(function(e){return a("el-option",{key:e.id,attrs:{label:e.nameMedium,value:e.id}})})),1)],1)],1),e._v(" "),a("el-col",{staticClass:"down",attrs:{span:8,offset:1}},[a("el-input",{attrs:{size:"small"},model:{value:e.checkPoint.checkInfo,callback:function(t){e.$set(e.checkPoint,"checkInfo",t)},expression:"checkPoint.checkInfo"}})],1)],1),e._v(" "),a("el-row",[a("el-col",{attrs:{span:6,offset:8}},[a("el-button",{attrs:{type:"primary",size:"small"},on:{click:e.setCheckPoint}},[e._v("确定")]),e._v(" "),a("el-button",{attrs:{type:"primary",size:"small"},on:{click:function(t){e.dialogVisible=!e.dialogVisible}}},[e._v("取消")])],1)],1)],1)],1)],1)}),[],!1,ms,"data-v-2006c594",null).exports,hidden:!0,meta:{name:"规则录入",parent:"RecordFunction",hide:!0}},{path:"ruleExecution",name:"RuleExecution",component:Ka,meta:{name:"规则执行",parent:"RecordFunction",icon:"el-icon-video-play"}},{path:"queryRuleExecution",name:"QueryRuleExecution",component:Ga,meta:{name:"规则执行查询",parent:"RecordFunction",icon:"el-icon-search"}},{path:"queryExecutionRecord",name:"QueryExecutionRecord",component:ts,meta:{name:"执行记录查询",parent:"RecordFunction",icon:"el-icon-search"}}]};var hs=function(e){a("A0I5")},fs=Object(m.a)({name:"index",data:function(){return{active:0}},methods:{next:function(){this.active++>5&&(this.active=0)}}},(function(){var e=this.$createElement,t=this._self._c||e;return t("div",{staticClass:"contain"},[t("div",{staticClass:"next-content"},[t("router-view")],1)])}),[],!1,hs,"data-v-50d17031",null).exports,vs={components:{},mixins:[L.a],props:{active:Number},data:function(){return{}},watch:{},computed:{},methods:{},created:function(){},mounted:function(){}};var gs=function(e){a("y1IR")},bs=Object(m.a)(vs,(function(){var e=this.$createElement,t=this._self._c||e;return t("div",{staticClass:"stepsContain"},[t("el-steps",{attrs:{active:this.active,"finish-status":"success"}},[t("el-step",{attrs:{title:"添加功能点"}}),this._v(" "),t("el-step",{attrs:{title:"维护元素库"}}),this._v(" "),t("el-step",{attrs:{title:"配置用例"}}),this._v(" "),t("el-step",{attrs:{title:"执行用例"}}),this._v(" "),t("el-step",{attrs:{title:"查看结果"}})],1)],1)}),[],!1,gs,"data-v-feef9606",null).exports,ys={components:{steps:bs},data:function(){return{formData:{name:"",code:"",desc:""},rules:{name:[{required:!0,message:"请输入功能点名称",trigger:"blur"}]}}},methods:{submitForm:function(e){var t=this;this.$refs[e].validate((function(e){var a={autId:1596,transactId:1776,sceneId:22,testPlanId:22};if(t.$router.push({name:"QuicklyElement",query:{autId:a.autId,transactId:a.transactId,sceneId:a.sceneId,testPlanId:a.testPlanId}}),!e)return console.log("error submit!!"),!1}))},resetForm:function(e){this.$refs[e].resetFields()}}};var _s=function(e){a("ppr8")},ws={components:{steps:bs,elementLibrary:qe},data:function(){return{transId:"",autId:""}},created:function(){console.log("this.$router"),console.log(this.$route),console.log("this.$router.query"),console.log(this.$route.query),this.transId=this.$route.query.transactId,this.autId=this.$route.query.autId},methods:{next:function(){this.$router.push({name:"QuicklyTemplate",query:this.$route.query})}}};var Cs=function(e){a("i4r3")},Is={components:{steps:bs,templateManage:tt},data:function(){return{transId:"",autId:""}},created:function(){console.log("this.$router"),console.log(this.$route),console.log("this.$router.query"),console.log(this.$route.query),this.transId=this.$route.query.transactId,this.autId=this.$route.query.autId},methods:{next:function(){this.$router.push({name:"QuicklyTemplate",query:this.$route.query})}}};var xs=function(e){a("/hik")},Ss={path:"/quicklyStart",name:"QuicklyStart",component:fs,redirect:"/quicklyStart/quicklyTransact",meta:{name:"快速开始"},children:[{path:"quicklyTransact",name:"QuicklyTransact",component:Object(m.a)(ys,(function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"contain"},[a("div",{staticClass:"header-content"},[a("steps",{attrs:{active:0}})],1),e._v(" "),a("el-row",{staticClass:"row-bg",attrs:{type:"flex",justify:"center"}},[a("el-col",{attrs:{span:12}},[a("el-card",{attrs:{shadow:"always"}},[a("div",{staticClass:"clearfix",attrs:{slot:"header"},slot:"header"},[a("span",[e._v("添加功能点")])]),e._v(" "),a("el-form",{ref:"form",attrs:{"label-position":"right","label-width":"200px",model:e.formData,rules:e.rules}},[a("el-form-item",{attrs:{label:"功能点名称:",prop:"name"}},[a("el-input",{model:{value:e.formData.name,callback:function(t){e.$set(e.formData,"name",t)},expression:"formData.name"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"编码:",prop:"code"}},[a("el-input",{model:{value:e.formData.code,callback:function(t){e.$set(e.formData,"code",t)},expression:"formData.code"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"描述:",prop:"desc"}},[a("el-input",{model:{value:e.formData.desc,callback:function(t){e.$set(e.formData,"desc",t)},expression:"formData.desc"}})],1),e._v(" "),a("el-form-item",[a("el-button",{attrs:{type:"primary"},on:{click:function(t){return e.submitForm("form")}}},[e._v("添加并进入下一步")]),e._v(" "),a("el-button",{on:{click:function(t){return e.resetForm("form")}}},[e._v("重置")])],1)],1)],1)],1)],1)],1)}),[],!1,_s,"data-v-3380d2d9",null).exports,meta:{name:"添加功能点",parent:"QuicklyStart"}},{path:"quicklyElement",name:"QuicklyElement",component:Object(m.a)(ws,(function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"contain"},[a("div",{staticClass:"header-content"},[a("steps",{attrs:{active:1}})],1),e._v(" "),a("el-row",{staticClass:"row-bg",attrs:{type:"flex",justify:"center"}},[a("el-col",{attrs:{span:24}},[a("element-library",{attrs:{transId:e.transId,autId:e.autId}})],1)],1),e._v(" "),a("el-row",{staticClass:"row-bg",attrs:{type:"flex",justify:"center"}},[a("el-col",{attrs:{span:6}},[a("el-button",{attrs:{type:"primary"},on:{click:function(t){return e.next()}}},[e._v("添加并进入下一步")])],1)],1)],1)}),[],!1,Cs,"data-v-f4b62fae",null).exports,meta:{name:"维护元素库",parent:"QuicklyStart"}},{path:"quicklyTemplate",name:"QuicklyTemplate",component:Object(m.a)(Is,(function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"contain"},[a("div",{staticClass:"header-content"},[a("steps",{attrs:{active:2}})],1),e._v(" "),a("el-row",{staticClass:"row-bg",attrs:{type:"flex",justify:"center"}},[a("el-col",{attrs:{span:24}},[a("template-manage",{attrs:{transId:e.transId,autId:e.autId,name:"用例"}})],1)],1),e._v(" "),a("el-row",{staticClass:"row-bg",attrs:{type:"flex",justify:"center"}},[a("el-col",{attrs:{span:6}},[a("el-button",{attrs:{type:"primary"},on:{click:function(t){return e.next()}}},[e._v("配置完成并进入下一步")])],1)],1)],1)}),[],!1,xs,"data-v-2e37873a",null).exports,meta:{name:"配置用例",parent:"QuicklyStart"}}]};s.default.use(f.a);var ks=f.a.prototype.push;f.a.prototype.push=function(e){return ks.call(this,e).catch((function(e){return e}))};var Ts=new f.a({routes:[{path:"/login",name:"Login",component:I,meta:{name:"登录",hide:!0}},{path:"/rigester",name:"Rigester",component:k,meta:{name:"注册",hide:!0}},{path:"/index",name:"Index",component:P,meta:{name:"首页"}},{path:"/",redirect:"/login",name:"default",meta:{name:"首页"}},Tt,vt,La,ps,J,Ss]}),Fs=a("KBne"),Ps=a.n(Fs);a("+eM2"),a("D66Q"),a("H1Ta");s.default.config.productionTip=!1,s.default.config.productionTip=!1,s.default.use(n.a),s.default.use(Ps.a),s.default.use(dt.a),window.activeMenu;Ts.beforeEach((function(e,t,a){window.activeMenu=e.meta&&e.meta.parent?e.meta.parent:e.name,e.meta&&e.meta.requiresAuth?(v.SessionStorage.get("xxx"),a()):a()})),Ts.afterEach((function(e,t){})),new s.default({el:"#app",router:Ts,components:{App:h},template:"<App/>"})},WeKU:function(e,t,a){},WzED:function(e,t,a){},XTV0:function(e,t,a){},XZiK:function(e,t,a){e.exports=a.p+"static/img/Operationflow.2dfa57d.png"},Y6ik:function(e,t,a){},Y6uN:function(e,t,a){},Yiy1:function(e,t,a){},alQj:function(e,t,a){},b0Va:function(e,t,a){},bE5C:function(e,t,a){},cFAo:function(e,t,a){},chBD:function(e,t,a){},e0WW:function(e,t,a){},fGlL:function(e,t,a){},gXHY:function(e,t,a){},gZsn:function(e,t,a){"use strict";a.d(t,"a",(function(){return s})),a.d(t,"b",(function(){return l}));var s=function(){var e=this.$createElement;return(this._self._c||e)("div")},l=[]},gfBH:function(e,t,a){},i4r3:function(e,t,a){},imdU:function(e,t,a){},j3ZR:function(e,t,a){},kPNG:function(e,t,a){},mYcJ:function(e,t,a){},mqrN:function(e,t,a){},nhqG:function(e,t,a){},ppr8:function(e,t,a){},rwCz:function(e,t,a){},sFf4:function(e,t,a){},sXU1:function(e,t,a){},sxxN:function(e,t,a){},"tJ9+":function(e,t,a){},tLXC:function(e,t,a){},wyxX:function(e,t,a){},x8a6:function(e,t){e.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAD8AAABACAYAAACtK6/LAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAAJcEhZcwAAEnQAABJ0Ad5mH3gAAAPhSURBVHhe7ZvNKzZRFMDPK8nCUpISUlYWFuwsSBZKsZJEWUgpG/IfsFFCUkqSsLKiiJJYSIqFhZUSUpIsLSR5X+eZc80zX8+duV8z43l/m5lzs/A7537M3LnPn7/fQJ5iRn5nB2BykgIOo6MAg4MU6EWP/NUVwNAQBZJoTIY6+c9PgM5OgNdXalBMcTHAwQFASQk1yCMvr1vaTWEhwPo6QF0dNYgjJz8/D7C5SYFh6usBlpcBioqoITpi8k9PAH19AG9v1BAjMzMALS0URCO6fJSZ2xQdHUL/UzT5OLs5D4FhEE7+6wtgfBzg9JQaEkrEBBTQNZi0iCPX1wDDwwAfH9SQG778wkI6xBmYgJDjP7c8Tm5JHeO52N8HWFujIJjgMZ+k5UwUzjLoL2/6qU0XnEdi/26/t5d+ceT9HWB6mgIvXnns7nNzFPwCDg8Bbm4ocOKV39pK9zh3g0N4Y4MCJ055rPr2NgUJAB9bV1YokCCg+k75i4vkVJ09rzc0yCcgoPq2PP7B0hIFMeN+UVGRgONjT2FteXwySsIMH/SGJpsAnPkvLymwsOVPTugmRnivprIJODqiGwtLHl9e7u8zt7HBE2fIJMDV9S3552drxzUuwoozRBOA8xquaIQl//KifpbHLefzc4DSUmoIIKo4QyQBvvIPD5mLMtheO+607u4GJ0BUnCGSgKzhbcnf3WUuSnB/ZAhKgKw4gnNViFdXB7e3dMPkVRH0dcWdAFXiIjtMj48/Oz0FymZ63mclloDe3vjEXaipPE+cgQmYmKBAEEXiiLx8WHEVKBRH5ORTLI4UQMG3f3U1hRFIuTgiXvnFxejLjAiqxSsrfz5qWPI1NZlLZHQnQEfFa2vphslXVWUuQuhKgKaunj3ELfmyMrkTD6oToEscl9qKCgqYfHm59Zwsg6oE6BJHfOVFZ3w3sgnQKY60tjp6uCWPCJ5u8CCaAN3iSFsb3VjY8vhtm/fuHZaoCTAhjp+uGhspsLDlcTyMjFCggLAJMCGOuLo8YssjTU1Kz7lxE2BKHAs7MECBjVMeZ8LubgoUEZQAU+JIe7vvuT2nPNLTo7b6iDsBJsUDqo545bH6Y2MUKIQlwKQ4ElB15P/hBA/YVVZX1Xd/00xN5XTwl0d0dX9T4H4D58EtWB7p6gLo76cgReDucIiNFv4JTNMTlCwRTmHmrjyCLz2zswDNzdSQYCIeP+VXPpu8PHicTd4eOWck6XSmxI8N+GPeD1wG8SRHnCsBdvOzM6l9CLHKZ2P6aVDhr6zk5Rm6k5DIn5b5kXc/KsxFlBVCxbf7kJiRTyhis/0vIY/lAf4BvWvwXq2OW7IAAAAASUVORK5CYII="},xWM8:function(e,t,a){},y1IR:function(e,t,a){},y7S6:function(e,t,a){}},[["Vtdi",1,2]]]);
//# sourceMappingURL=0.fea67cadb09b250a4a0d.js.map